!function(){var e;window.PieCharts?e=window.PieCharts:(e={},window.PieCharts=e,e.themes={},e.maps={},e.inheriting={},e.charts=[],e.onReadyArray=[],e.useUTC=!1,e.updateRate=30,e.uid=0,e.lang={},e.translations={},e.mapTranslations={},e.windows={},e.initHandlers=[]);e.Class=function(a){var b=function(){arguments[0]!==e.inheriting&&(this.events={},this.construct.apply(this,arguments))};a.inherits?(b.prototype=new a.inherits(e.inheriting),b.base=a.inherits.prototype,delete a.inherits):(b.prototype.createEvents=
function(){for(var a=0,b=arguments.length;b>a;a++)this.events[arguments[a]]=[]},b.prototype.listenTo=function(a,b,c){this.removeListener(a,b,c);a.events[b].push({handler:c,scope:this})},b.prototype.addListener=function(a,b,c){this.removeListener(this,a,b);this.events[a].push({handler:b,scope:c})},b.prototype.removeListener=function(a,b,c){if(a&&a.events)for(a=a.events[b],b=a.length-1;0<=b;b--)a[b].handler===c&&a.splice(b,1)},b.prototype.fire=function(a,b){for(var c=this.events[a],e=0,k=c.length;k>
e;e++){var l=c[e];l.handler.call(l.scope,b)}});for(var c in a)b.prototype[c]=a[c];return b};e.addChart=function(a){e.updateInt||(e.updateInt=setInterval(function(){e.update()},Math.round(1E3/e.updateRate)));e.charts.push(a)};e.removeChart=function(a){for(var b=e.charts,c=b.length-1;0<=c;c--)b[c]==a&&b.splice(c,1);0===b.length&&e.updateInt&&(clearInterval(e.updateInt),e.updateInt=0/0)};e.isModern=!0;e.getIEVersion=function(){var a,b,c=0;return"Microsoft Internet Explorer"==navigator.appName&&(a=navigator.userAgent,
b=/MSIE ([0-9]{1,}[.0-9]{0,})/,null!==b.exec(a)&&(c=parseFloat(RegExp.$1))),c};e.applyLang=function(a,b){var c=e.translations;b.dayNames=e.extend({},e.dayNames);b.shortDayNames=e.extend({},e.shortDayNames);b.monthNames=e.extend({},e.monthNames);b.shortMonthNames=e.extend({},e.shortMonthNames);c&&(c=c[a])&&(e.lang=c,c.monthNames&&(b.dayNames=e.extend({},c.dayNames),b.shortDayNames=e.extend({},c.shortDayNames),b.monthNames=e.extend({},c.monthNames),b.shortMonthNames=e.extend({},c.shortMonthNames)))};
e.IEversion=e.getIEVersion();9>e.IEversion&&0<e.IEversion&&(e.isModern=!1,e.isIE=!0);e.dx=0;e.dy=0;(document.addEventListener||window.opera)&&(e.isNN=!0,e.isIE=!1,e.dx=.5,e.dy=.5);document.attachEvent&&(e.isNN=!1,e.isIE=!0,e.isModern||(e.dx=0,e.dy=0));window.chrome&&(e.chrome=!0);e.handleMouseUp=function(a){for(var b=e.charts,c=0;c<b.length;c++){var d=b[c];d&&d.handleReleaseOutside&&d.handleReleaseOutside(a)}};e.handleMouseMove=function(a){for(var b=e.charts,c=0;c<b.length;c++){var d=b[c];d&&d.handleMouseMove&&
d.handleMouseMove(a)}};e.handleWheel=function(a){for(var b=e.charts,c=0;c<b.length;c++){var d=b[c];if(d&&d.mouseIsOver){d.mouseWheelScrollEnabled||d.mouseWheelZoomEnabled?d.handleWheel&&d.handleWheel(a):a.stopPropagation&&a.stopPropagation();break}}};e.resetMouseOver=function(){for(var a=e.charts,b=0;b<a.length;b++){var c=a[b];c&&(c.mouseIsOver=!1)}};e.ready=function(a){e.onReadyArray.push(a)};e.handleLoad=function(){e.isReady=!0;for(var a=e.onReadyArray,b=0;b<a.length;b++){var c=a[b];isNaN(e.processDelay)?
c():setTimeout(c,e.processDelay*b)}};e.addInitHandler=function(a,b){e.initHandlers.push({method:a,types:b})};e.callInitHandler=function(a){var b=e.initHandlers;if(e.initHandlers)for(var c=0;c<b.length;c++){var d=b[c];d.types?e.isInArray(d.types,a.type)&&d.method(a):d.method(a)}};e.getUniqueId=function(){return e.uid++,"PieChartsEl-"+e.uid};e.isNN&&(document.addEventListener("mousemove",e.handleMouseMove,!0),document.addEventListener("mouseup",e.handleMouseUp,!0),window.addEventListener("load",e.handleLoad,
!0),window.addEventListener("DOMMouseScroll",e.handleWheel,!0),document.addEventListener("mousewheel",e.handleWheel,!0));e.isIE&&(document.attachEvent("onmousemove",e.handleMouseMove),document.attachEvent("onmouseup",e.handleMouseUp),window.attachEvent("onload",e.handleLoad));e.clear=function(){var a=e.charts;if(a)for(var b=a.length-1;0<=b;b--)a[b].clear();e.updateInt&&clearInterval(e.updateInt);e.charts=[];e.isNN&&(document.removeEventListener("mousemove",e.handleMouseMove,!0),document.removeEventListener("mouseup",
e.handleMouseUp,!0),window.removeEventListener("load",e.handleLoad,!0),window.removeEventListener("DOMMouseScroll",e.handleWheel,!0),document.removeEventListener("mousewheel",e.handleWheel,!0));e.isIE&&(document.detachEvent("onmousemove",e.handleMouseMove),document.detachEvent("onmouseup",e.handleMouseUp),window.detachEvent("onload",e.handleLoad))};e.makeChart=function(a,b,c){var d=b.type,h=b.theme;e.isString(h)&&(h=e.themes[h],b.theme=h);var f;switch(d){case "serial":f=new e.PieSerialChart(h);break;
case "xy":f=new e.PieXYChart(h);break;case "pie":f=new e.PiePieChart(h);break;case "radar":f=new e.PieRadarChart(h);break;case "gauge":f=new e.PieAngularGauge(h);break;case "funnel":f=new e.PieFunnelChart(h);break;case "map":f=new e.PieMap(h);break;case "stock":f=new e.PieStockChart(h);break;case "gantt":f=new e.PieGanttChart(h)}return e.extend(f,b),e.isReady?isNaN(c)?f.write(a):setTimeout(function(){e.realWrite(f,a)},c):e.ready(function(){isNaN(c)?f.write(a):setTimeout(function(){e.realWrite(f,a)},c)}),
f};e.realWrite=function(a,b){a.write(b)};e.updateCount=0;e.validateAt=Math.round(e.updateRate/5);e.update=function(){var a=e.charts;e.updateCount++;var b=!1;if(e.updateCount==e.validateAt&&(b=!0,e.updateCount=0),a)for(var c=0;c<a.length;c++)a[c].update&&a[c].update(),b&&a[c].autoResize&&a[c].validateSize&&a[c].validateSize()};e.bezierX=3;e.bezierY=6}();
(function(){var e=window.PieCharts;e.toBoolean=function(a,b){if(void 0===a)return b;switch(String(a).toLowerCase()){case "true":case "yes":case "1":return!0;case "false":case "no":case "0":case null:return!1;default:return Boolean(a)}};e.removeFromArray=function(a,b){var c;if(void 0!==b&&void 0!==a)for(c=a.length-1;0<=c;c--)a[c]==b&&a.splice(c,1)};e.getPath=function(){var a=document.getElementsByTagName("script");if(a)for(var b=0;b<a.length;b++){var c=a[b].src;if(-1!==c.search(/\/(PieCharts|ammap)\.js/))return c.replace(/\/(PieCharts|ammap)\.js.*/,
"/")}};e.normalizeUrl=function(a){return""!==a&&-1===a.search(/\/$/)?a+"/":a};e.isAbsolute=function(a){return 0===a.search(/^http[s]?:|^\//)};e.isInArray=function(a,b){for(var c=0;c<a.length;c++)if(a[c]==b)return!0;return!1};e.getDecimals=function(a){var b=0;return isNaN(a)||(a=String(a),-1!=a.indexOf("e-")?b=Number(a.split("-")[1]):-1!=a.indexOf(".")&&(b=a.split(".")[1].length)),b};e.wordwrap=function(a,b,c,d){var h,f,g,k;if(a+="",1>b)return a;h=-1;for(a=(k=a.split(/\r\n|\n|\r/)).length;++h<a;k[h]+=
g){g=k[h];for(k[h]="";g.length>b;k[h]+=e.trim(g.slice(0,f))+((g=g.slice(f)).length?c:""))f=2==d||(f=g.slice(0,b+1).match(/\S*(\s)?$/))[1]?b:f.input.length-f[0].length||1==d&&b||f.input.length+(f=g.slice(b).match(/^\S*/))[0].length;g=e.trim(g)}return k.join(d)};e.trim=function(a){return a.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")};e.wrappedText=function(a,b,c,d,h,f,g,k){var l=e.text(a,b,c,d,h,f,g);if(l){var m=l.getBBox();if(m.width>k){var n="\n";e.isModern||(n="<br>");b=e.wordwrap(b,Math.floor(k/
(m.width/b.length)),n,!0);l.remove();l=e.text(a,b,c,d,h,f,g)}}return l};e.getStyle=function(a,b){var c="";return document.defaultView&&document.defaultView.getComputedStyle?c=document.defaultView.getComputedStyle(a,"").getPropertyValue(b):a.currentStyle&&(b=b.replace(/\-(\w)/g,function(a,b){return b.toUpperCase()}),c=a.currentStyle[b]),c};e.removePx=function(a){return void 0!==a?Number(a.substring(0,a.length-2)):void 0};e.getURL=function(a,b){if(a)if("_self"!=b&&b)if("_top"==b&&window.top)window.top.location.href=
a;else if("_parent"==b&&window.parent)window.parent.location.href=a;else if("_blank"==b)window.open(a);else{var c=document.getElementsByName(b)[0];c?c.src=a:(c=e.windows[b])&&c.opener&&!c.opener.closed?c.location.href=a:e.windows[b]=window.open(a)}else window.location.href=a};e.ifArray=function(a){return a&&"object"==typeof a&&0<a.length?!0:!1};e.callMethod=function(a,b){var c;for(c=0;c<b.length;c++){var d=b[c];if(d){d[a]&&d[a]();var h=d.length;if(0<h){var e;for(e=0;h>e;e++){var g=d[e];g&&g[a]&&g[a]()}}}}};
e.toNumber=function(a){return"number"==typeof a?a:Number(String(a).replace(/[^0-9\-.]+/g,""))};e.toColor=function(a){if(""!==a&&void 0!==a)if(-1!=a.indexOf(",")){a=a.split(",");var b;for(b=0;b<a.length;b++){var c=a[b].substring(a[b].length-6,a[b].length);a[b]="#"+c}}else a=a.substring(a.length-6,a.length),a="#"+a;return a};e.toCoordinate=function(a,b,c){var d;return void 0!==a&&(a=String(a),c&&b>c&&(b=c),d=Number(a),-1!=a.indexOf("!")&&(d=b-Number(a.substr(1))),-1!=a.indexOf("%")&&(d=b*Number(a.substr(0,
a.length-1))/100)),d};e.fitToBounds=function(a,b,c){return b>a&&(a=b),a>c&&(a=c),a};e.isDefined=function(a){return void 0===a?!1:!0};e.stripNumbers=function(a){return a.replace(/[0-9]+/g,"")};e.roundTo=function(a,b){if(0>b)return a;var c=Math.pow(10,b);return Math.round(a*c)/c};e.toFixed=function(a,b){var c=String(Math.round(a*Math.pow(10,b)));if(0<b){var d=c.length;if(b>d){var h;for(h=0;b-d>h;h++)c="0"+c}return d=c.substring(0,c.length-b),""===d&&(d=0),d+"."+c.substring(c.length-b,c.length)}return String(c)};
e.formatDuration=function(a,b,c,d,h,f){var g=e.intervals,k=f.decimalSeparator;if(a>=g[b].contains){var l=a-Math.floor(a/g[b].contains)*g[b].contains;return"ss"==b?(l=e.formatNumber(l,f),1==l.split(k)[0].length&&(l="0"+l)):l=e.roundTo(l,f.precision),("mm"==b||"hh"==b)&&10>l&&(l="0"+l),c=l+""+d[b]+c,a=Math.floor(a/g[b].contains),b=g[b].nextInterval,e.formatDuration(a,b,c,d,h,f)}if("ss"==b&&(a=e.formatNumber(a,f),1==a.split(k)[0].length&&(a="0"+a)),("mm"==b||"hh"==b)&&10>a&&(a="0"+a),c=a+""+d[b]+c,g[h].count>
g[b].count)for(a=g[b].count;a<g[h].count;a++)b=g[b].nextInterval,"ss"==b||"mm"==b||"hh"==b?c="00"+d[b]+c:"DD"==b&&(c="0"+d[b]+c);return":"==c.charAt(c.length-1)&&(c=c.substring(0,c.length-1)),c};e.formatNumber=function(a,b,c,d,h){a=e.roundTo(a,b.precision);isNaN(c)&&(c=b.precision);var f=b.decimalSeparator;b=b.thousandsSeparator;var g;g=0>a?"-":"";a=Math.abs(a);var k=String(a),l=!1;-1!=k.indexOf("e")&&(l=!0);0<=c&&!l&&(k=e.toFixed(a,c));var m="";if(l)m=k;else{var n,k=k.split("."),l=String(k[0]);for(n=
l.length;0<=n;n-=3)m=n!=l.length?0!==n?l.substring(n-3,n)+b+m:l.substring(n-3,n)+m:l.substring(n-3,n);void 0!==k[1]&&(m=m+f+k[1]);void 0!==c&&0<c&&"0"!=m&&(m=e.addZeroes(m,f,c))}return m=g+m,""===g&&!0===d&&0!==a&&(m="+"+m),!0===h&&(m+="%"),m};e.addZeroes=function(a,b,c){return a=a.split(b),void 0===a[1]&&0<c&&(a[1]="0"),a[1].length<c?(a[1]+="0",e.addZeroes(a[0]+b+a[1],b,c)):void 0!==a[1]?a[0]+b+a[1]:a[0]};e.scientificToNormal=function(a){var b;a=String(a).split("e");var c;if("-"==a[1].substr(0,1)){b=
"0.";for(c=0;c<Math.abs(Number(a[1]))-1;c++)b+="0";b+=a[0].split(".").join("")}else{var d=0;b=a[0].split(".");b[1]&&(d=b[1].length);b=a[0].split(".").join("");for(c=0;c<Math.abs(Number(a[1]))-d;c++)b+="0"}return b};e.toScientific=function(a,b){if(0===a)return"0";var c=Math.floor(Math.log(Math.abs(a))*Math.LOG10E),d=String(d).split(".").join(b);return String(d)+"e"+c};e.randomColor=function(){return"#"+("00000"+(16777216*Math.random()<<0).toString(16)).substr(-6)};e.hitTest=function(a,b,c){var d=!1,
h=a.x,f=a.x+a.width,g=a.y,k=a.y+a.height,l=e.isInRectangle;return d||(d=l(h,g,b)),d||(d=l(h,k,b)),d||(d=l(f,g,b)),d||(d=l(f,k,b)),d||!0===c||(d=e.hitTest(b,a,!0)),d};e.isInRectangle=function(a,b,c){return a>=c.x-5&&a<=c.x+c.width+5&&b>=c.y-5&&b<=c.y+c.height+5?!0:!1};e.isPercents=function(a){return-1!=String(a).indexOf("%")?!0:void 0};e.findPosX=function(a){var b=a,c=a.offsetLeft;if(a.offsetParent){for(;a=a.offsetParent;)c+=a.offsetLeft;for(;(b=b.parentNode)&&b!=document.body;)c-=b.scrollLeft||0}return c};
e.findPosY=function(a){var b=a,c=a.offsetTop;if(a.offsetParent){for(;a=a.offsetParent;)c+=a.offsetTop;for(;(b=b.parentNode)&&b!=document.body;)c-=b.scrollTop||0}return c};e.findIfFixed=function(a){if(a.offsetParent)for(;a=a.offsetParent;)if("fixed"==e.getStyle(a,"position"))return!0;return!1};e.findIfAuto=function(a){return a.style&&"auto"==e.getStyle(a,"overflow")?!0:a.parentNode?e.findIfAuto(a.parentNode):!1};e.findScrollLeft=function(a,b){return a.scrollLeft&&(b+=a.scrollLeft),a.parentNode?e.findScrollLeft(a.parentNode,
b):b};e.findScrollTop=function(a,b){return a.scrollTop&&(b+=a.scrollTop),a.parentNode?e.findScrollTop(a.parentNode,b):b};e.formatValue=function(a,b,c,d,h,f,g,k){if(b){void 0===h&&(h="");var l;for(l=0;l<c.length;l++){var m=c[l],n=b[m];void 0!==n&&(n=f?e.addPrefix(n,k,g,d):e.formatNumber(n,d),a=a.replace(new RegExp("\\[\\["+h+m+"\\]\\]","g"),n))}}return a};e.formatDataContextValue=function(a,b){if(a){var c,d=a.match(/\[\[.*?\]\]/g);for(c=0;c<d.length;c++){var h=d[c],h=h.substr(2,h.length-4);void 0!==
b[h]&&(a=a.replace(new RegExp("\\[\\["+h+"\\]\\]","g"),b[h]))}}return a};e.massReplace=function(a,b){for(var c in b)if(b.hasOwnProperty(c)){var d=b[c];void 0===d&&(d="");a=a.replace(c,d)}return a};e.cleanFromEmpty=function(a){return a.replace(/\[\[[^\]]*\]\]/g,"")};e.addPrefix=function(a,b,c,d,h){var f,g,k,l=e.formatNumber(a,d),m="";if(0===a)return"0";if(0>a&&(m="-"),a=Math.abs(a),1<a)for(f=b.length-1;-1<f;f--){if(a>=b[f].number&&(g=a/b[f].number,k=Number(d.precision),1>k&&(k=1),c=e.roundTo(g,k),
k=e.formatNumber(c,{precision:-1,decimalSeparator:d.decimalSeparator,thousandsSeparator:d.thousandsSeparator}),!h||g==c)){l=m+""+k+b[f].prefix;break}}else for(f=0;f<c.length;f++)if(a<=c[f].number){g=a/c[f].number;k=Math.abs(Math.round(Math.log(g)*Math.LOG10E));g=e.roundTo(g,k);l=m+""+g+c[f].prefix;break}return l};e.remove=function(a){a&&a.remove()};e.getEffect=function(a){return">"==a&&(a="easeOutSine"),"<"==a&&(a="easeInSine"),"elastic"==a&&(a="easeOutElastic"),a};e.getObjById=function(a,b){var c,
d;for(d=0;d<a.length;d++){var h=a[d];h.id==b&&(c=h)}return c};e.applyTheme=function(a,b,c){b||(b=e.theme);b&&b[c]&&e.extend(a,b[c])};e.isString=function(a){return"string"==typeof a?!0:!1};e.extend=function(a,b,c){var d;a||(a={});for(d in b)c?a.hasOwnProperty(d)||(a[d]=b[d]):a[d]=b[d];return a};e.copyProperties=function(a,b){for(var c in a)a.hasOwnProperty(c)&&"events"!=c&&void 0!==a[c]&&"function"!=typeof a[c]&&"cname"!=c&&(b[c]=a[c])};e.processObject=function(a,b,c,d){if(0==a instanceof b&&(a=d?
e.extend(new b(c),a):e.extend(a,new b(c),!0),a.listeners))for(var h in a.listeners)b=a.listeners[h],a.addListener(b.event,b.method);return a};e.fixNewLines=function(a){var b=RegExp("\\n","g");return a&&(a=a.replace(b,"<br />")),a};e.fixBrakes=function(a){if(e.isModern){var b=RegExp("<br>","g");a&&(a=a.replace(b,"\n"))}else a=e.fixNewLines(a);return a};e.deleteObject=function(a,b){if(a&&((void 0===b||null===b)&&(b=20),0!==b))if("[object Array]"===Object.prototype.toString.call(a))for(var c=0;c<a.length;c++)e.deleteObject(a[c],
b-1),a[c]=null;else if(a&&!a.tagName)try{for(c in a)a[c]&&("object"==typeof a[c]&&e.deleteObject(a[c],b-1),"function"!=typeof a[c]&&(a[c]=null))}catch(d){}};e.bounce=function(a,b,c,d,h){return(b/=h)<1/2.75?7.5625*d*b*b+c:2/2.75>b?d*(7.5625*(b-=1.5/2.75)*b+.75)+c:2.5/2.75>b?d*(7.5625*(b-=2.25/2.75)*b+.9375)+c:d*(7.5625*(b-=2.625/2.75)*b+.984375)+c};e.easeInSine=function(a,b,c,d,h){return-d*Math.cos(b/h*(Math.PI/2))+d+c};e.easeOutSine=function(a,b,c,d,h){return d*Math.sin(b/h*(Math.PI/2))+c};e.easeOutElastic=
function(a,b,c,d,h){a=1.70158;var e=0,g=d;return 0===b?c:1==(b/=h)?c+d:(e||(e=.3*h),g<Math.abs(d)?(g=d,a=e/4):a=e/(2*Math.PI)*Math.asin(d/g),g*Math.pow(2,-10*b)*Math.sin(2*(b*h-a)*Math.PI/e)+d+c)};e.fixStepE=function(a){a=a.toExponential(0).split("e");var b=Number(a[1]);return 9==Number(a[0])&&b++,e.generateNumber(1,b)};e.generateNumber=function(a,b){var c,d="";c=0>b?Math.abs(b)-1:Math.abs(b);var h;for(h=0;c>h;h++)d+="0";return Number(0>b?"0."+d+String(a):String(a)+d)};e.setCN=function(a,b,c,d){if(a.addClassNames&&
b&&(b=b.node)&&c){var h=b.getAttribute("class");a=a.classNamePrefix+"-";d&&(a="");h?b.setAttribute("class",h+" "+a+c):b.setAttribute("class",a+c)}};e.parseDefs=function(a,b){for(var c in a){var d=typeof a[c];if(0<a[c].length&&"object"==d)for(var h=0;h<a[c].length;h++)d=document.createElementNS(e.SVG_NS,c),b.appendChild(d),e.parseDefs(a[c][h],d);else"object"==d?(d=document.createElementNS(e.SVG_NS,c),b.appendChild(d),e.parseDefs(a[c],d)):b.setAttribute(c,a[c])}}})();
(function(){var e=window.PieCharts;e.AxisBase=e.Class({construct:function(a){this.createEvents("clickItem","rollOverItem","rollOutItem");this.viY=this.viX=this.titleDY=this.y=this.x=this.dy=this.dx=0;this.axisThickness=1;this.axisColor="#000000";this.axisAlpha=1;this.gridCount=this.tickLength=5;this.gridAlpha=.15;this.gridThickness=1;this.gridColor="#000000";this.dashLength=0;this.labelFrequency=1;this.showLastLabel=this.showFirstLabel=!0;this.fillColor="#FFFFFF";this.fillAlpha=0;this.labelsEnabled=
!0;this.labelRotation=0;this.autoGridCount=!0;this.offset=0;this.guides=[];this.visible=!0;this.counter=0;this.guides=[];this.ignoreAxisWidth=this.inside=!1;this.minHorizontalGap=75;this.minVerticalGap=35;this.titleBold=!0;this.minorGridEnabled=!1;this.minorGridAlpha=.07;this.autoWrap=!1;this.titleAlign="middle";this.labelOffset=0;this.bcn="axis-";this.periods=[{period:"ss",count:1},{period:"ss",count:5},{period:"ss",count:10},{period:"ss",count:30},{period:"mm",count:1},{period:"mm",count:5},{period:"mm",
count:10},{period:"mm",count:30},{period:"hh",count:1},{period:"hh",count:3},{period:"hh",count:6},{period:"hh",count:12},{period:"DD",count:1},{period:"DD",count:2},{period:"DD",count:3},{period:"DD",count:4},{period:"DD",count:5},{period:"WW",count:1},{period:"MM",count:1},{period:"MM",count:2},{period:"MM",count:3},{period:"MM",count:6},{period:"YYYY",count:1},{period:"YYYY",count:2},{period:"YYYY",count:5},{period:"YYYY",count:10},{period:"YYYY",count:50},{period:"YYYY",count:100}];this.dateFormats=
[{period:"fff",format:"JJ:NN:SS"},{period:"ss",format:"JJ:NN:SS"},{period:"mm",format:"JJ:NN"},{period:"hh",format:"JJ:NN"},{period:"DD",format:"MMM DD"},{period:"WW",format:"MMM DD"},{period:"MM",format:"MMM"},{period:"YYYY",format:"YYYY"}];this.nextPeriod={fff:"ss",ss:"mm",mm:"hh",hh:"DD",DD:"MM",MM:"YYYY"};e.applyTheme(this,a,"AxisBase")},zoom:function(a,b){this.start=a;this.end=b;this.dataChanged=!0;this.draw()},fixAxisPosition:function(){var a=this.position;"H"==this.orientation?("left"==a&&
(a="bottom"),"right"==a&&(a="top")):("bottom"==a&&(a="left"),"top"==a&&(a="right"));this.position=a},draw:function(){var a=this.chart;this.allLabels=[];this.counter=0;this.destroy();this.fixAxisPosition();this.labels=[];var b=a.container,c=b.set();a.gridSet.push(c);this.set=c;b=b.set();a.axesLabelsSet.push(b);this.labelsSet=b;this.axisLine=new this.axisRenderer(this);this.autoGridCount?("V"==this.orientation?(a=this.height/this.minVerticalGap,3>a&&(a=3)):a=this.width/this.minHorizontalGap,this.gridCountR=
Math.max(a,1)):this.gridCountR=this.gridCount;this.axisWidth=this.axisLine.axisWidth;this.addTitle()},setOrientation:function(a){this.orientation=a?"H":"V"},addTitle:function(){var a=this.title;if(this.titleLabel=null,a){var b=this.chart,c=this.titleColor;void 0===c&&(c=b.color);var d=this.titleFontSize;isNaN(d)&&(d=b.fontSize+1);a=e.text(b.container,a,c,b.fontFamily,d,this.titleAlign,this.titleBold);e.setCN(b,a,this.bcn+"title");this.titleLabel=a}},positionTitle:function(){var a=this.titleLabel;
if(a){var b,c,d=this.labelsSet,h={};0<d.length()?h=d.getBBox():(h.x=0,h.y=0,h.width=this.viW,h.height=this.viH,e.VML&&(h.y+=this.y,h.x+=this.x));d.push(a);var d=h.x,f=h.y;e.VML&&(this.rotate?d-=this.x:f-=this.y);var g=h.width,h=h.height,k=this.viW,l=this.viH,m=0,n=a.getBBox().height/2,q=this.inside,p=this.titleAlign;switch(this.position){case "top":b="left"==p?-1:"right"==p?k:k/2;c=f-10-n;break;case "bottom":b="left"==p?-1:"right"==p?k:k/2;c=f+h+10+n;break;case "left":b=d-10-n;q&&(b-=5);m=-90;c=("left"==
p?l+1:"right"==p?-1:l/2)+this.titleDY;break;case "right":b=d+g+10+n,q&&(b+=7),c=("left"==p?l+2:"right"==p?-2:l/2)+this.titleDY,m=-90}this.marginsChanged?(a.translate(b,c),this.tx=b,this.ty=c):a.translate(this.tx,this.ty);this.marginsChanged=!1;isNaN(this.titleRotation)||(m=this.titleRotation);0!==m&&a.rotate(m)}},pushAxisItem:function(a,b){var c=this,d=a.graphics();0<d.length()&&(b?c.labelsSet.push(d):c.set.push(d));(d=a.getLabel())&&(this.labelsSet.push(d),d.click(function(b){c.handleMouse(b,a,"clickItem")}).mouseover(function(b){c.handleMouse(b,
a,"rollOverItem")}).mouseout(function(b){c.handleMouse(b,a,"rollOutItem")}))},handleMouse:function(a,b,c){this.fire(c,{type:c,value:b.value,serialDataItem:b.serialDataItem,axis:this,target:b.label,chart:this.chart,event:a})},addGuide:function(a){for(var b=this.guides,c=!1,d=b.length,h=0;h<b.length;h++)b[h]==a&&(c=!0,d=h);a=e.processObject(a,e.Guide,this.theme);a.id||(a.id="guideAuto"+d+"_"+(new Date).getTime());c||b.push(a)},removeGuide:function(a){var b,c=this.guides;for(b=0;b<c.length;b++)c[b]==
a&&c.splice(b,1)},handleGuideOver:function(a){clearTimeout(this.chart.hoverInt);var b=a.graphics.getBBox(),c=b.x+b.width/2,b=b.y+b.height/2,d=a.fillColor;void 0===d&&(d=a.lineColor);this.chart.showBalloon(a.balloonText,d,!0,c,b)},handleGuideOut:function(){this.chart.hideBalloon()},addEventListeners:function(a,b){var c=this;a.mouseover(function(){c.handleGuideOver(b)});a.touchstart(function(){c.handleGuideOver(b)});a.mouseout(function(){c.handleGuideOut(b)})},getBBox:function(){var a=this.labelsSet.getBBox();
return e.VML||(a={x:a.x+this.x,y:a.y+this.y,width:a.width,height:a.height}),a},destroy:function(){e.remove(this.set);e.remove(this.labelsSet);var a=this.axisLine;a&&e.remove(a.set);e.remove(this.grid0)},chooseMinorFrequency:function(a){for(var b=10;0<b;b--)if(a/b==Math.round(a/b))return a/b},parseDatesDraw:function(){var a,b,c,d,h,f,g,k=this.chart,l=this.showFirstLabel,m=this.showLastLabel,n="",q=e.extractPeriod(this.minPeriod),p=e.getPeriodDuration(q.period,q.count),t=this.firstDayOfWeek,r=this.boldPeriodBeginning;
a=this.minorGridEnabled;var u,z,A=this.gridAlpha,w=this.choosePeriod(0),v=w.period,w=w.count,y=e.getPeriodDuration(v,w);p>y&&(v=q.period,w=q.count,y=p);q=v;"WW"==q&&(q="DD");this.stepWidth=this.getStepWidth(this.timeDifference);var C=Math.ceil(this.timeDifference/y)+5,B=c=e.resetDateToMin(new Date(this.startTime-y),v,w,t).getTime();(q==v&&1==w&&this.centerLabelOnFullPeriod||this.autoWrap)&&(h=y*this.stepWidth,this.autoWrap&&(h=-h+10));this.cellWidth=p*this.stepWidth;f=Math.round(c/y);p=-1;f/2==Math.round(f/
2)&&(p=-2,c-=y);f=this.firstTime;var D=0;if(a&&1<w&&(u=this.chooseMinorFrequency(w),z=e.getPeriodDuration(v,u)),0<this.gridCountR)for(C-p>this.autoRotateCount&&!isNaN(this.autoRotateAngle)&&(this.labelRotationR=this.autoRotateAngle),a=p;C>=a;a++){if(g=f+y*(a+Math.floor((B-f)/y))-D,"DD"==v&&(g+=36E5),g=e.resetDateToMin(new Date(g),v,w,t).getTime(),"MM"==v&&(b=(g-c)/y,1.5<=(g-c)/y&&(g=g-(b-1)*y+e.getPeriodDuration("DD",3),g=e.resetDateToMin(new Date(g),v,1).getTime(),D+=y)),b=(g-this.startTime)*this.stepWidth,
"radar"==k.type){if(0>b||b>this.axisWidth)continue;b=this.y+(this.axisWidth-b)}else b=this.rotate?b+(this.x-this.viX):"date"==this.type?this.axisWidth-b+(this.y-this.viY):b+(this.y-this.viY);if(n=!1,this.nextPeriod[q]&&(n=this.checkPeriodChange(this.nextPeriod[q],1,g,c,q)),c=!1,n&&this.markPeriodChange?(n=this.dateFormatsObject[this.nextPeriod[q]],this.twoLineMode&&(n=this.dateFormatsObject[q]+"\n"+n,n=e.fixBrakes(n)),c=!0):n=this.dateFormatsObject[q],r||(c=!1),this.currentDateFormat=n,n=e.formatDate(new Date(g),
n,k),(a==p&&!l||a==C&&!m)&&(n=" "),this.labelFunction&&(n=this.labelFunction(n,new Date(g),this,v,w,d).toString()),this.boldLabels&&(c=!0),d=new this.axisItemRenderer(this,b,n,!1,h,0,!1,c),this.pushAxisItem(d),d=c=g,!isNaN(u))for(b=1;w>b;b+=u)this.gridAlpha=this.minorGridAlpha,n=g+z*b,n=e.resetDateToMin(new Date(n),v,u,t).getTime(),n=new this.axisItemRenderer(this,(n-this.startTime)*this.stepWidth,void 0,void 0,void 0,void 0,void 0,void 0,void 0,!0),this.pushAxisItem(n);this.gridAlpha=A}},choosePeriod:function(a){var b=
e.getPeriodDuration(this.periods[a].period,this.periods[a].count),c=Math.ceil(this.timeDifference/b),d=this.periods;return this.timeDifference<b&&0<a?d[a-1]:c<=this.gridCountR?d[a]:a+1<d.length?this.choosePeriod(a+1):d[a]},getStepWidth:function(a){var b;return this.startOnAxis?(b=this.axisWidth/(a-1),1==a&&(b=this.axisWidth)):b=this.axisWidth/a,b},timeZoom:function(a,b){this.startTime=a;this.endTime=b},minDuration:function(){var a=e.extractPeriod(this.minPeriod);return e.getPeriodDuration(a.period,
a.count)},checkPeriodChange:function(a,b,c,d,h){c=new Date(c);var f=new Date(d),g=this.firstDayOfWeek;return d=b,"DD"==a&&(b=1),c=e.resetDateToMin(c,a,b,g).getTime(),b=e.resetDateToMin(f,a,b,g).getTime(),"DD"==a&&"hh"!=h&&c-b<e.getPeriodDuration(a,d)?!1:c!=b?!0:!1},generateDFObject:function(){this.dateFormatsObject={};var a;for(a=0;a<this.dateFormats.length;a++){var b=this.dateFormats[a];this.dateFormatsObject[b.period]=b.format}}})})();
(function(){var e=window.PieCharts;e.ValueAxis=e.Class({inherits:e.AxisBase,construct:function(a){this.cname="ValueAxis";this.createEvents("axisChanged","logarithmicAxisFailed","axisSelfZoomed","axisZoomed");e.ValueAxis.base.construct.call(this,a);this.dataChanged=!0;this.stackType="none";this.position="left";this.unitPosition="right";this.recalculateToPercents=this.includeHidden=this.includeGuidesInMinMax=this.integersOnly=!1;this.durationUnits={DD:"d. ",hh:":",mm:":",ss:""};this.scrollbar=!1;this.baseValue=
0;this.radarCategoriesEnabled=!0;this.gridType="polygons";this.useScientificNotation=!1;this.axisTitleOffset=10;this.pointPosition="axis";this.minMaxMultiplier=1;this.logGridLimit=2;this.totalTextOffset=this.treatZeroAs=0;this.minPeriod="ss";e.applyTheme(this,a,this.cname)},updateData:function(){0>=this.gridCountR&&(this.gridCountR=1);this.totals=[];this.data=this.chart.chartData;var a=this.chart;"xy"!=a.type&&(this.stackGraphs("smoothedLine"),this.stackGraphs("line"),this.stackGraphs("column"),this.stackGraphs("step"));
this.recalculateToPercents&&this.recalculate();this.synchronizationMultiplier&&this.synchronizeWith?(e.isString(this.synchronizeWith)&&(this.synchronizeWith=a.getValueAxisById(this.synchronizeWith)),this.synchronizeWith&&(this.synchronizeWithAxis(this.synchronizeWith),this.foundGraphs=!0)):(this.foundGraphs=!1,this.getMinMax())},draw:function(){e.ValueAxis.base.draw.call(this);var a=this.chart,b=this.set;this.labelRotationR=this.labelRotation;e.setCN(a,this.set,"value-axis value-axis-"+this.id);e.setCN(a,
this.labelsSet,"value-axis value-axis-"+this.id);e.setCN(a,this.axisLine.axisSet,"value-axis value-axis-"+this.id);var c=this.type;if("duration"==c&&(this.duration="ss"),!0===this.dataChanged&&(this.updateData(),this.dataChanged=!1),"date"==c&&(this.logarithmic=!1,this.min=this.minRR,this.max=this.maxRR,this.minimumDate&&(this.minimumDate=e.getDate(this.minimumDate,a.dataDateFormat,"fff"),this.min=this.minimumDate.getTime()),this.maximumDate&&(this.maximumDate=e.getDate(this.maximumDate,a.dataDateFormat,
"fff"),this.max=this.maximumDate.getTime())),this.logarithmic){var d=this.treatZeroAs,h=this.getMin(0,this.data.length-1);if(this.minReal<h&&(this.minReal=h),isNaN(this.minReal)&&(this.minReal=h),0<d&&0===h&&(this.minReal=h=d),0>=h||0>=this.minimum)return void this.fire("logarithmicAxisFailed",{type:"logarithmicAxisFailed",chart:a})}this.grid0=null;var f,g,k=a.dx,l=a.dy,d=!1,h=this.logarithmic;if(isNaN(this.min)||isNaN(this.max)||!this.foundGraphs||1/0==this.min||-1/0==this.max)d=!0;else{var m=this.labelFrequency,
n=this.showFirstLabel,q=this.showLastLabel,p=1;f=0;this.minCalc=this.min;this.maxCalc=this.max;this.strictMinMax&&(isNaN(this.minimum)||(this.min=this.minimum),isNaN(this.maximum)||(this.max=this.maximum));isNaN(this.minZoom)||(this.min=this.minZoom);isNaN(this.maxZoom)||(this.max=this.maxZoom);var t,r=Math.round((this.maxCalc-this.minCalc)/this.step)+1;!0===h?(t=Math.log(this.max)*Math.LOG10E-Math.log(this.minReal)*Math.LOG10E,this.stepWidth=this.axisWidth/t,t>this.logGridLimit&&(r=Math.ceil(Math.log(this.max)*
Math.LOG10E)+1,f=Math.round(Math.log(this.minReal)*Math.LOG10E),r>this.gridCountR&&(p=Math.ceil(r/this.gridCountR)))):this.stepWidth=this.axisWidth/(this.max-this.min);var u=0;1>this.step&&-1<this.step&&(u=e.getDecimals(this.step));this.integersOnly&&(u=0);u>this.maxDecCount&&(u=this.maxDecCount);var z=this.precision;isNaN(z)||(u=z);this.max=e.roundTo(this.max,this.maxDecCount);this.min=e.roundTo(this.min,this.maxDecCount);g={};g.precision=u;g.decimalSeparator=a.nf.decimalSeparator;g.thousandsSeparator=
a.nf.thousandsSeparator;this.numberFormatter=g;var A,w=this.guides,v=w.length;if(0<v){var y=this.fillAlpha;for(g=this.fillAlpha=0;v>g;g++){var C=w[g],B=0/0,D=C.above;isNaN(C.toValue)||(B=this.getCoordinate(C.toValue),A=new this.axisItemRenderer(this,B,"",!0,0/0,0/0,C),this.pushAxisItem(A,D));var I=0/0;isNaN(C.value)||(I=this.getCoordinate(C.value),A=new this.axisItemRenderer(this,I,C.label,!0,0/0,(B-I)/2,C),this.pushAxisItem(A,D));isNaN(B-I)||(A=new this.guideFillRenderer(this,I,B,C),this.pushAxisItem(A,
D),A=A.graphics(),C.graphics=A,C.balloonText&&this.addEventListeners(A,C))}this.fillAlpha=y}this.exponential=!1;for(g=f;r>g;g+=p)w=e.roundTo(this.step*g+this.min,u),-1!=String(w).indexOf("e")&&(this.exponential=!0);this.duration&&(this.maxInterval=e.getMaxInterval(this.max,this.duration));var E,u=this.step,w=this.minorGridAlpha;if(this.minorGridEnabled&&(E=this.getMinorGridStep(u,this.stepWidth*u)),"date"==c)this.generateDFObject(),this.timeDifference=this.max-this.min,this.maxTime=this.lastTime=
this.max,this.startTime=this.firstTime=this.min,this.parseDatesDraw();else for(r>=this.autoRotateCount&&!isNaN(this.autoRotateAngle)&&(this.labelRotationR=this.autoRotateAngle),g=f;r>g;g+=p)if(c=u*g+this.minCalc,h&&this.max-this.min>10*this.min&&(c-=this.min),c=e.roundTo(c,this.maxDecCount+1),!(this.integersOnly&&Math.round(c)!=c||!isNaN(z)&&Number(e.toFixed(c,z))!=c)){!0===h&&(0===c&&(c=this.minReal),t>this.logGridLimit&&(c=Math.pow(10,g)));A=this.formatValue(c,!1,g);Math.round(g/m)!=g/m&&(A=void 0);
(0===g&&!n||g==r-1&&!q)&&(A=" ");f=this.getCoordinate(c);var L;if(this.rotate&&this.autoWrap&&(L=this.stepWidth*u),A=new this.axisItemRenderer(this,f,A,void 0,L,void 0,void 0,this.boldLabels),this.pushAxisItem(A),c==this.baseValue&&"radar"!=a.type){var J,U,y=this.viW,C=this.viH;A=this.viX;v=this.viY;"H"==this.orientation?0<=f&&y+1>=f&&(J=[f,f,f+k],U=[C,0,l]):0<=f&&C+1>=f&&(J=[0,y,y+k],U=[f,f,f+l]);J&&(f=e.fitToBounds(2*this.gridAlpha,0,1),f=e.line(a.container,J,U,this.gridColor,f,1,this.dashLength),
f.translate(A,v),this.grid0=f,a.axesSet.push(f),f.toBack(),e.setCN(a,f,this.bcn+"zero-grid-"+this.id),e.setCN(a,f,this.bcn+"zero-grid"))}if(!isNaN(E)&&0<w&&r-1>g){f=this.gridAlpha;this.gridAlpha=this.minorGridAlpha;for(A=1;u/E>A;A++)v=this.getCoordinate(c+E*A),v=new this.axisItemRenderer(this,v,"",!1,0,0,!1,!1,0,!0),this.pushAxisItem(v);this.gridAlpha=f}}t=this.baseValue;this.min>this.baseValue&&this.max>this.baseValue&&(t=this.min);this.min<this.baseValue&&this.max<this.baseValue&&(t=this.max);h&&
t<this.minReal&&(t=this.minReal);this.baseCoord=this.getCoordinate(t);t={type:"axisChanged",target:this,chart:a};t.min=h?this.minReal:this.min;t.max=this.max;this.fire("axisChanged",t);this.axisCreated=!0}h=this.axisLine.set;t=this.labelsSet;this.positionTitle();"radar"!=a.type?(a=this.viX,E=this.viY,b.translate(a,E),t.translate(a,E)):h.toFront();!this.visible||d?(b.hide(),h.hide(),t.hide()):(b.show(),h.show(),t.show());this.axisY=this.y-this.viY;this.axisX=this.x-this.viX},formatValue:function(a,
b,c){var d=this.exponential,h=this.logarithmic,f=this.numberFormatter,g=this.chart;return!0===this.logarithmic&&(d=-1!=String(a).indexOf("e")?!0:!1),this.useScientificNotation&&(d=!0),this.usePrefixes&&(d=!1),d?(c=-1==String(a).indexOf("e")?a.toExponential(15):String(a),d=c.split("e"),c=Number(d[0]),d=Number(d[1]),c=e.roundTo(c,14),10==c&&(c=1,d+=1),c=c+"e"+d,0===a&&(c="0"),1==a&&(c="1")):(h&&(d=String(a).split("."),d[1]?(f.precision=d[1].length,0>c&&(f.precision=Math.abs(c)),b&&1<a&&(f.precision=
0)):f.precision=-1),c=this.usePrefixes?e.addPrefix(a,g.prefixesOfBigNumbers,g.prefixesOfSmallNumbers,f,!b):e.formatNumber(a,f,f.precision)),this.duration&&(b&&(f.precision=0),c=e.formatDuration(a,this.duration,"",this.durationUnits,this.maxInterval,f)),"date"==this.type&&(c=e.formatDate(new Date(a),this.currentDateFormat,g)),this.recalculateToPercents?c+="%":(b=this.unit)&&(c="left"==this.unitPosition?b+c:c+b),this.labelFunction&&(c=this.labelFunction(a,c,this).toString()),c},getMinorGridStep:function(a,
b){var c=[5,4,2];60>b&&c.shift();for(var d=Math.floor(Math.log(Math.abs(a))*Math.LOG10E),h=0;h<c.length;h++){var e=a/c[h],g=Math.floor(Math.log(Math.abs(e))*Math.LOG10E);if(!(1<Math.abs(d-g)))if(1>a){if(g=Math.pow(10,-g)*e,g==Math.round(g))return e}else if(e==Math.round(e))return e}},stackGraphs:function(a){var b=this.stackType;"stacked"==b&&(b="regular");"line"==b&&(b="none");"100% stacked"==b&&(b="100%");this.stackType=b;var c,d,h,f,g,k=[],l=[],m=[],n=[],q=this.chart.graphs,p=this.baseValue,t=!1;
if(("line"==a||"step"==a||"smoothedLine"==a)&&(t=!0),t&&("regular"==b||"100%"==b))for(g=0;g<q.length;g++)f=q[g],f.hidden||(h=f.type,f.chart==this.chart&&f.valueAxis==this&&a==h&&f.stackable&&(d&&(f.stackGraph=d),d=f));for(d=this.start;d<=this.end;d++){var r=0;for(g=0;g<q.length;g++)if(f=q[g],f.hidden)f.newStack&&(m[d]=0/0,l[d]=0/0);else if(h=f.type,f.chart==this.chart&&f.valueAxis==this&&a==h&&f.stackable)if(h=this.data[d].axes[this.id].graphs[f.id],c=h.values.value,isNaN(c))f.newStack&&(m[d]=0/0,
l[d]=0/0);else{var u=e.getDecimals(c);u>r&&(r=u);isNaN(n[d])?n[d]=Math.abs(c):n[d]+=Math.abs(c);n[d]=e.roundTo(n[d],r);u=f.fillToGraph;t&&u&&(u=this.data[d].axes[this.id].graphs[u.id])&&(h.values.open=u.values.value);"regular"==b&&(t&&(isNaN(k[d])?(k[d]=c,h.values.close=c,h.values.open=this.baseValue):(h.values.close=isNaN(c)?k[d]:c+k[d],h.values.open=k[d],k[d]=h.values.close)),"column"==a&&(f.newStack&&(m[d]=0/0,l[d]=0/0),h.values.close=c,0>c?(h.values.close=c,isNaN(l[d])?h.values.open=p:(h.values.close+=
l[d],h.values.open=l[d]),l[d]=h.values.close):(h.values.close=c,isNaN(m[d])?h.values.open=p:(h.values.close+=m[d],h.values.open=m[d]),m[d]=h.values.close)))}}for(d=this.start;d<=this.end;d++)for(g=0;g<q.length;g++)f=q[g],f.hidden?f.newStack&&(m[d]=0/0,l[d]=0/0):(h=f.type,f.chart==this.chart&&f.valueAxis==this&&a==h&&f.stackable&&(h=this.data[d].axes[this.id].graphs[f.id],c=h.values.value,isNaN(c)||(k=c/n[d]*100,h.values.percents=k,h.values.total=n[d],f.newStack&&(m[d]=0/0,l[d]=0/0),"100%"==b&&(isNaN(l[d])&&
(l[d]=0),isNaN(m[d])&&(m[d]=0),0>k?(h.values.close=e.fitToBounds(k+l[d],-100,100),h.values.open=l[d],l[d]=h.values.close):(h.values.close=e.fitToBounds(k+m[d],-100,100),h.values.open=m[d],m[d]=h.values.close)))))},recalculate:function(){var a,b=this.chart,c=b.graphs;for(a=0;a<c.length;a++){var d=c[a];if(d.valueAxis==this){var h="value";"candlestick"!=d.type&&"ohlc"!=d.type||(h="open");var f,g,k=this.end+2,k=e.fitToBounds(this.end+1,0,this.data.length-1),l=this.start;0<l&&l--;var m;if(g=this.start,
d.compareFromStart&&(g=0),!isNaN(b.startTime)&&(m=b.categoryAxis)){var n=m.minDuration(),n=new Date(b.startTime+n/2),q=e.resetDateToMin(new Date(b.startTime),m.minPeriod).getTime();e.resetDateToMin(new Date(n),m.minPeriod).getTime()>q&&g++}(m=b.recalculateFromDate)&&(m=e.getDate(m,b.dataDateFormat,"fff"),g=b.getClosestIndex(b.chartData,"time",m.getTime(),!0,0,b.chartData.length),k=b.chartData.length-1);for(m=g;k>=m&&(g=this.data[m].axes[this.id].graphs[d.id],f=g.values[h],isNaN(f));m++);this.recBaseValue=
f;for(h=l;k>=h;h++){g=this.data[h].axes[this.id].graphs[d.id];g.percents={};var p,l=g.values;for(p in l)g.percents[p]="percents"!=p?l[p]/f*100-100:l[p]}}}},getMinMax:function(){var a,b=!1,c=this.chart,d=c.graphs;for(a=0;a<d.length;a++){var h=d[a].type;("line"==h||"step"==h||"smoothedLine"==h)&&this.expandMinMax&&(b=!0)}if(b&&(0<this.start&&this.start--,this.end<this.data.length-1&&this.end++),"serial"==c.type&&(!0!==c.categoryAxis.parseDates||b||this.end<this.data.length-1&&this.end++),b=this.minMaxMultiplier,
this.min=this.getMin(this.start,this.end),this.max=this.getMax(),this.minRR=this.min,this.maxRR=this.max,b=(this.max-this.min)*(b-1),this.min-=b,this.max+=b,b=this.guides.length,this.includeGuidesInMinMax&&0<b)for(d=0;b>d;d++)a=this.guides[d],a.toValue<this.min&&(this.min=a.toValue),a.value<this.min&&(this.min=a.value),a.toValue>this.max&&(this.max=a.toValue),a.value>this.max&&(this.max=a.value);isNaN(this.minimum)||(this.min=this.minimum);isNaN(this.maximum)||(this.max=this.maximum);this.minimumDate&&
(this.minimumDate=e.getDate(this.minimumDate,c.dataDateFormat,"fff"),this.min=this.minimumDate.getTime());this.maximumDate&&(this.maximumDate=e.getDate(this.maximumDate,c.dataDateFormat,"fff"),this.max=this.maximumDate.getTime());this.min>this.max&&(c=this.max,this.max=this.min,this.min=c);isNaN(this.minTemp)||(this.min=this.minTemp);isNaN(this.maxTemp)||(this.max=this.maxTemp);this.minReal=this.min;this.maxReal=this.max;0===this.min&&0===this.max&&(this.max=9);this.min>this.max&&(this.min=this.max-
1);c=this.min;b=this.max;d=this.max-this.min;a=0===d?Math.pow(10,Math.floor(Math.log(Math.abs(this.max))*Math.LOG10E))/10:Math.pow(10,Math.floor(Math.log(Math.abs(d))*Math.LOG10E))/10;isNaN(this.maximum)&&isNaN(this.maxTemp)&&(this.max=Math.ceil(this.max/a)*a+a);isNaN(this.minimum)&&isNaN(this.minTemp)&&(this.min=Math.floor(this.min/a)*a-a);0>this.min&&0<=c&&(this.min=0);0<this.max&&0>=b&&(this.max=0);"100%"==this.stackType&&(this.min=0>this.min?-100:0,this.max=0>this.max?0:100);d=this.max-this.min;
a=Math.pow(10,Math.floor(Math.log(Math.abs(d))*Math.LOG10E))/10;this.step=Math.ceil(d/this.gridCountR/a)*a;d=Math.pow(10,Math.floor(Math.log(Math.abs(this.step))*Math.LOG10E));d=e.fixStepE(d);a=Math.ceil(this.step/d);5<a&&(a=10);5>=a&&2<a&&(a=5);this.step=Math.ceil(this.step/(d*a))*d*a;1>d?(this.maxDecCount=Math.abs(Math.log(Math.abs(d))*Math.LOG10E),this.maxDecCount=Math.round(this.maxDecCount),this.step=e.roundTo(this.step,this.maxDecCount+1)):this.maxDecCount=0;this.min=this.step*Math.floor(this.min/
this.step);this.max=this.step*Math.ceil(this.max/this.step);0>this.min&&0<=c&&(this.min=0);0<this.max&&0>=b&&(this.max=0);1<this.minReal&&1<this.max-this.minReal&&(this.minReal=Math.floor(this.minReal));d=Math.pow(10,Math.floor(Math.log(Math.abs(this.minReal))*Math.LOG10E));0===this.min&&(this.minReal=d);0===this.min&&1<this.minReal&&(this.minReal=1);0<this.min&&0<this.minReal-this.step&&(this.minReal=this.min+this.step<this.minReal?this.min+this.step:this.min);this.logarithmic&&(2<Math.log(b)*Math.LOG10E-
Math.log(c)*Math.LOG10E?(this.minReal=this.min=Math.pow(10,Math.floor(Math.log(Math.abs(c))*Math.LOG10E)),this.max=Math.pow(10,Math.ceil(Math.log(Math.abs(b))*Math.LOG10E))):(b=Math.pow(10,Math.floor(Math.log(Math.abs(this.min))*Math.LOG10E))/10,c=Math.pow(10,Math.floor(Math.log(Math.abs(c))*Math.LOG10E))/10,c>b&&(this.minReal=this.min=10*c)))},getMin:function(a,b){var c,d;for(d=a;b>=d;d++){var h,e=this.data[d].axes[this.id].graphs;for(h in e)if(e.hasOwnProperty(h)){var g=this.chart.getGraphById(h);
if(g.includeInMinMax&&(!g.hidden||this.includeHidden)){isNaN(c)&&(c=1/0);this.foundGraphs=!0;g=e[h].values;this.recalculateToPercents&&(g=e[h].percents);var k;if(this.minMaxField)k=g[this.minMaxField],c>k&&(c=k);else for(var l in g)g.hasOwnProperty(l)&&"percents"!=l&&"total"!=l&&(k=g[l],c>k&&(c=k))}}}return c},getMax:function(){var a,b;for(b=this.start;b<=this.end;b++){var c,d=this.data[b].axes[this.id].graphs;for(c in d)if(d.hasOwnProperty(c)){var h=this.chart.getGraphById(c);if(h.includeInMinMax&&
(!h.hidden||this.includeHidden)){isNaN(a)&&(a=-1/0);this.foundGraphs=!0;h=d[c].values;this.recalculateToPercents&&(h=d[c].percents);var e;if(this.minMaxField)e=h[this.minMaxField],e>a&&(a=e);else for(var g in h)h.hasOwnProperty(g)&&"percents"!=g&&"total"!=g&&(e=h[g],e>a&&(a=e))}}}return a},dispatchZoomEvent:function(a,b){var c={type:"axisZoomed",startValue:a,endValue:b,target:this,chart:this.chart};this.fire(c.type,c)},zoomOut:function(){var a=this.chart;"xy"!=a.type&&(this.maxZoom=this.minZoom=void 0,
a.updateAfterValueZoom())},zoomToValues:function(a,b){var c=this.chart;"xy"==c.type?(a>b&&(c=b,b=a,a=c),a<this.min&&(a=this.min),b>this.max&&(b=this.max),c={type:"axisSelfZoomed"},c.chart=this.chart,c.valueAxis=this,c.multiplier=this.axisWidth/Math.abs(this.getCoordinate(b)-this.getCoordinate(a)),c.startValue=a,c.endValue=b,c.position=this.getCoordinate("V"==this.orientation?this.reversed?a:b:this.reversed?b:a),this.fire(c.type,c)):(this.minZoom=a,this.maxZoom=b,c.updateAfterValueZoom())},coordinateToValue:function(a){if(isNaN(a))return 0/
0;var b=this.axisWidth,c=this.stepWidth,d=this.reversed,h=this.rotate,e=this.min,g=this.minReal;return!0===this.logarithmic?Math.pow(10,(h?!0===d?(b-a)/c:a/c:!0===d?a/c:(b-a)/c)+Math.log(g)*Math.LOG10E):!0===d?h?e-(a-b)/c:a/c+e:h?a/c+e:e-(a-b)/c},getCoordinate:function(a){if(isNaN(a))return 0/0;var b=this.rotate,c=this.reversed,d=this.axisWidth,e=this.stepWidth,f=this.min,g=this.minReal;return!0===this.logarithmic?(0===a&&(a=this.treatZeroAs),a=Math.log(a)*Math.LOG10E-Math.log(g)*Math.LOG10E,b=b?
!0===c?d-e*a:e*a:!0===c?e*a:d-e*a):b=!0===c?b?d-e*(a-f):e*(a-f):b?e*(a-f):d-e*(a-f),b=this.rotate?b+(this.x-this.viX):b+(this.y-this.viY),1E7<Math.abs(b)&&(b=1E7*(b/Math.abs(b))),Math.round(b)},synchronizeWithAxis:function(a){this.synchronizeWith=a;this.listenTo(this.synchronizeWith,"axisChanged",this.handleSynchronization)},handleSynchronization:function(){if(this.synchronizeWith){e.isString(this.synchronizeWith)&&(this.synchronizeWith=this.chart.getValueAxisById(this.synchronizeWith));var a=this.synchronizeWith,
b=a.min,c=a.max,a=a.step,d=this.synchronizationMultiplier;d&&(this.min=b*d,this.max=c*d,this.step=a*d,b=Math.pow(10,Math.floor(Math.log(Math.abs(this.step))*Math.LOG10E)),b=Math.abs(Math.log(Math.abs(b))*Math.LOG10E),this.maxDecCount=Math.round(b),this.draw())}}})})();
(function(){var e=window.PieCharts;e.RecAxis=e.Class({construct:function(a){var b=a.chart,c=a.axisThickness,d=a.axisColor,h=a.axisAlpha,f=a.offset,g=a.dx,k=a.dy,l=a.viX,m=a.viY,n=a.viH,q=a.viW,p=b.container;"H"==a.orientation?(d=e.line(p,[0,q],[0,0],d,h,c),this.axisWidth=a.width,"bottom"==a.position?(k=c/2+f+n+m-1,c=l):(k=-c/2-f+m+k,c=g+l)):(this.axisWidth=a.height,"right"==a.position?(d=e.line(p,[0,0,-g],[0,n,n-k],d,h,c),k=m+k,c=c/2+f+g+q+l-1):(d=e.line(p,[0,0],[0,n],d,h,c),k=m,c=-c/2-f+l));d.translate(c,
k);c=b.container.set();c.push(d);b.axesSet.push(c);e.setCN(b,d,a.bcn+"line");this.axisSet=c;this.set=d}})})();
(function(){var e=window.PieCharts;e.RecItem=e.Class({construct:function(a,b,c,d,h,f,g,k,l,m,n,q){b=Math.round(b);var p=a.chart;this.value=c;void 0==c&&(c="");l||(l=0);void 0==d&&(d=!0);var t=p.fontFamily,r=a.fontSize;void 0==r&&(r=p.fontSize);var u=a.color;void 0==u&&(u=p.color);void 0!==n&&(u=n);var z=a.chart.container,A=z.set();this.set=A;var w=a.axisThickness,v=a.axisColor,y=a.axisAlpha,C=a.tickLength,B=a.gridAlpha,D=a.gridThickness,I=a.gridColor,E=a.dashLength,L=a.fillColor,J=a.fillAlpha,U=a.labelsEnabled;
n=a.labelRotationR;var T,Z,Da=a.counter,aa=a.inside,wa=a.labelOffset,ra=a.dx,ma=a.dy,sa=a.orientation,W=a.position,da=a.previousCoord,ka=a.viH,ea=a.viW,fa=a.offset;g?(void 0!==g.id&&(q=p.classNamePrefix+"-guide-"+g.id),U=!0,isNaN(g.tickLength)||(C=g.tickLength),void 0!=g.lineColor&&(I=g.lineColor),void 0!=g.color&&(u=g.color),isNaN(g.lineAlpha)||(B=g.lineAlpha),isNaN(g.dashLength)||(E=g.dashLength),isNaN(g.lineThickness)||(D=g.lineThickness),!0===g.inside&&(aa=!0,0<fa&&(fa=0)),isNaN(g.labelRotation)||
(n=g.labelRotation),isNaN(g.fontSize)||(r=g.fontSize),g.position&&(W=g.position),void 0!==g.boldLabel&&(k=g.boldLabel),isNaN(g.labelOffset)||(wa=g.labelOffset)):""===c&&(C=0);m&&!isNaN(a.minorTickLength)&&(C=a.minorTickLength);var la="start";0<h&&(la="middle");var ba,X,ca=n*Math.PI/180,H=0,x=0,na=0,ga=ba=0,Ka=0;"V"==sa&&(n=0);var Y;U&&""!==c&&(Y=a.autoWrap&&0===n?e.wrappedText(z,c,u,t,r,la,k,Math.abs(h),0):e.text(z,c,u,t,r,la,k),la=Y.getBBox(),ga=la.width,Ka=la.height);"H"==sa?(0<=b&&ea+1>=b&&(0<
C&&0<y&&ea+1>=b+l&&(T=e.line(z,[b+l,b+l],[0,C],v,y,D),A.push(T)),0<B&&(Z=e.line(z,[b,b+ra,b+ra],[ka,ka+ma,ma],I,B,D,E),A.push(Z))),x=0,H=b,g&&90==n&&aa&&(H-=r),!1===d?(la="start",x="bottom"==W?aa?x+C:x-C:aa?x-C:x+C,H+=3,0<h&&(H+=h/2-3,la="middle"),0<n&&(la="middle")):la="middle",1==Da&&0<J&&!g&&!m&&ea>da&&(d=e.fitToBounds(b,0,ea),da=e.fitToBounds(da,0,ea),ba=d-da,0<ba&&(X=e.rect(z,ba,a.height,L,J),X.translate(d-ba+ra,ma),A.push(X))),"bottom"==W?(x+=ka+r/2+fa,aa?(0<n?(x=ka-ga/2*Math.sin(ca)-C-3,H+=
ga/2*Math.cos(ca)-4+2):0>n?(x=ka+ga*Math.sin(ca)-C-3+2,H+=-ga*Math.cos(ca)-Ka*Math.sin(ca)-4):x-=C+r+3+3,x-=wa):(0<n?(x=ka+ga/2*Math.sin(ca)+C+3,H-=ga/2*Math.cos(ca)):0>n?(x=ka+C+3-ga/2*Math.sin(ca)+2,H+=ga/2*Math.cos(ca)):x+=C+w+3+3,x+=wa)):(x+=ma+r/2-fa,H+=ra,aa?(0<n?(x=ga/2*Math.sin(ca)+C+3,H-=ga/2*Math.cos(ca)):x+=C+3,x+=wa):(0<n?(x=-(ga/2)*Math.sin(ca)-C-6,H+=ga/2*Math.cos(ca)):x-=C+r+3+w+3,x-=wa)),"bottom"==W?ba=(aa?ka-C-1:ka+w-1)+fa:(na=ra,ba=(aa?ma:ma-C-w+1)-fa),f&&(H+=f),f=H,0<n&&(f+=ga/
2*Math.cos(ca)),Y&&(r=0,aa&&(r=ga/2*Math.cos(ca)),f+r>ea+2||0>f)&&(Y.remove(),Y=null)):(0<=b&&ka+1>=b&&(0<C&&0<y&&ka+1>=b+l&&(T=e.line(z,[0,C],[b+l,b+l],v,y,D),A.push(T)),0<B&&(Z=e.line(z,[0,ra,ea+ra],[b,b+ma,b+ma],I,B,D,E),A.push(Z))),la="end",(!0===aa&&"left"==W||!1===aa&&"right"==W)&&(la="start"),x=b-Ka/2+2,1==Da&&0<J&&!g&&!m&&(d=e.fitToBounds(b,0,ka),da=e.fitToBounds(da,0,ka),ca=d-da,X=e.polygon(z,[0,a.width,a.width,0],[0,0,ca,ca],L,J),X.translate(ra,d-ca+ma),A.push(X)),x+=r/2,"right"==W?(H+=
ra+ea+fa,x+=ma,aa?(f||(x-=r/2+3),H=H-(C+4)-wa):(H+=C+4+w,x-=2,H+=wa)):aa?(H+=C+4-fa,f||(x-=r/2+3),g&&(H+=ra,x+=ma),H+=wa):(H+=-C-w-4-2-fa,x-=2,H-=wa),T&&("right"==W?(na+=ra+fa+ea,ba+=ma,na=aa?na-w:na+w):(na-=fa,aa||(na-=C+w))),f&&(x+=f),aa=-3,"right"==W&&(aa+=ma),Y&&(x>ka+1||aa>x)&&(Y.remove(),Y=null));T&&(T.translate(na,ba),e.setCN(p,T,a.bcn+"tick"),e.setCN(p,T,q,!0),g&&e.setCN(p,T,"guide"));!1===a.visible&&(T&&T.remove(),Y&&(Y.remove(),Y=null));Y&&(Y.attr({"text-anchor":la}),Y.translate(H,x),0!==
n&&Y.rotate(-n,a.chart.backgroundColor),a.allLabels.push(Y),this.label=Y,e.setCN(p,Y,a.bcn+"label"),e.setCN(p,Y,q,!0),g&&e.setCN(p,Y,"guide"));Z&&(e.setCN(p,Z,a.bcn+"grid"),e.setCN(p,Z,q,!0),g&&e.setCN(p,Z,"guide"));X&&(e.setCN(p,X,a.bcn+"fill"),e.setCN(p,X,q,!0));m?Z&&e.setCN(p,Z,a.bcn+"grid-minor"):(a.counter=0===Da?1:0,a.previousCoord=b);0===this.set.node.childNodes.length&&this.set.remove()},graphics:function(){return this.set},getLabel:function(){return this.label}})})();
(function(){var e=window.PieCharts;e.RecFill=e.Class({construct:function(a,b,c,d){var h=a.dx,f=a.dy,g=a.orientation,k=0;if(b>c){var l=b;b=c;c=l}var m=d.fillAlpha;isNaN(m)&&(m=0);var l=a.chart.container,n=d.fillColor;"V"==g?(b=e.fitToBounds(b,0,a.viH),c=e.fitToBounds(c,0,a.viH)):(b=e.fitToBounds(b,0,a.viW),c=e.fitToBounds(c,0,a.viW));c-=b;isNaN(c)&&(c=4,k=2,m=0);0>c&&"object"==typeof n&&(n=n.join(",").split(",").reverse());"V"==g?(g=e.rect(l,a.viW,c,n,m),g.translate(h,b-k+f)):(g=e.rect(l,c,a.viH,n,
m),g.translate(b-k+h,f));e.setCN(a.chart,g,"guide-fill");d.id&&e.setCN(a.chart,g,"guide-fill-"+d.id);this.set=l.set([g])},graphics:function(){return this.set},getLabel:function(){}})})();
(function(){var e=window.PieCharts;e.PieChart=e.Class({construct:function(a){this.theme=a;this.classNamePrefix="PieCharts";this.addClassNames=!1;this.version="3.15.0";e.addChart(this);this.createEvents("dataUpdated","init","rendered","drawn","failed","resized");this.height=this.width="100%";this.dataChanged=!0;this.chartCreated=!1;this.previousWidth=this.previousHeight=0;this.backgroundColor="#FFFFFF";this.borderAlpha=this.backgroundAlpha=0;this.color=this.borderColor="#000000";this.fontFamily="Verdana";
this.fontSize=11;this.usePrefixes=!1;this.addCodeCredits=this.autoResize=!0;this.precision=-1;this.percentPrecision=2;this.decimalSeparator=".";this.thousandsSeparator=",";this.labels=[];this.allLabels=[];this.titles=[];this.marginRight=this.marginLeft=this.autoMarginOffset=0;this.timeOuts=[];this.creditsPosition="top-left";var b=document.createElement("div"),c=b.style;c.overflow="hidden";c.position="relative";c.textAlign="left";this.chartDiv=b;b=document.createElement("div");c=b.style;c.overflow=
"hidden";c.position="relative";c.textAlign="left";this.legendDiv=b;this.titleHeight=0;this.hideBalloonTime=150;this.handDrawScatter=2;this.handDrawThickness=1;this.prefixesOfBigNumbers=[{number:1E3,prefix:"k"},{number:1E6,prefix:"M"},{number:1E9,prefix:"G"},{number:1E12,prefix:"T"},{number:1E15,prefix:"P"},{number:1E18,prefix:"E"},{number:1E21,prefix:"Z"},{number:1E24,prefix:"Y"}];this.prefixesOfSmallNumbers=[{number:1E-24,prefix:"y"},{number:1E-21,prefix:"z"},{number:1E-18,prefix:"a"},{number:1E-15,
prefix:"f"},{number:1E-12,prefix:"p"},{number:1E-9,prefix:"n"},{number:1E-6,prefix:"\ufffd\ufffd"},{number:.001,prefix:"m"}];this.panEventsEnabled=!0;this.product="PieCharts";this.animations=[];this.balloon=new e.PieBalloon(this.theme);this.balloon.chart=this;e.applyTheme(this,a,"PieChart")},drawChart:function(){0<this.realWidth&&0<this.realHeight&&(this.drawBackground(),this.redrawLabels(),this.drawTitles(),this.brr())},drawBackground:function(){e.remove(this.background);var a=this.container,b=this.backgroundColor,
c=this.backgroundAlpha,d=this.set;e.isModern||0!==c||(c=.001);var h=this.updateWidth();this.realWidth=h;var f=this.updateHeight();this.realHeight=f;b=e.polygon(a,[0,h-1,h-1,0],[0,0,f-1,f-1],b,c,1,this.borderColor,this.borderAlpha);e.setCN(this,b,"bg");this.background=b;d.push(b);(b=this.backgroundImage)&&(a=a.image(b,0,0,h,f),e.setCN(this,b,"bg-image"),this.bgImg=a,d.push(a))},drawTitles:function(a){var b=this.titles;if(this.titleHeight=0,e.ifArray(b)){var c,d=20;for(c=0;c<b.length;c++){var h=b[c],
h=e.processObject(h,e.Title,this.theme);if(!1!==h.enabled){var f=h.color;void 0===f&&(f=this.color);var g=h.size;isNaN(g)&&(g=this.fontSize+2);isNaN(h.alpha);var k=this.marginLeft,f=e.wrappedText(this.container,h.text,f,this.fontFamily,g,"middle",!0,this.divRealWidth-20);f.translate(k+(this.realWidth-this.marginRight-k)/2,d);f.node.style.pointerEvents="none";h.sprite=f;e.setCN(this,f,"title");h.id&&e.setCN(this,f,"title-"+h.id);k=!0;void 0!==h.bold&&(k=h.bold);k&&f.attr({"font-weight":"bold"});f.attr({opacity:h.alpha});
d+=f.getBBox().height+5;a?f.remove():this.freeLabelsSet.push(f)}}this.titleHeight=d-10}},write:function(a){if(a="object"!=typeof a?document.getElementById(a):a){for(;a.firstChild;)a.removeChild(a.firstChild);this.div=a;a.style.overflow="hidden";a.style.textAlign="left";var b=this.chartDiv,c=this.legendDiv,d=this.legend,h=c.style,f=b.style;this.measure();this.previousHeight=this.divRealHeight;this.previousWidth=this.divRealWidth;var g,k=document.createElement("div");g=k.style;g.position="relative";
this.containerDiv=k;k.className=this.classNamePrefix+"-main-div";b.className=this.classNamePrefix+"-chart-div";a.appendChild(k);var l=this.exportConfig;if(l&&e.PieExport&&!this.PieExport&&(this.PieExport=new e.PieExport(this,l)),this.amExport&&e.PieExport&&(this.PieExport=e.extend(this.amExport,new e.PieExport(this),!0)),this.PieExport&&this.PieExport.init&&this.PieExport.init(),d)if(d=this.addLegend(d,d.divId),d.enabled)switch(d.position){case "bottom":k.appendChild(b);k.appendChild(c);break;case "top":k.appendChild(c);
k.appendChild(b);break;case "absolute":g.width=a.style.width;g.height=a.style.height;h.position="absolute";f.position="absolute";void 0!==d.left&&(h.left=d.left+"px");void 0!==d.right&&(h.right=d.right+"px");void 0!==d.top&&(h.top=d.top+"px");void 0!==d.bottom&&(h.bottom=d.bottom+"px");d.marginLeft=0;d.marginRight=0;k.appendChild(b);k.appendChild(c);break;case "right":g.width=a.style.width;g.height=a.style.height;h.position="relative";f.position="absolute";k.appendChild(b);k.appendChild(c);break;
case "left":g.width=a.style.width;g.height=a.style.height;h.position="absolute";f.position="relative";k.appendChild(b);k.appendChild(c);break;case "outside":k.appendChild(b)}else k.appendChild(b);else k.appendChild(b);this.listenersAdded||(this.addListeners(),this.listenersAdded=!0);this.initChart()}},createLabelsSet:function(){e.remove(this.labelsSet);this.labelsSet=this.container.set();this.freeLabelsSet.push(this.labelsSet)},initChart:function(){window.PieCharts_path&&(this.path=window.PieCharts_path);
void 0===this.path&&(this.path=e.getPath());void 0===this.path&&(this.path="PieCharts/");this.path=e.normalizeUrl(this.path);void 0===this.pathToImages&&(this.pathToImages=this.path+"images/");this.initHC||(e.callInitHandler(this),this.initHC=!0);this.renderFix();e.applyLang(this.language,this);var a=this.numberFormatter;a&&(isNaN(a.precision)||(this.precision=a.precision),void 0!==a.thousandsSeparator&&(this.thousandsSeparator=a.thousandsSeparator),void 0!==a.decimalSeparator&&(this.decimalSeparator=
a.decimalSeparator));(a=this.percentFormatter)&&!isNaN(a.precision)&&(this.percentPrecision=a.precision);this.nf={precision:this.precision,thousandsSeparator:this.thousandsSeparator,decimalSeparator:this.decimalSeparator};this.pf={precision:this.percentPrecision,thousandsSeparator:this.thousandsSeparator,decimalSeparator:this.decimalSeparator};this.divIsFixed=e.findIfFixed(this.chartDiv);this.destroy();(a=this.container)?(a.container.innerHTML="",a.width=this.realWidth,a.height=this.realHeight,a.addDefs(this),
this.chartDiv.appendChild(a.container)):a=new e.PieDraw(this.chartDiv,this.realWidth,this.realHeight,this);this.container=a;this.checkDisplay();a.chart=this;e.VML||e.SVG?(a.handDrawn=this.handDrawn,a.handDrawScatter=this.handDrawScatter,a.handDrawThickness=this.handDrawThickness,this.set&&this.set.remove(),this.set=a.set(),this.gridSet&&this.gridSet.remove(),this.gridSet=a.set(),this.cursorLineSet&&this.cursorLineSet.remove(),this.cursorLineSet=a.set(),this.graphsBehindSet&&this.graphsBehindSet.remove(),
this.graphsBehindSet=a.set(),this.bulletBehindSet&&this.bulletBehindSet.remove(),this.bulletBehindSet=a.set(),this.columnSet&&this.columnSet.remove(),this.columnSet=a.set(),this.graphsSet&&this.graphsSet.remove(),this.graphsSet=a.set(),this.trendLinesSet&&this.trendLinesSet.remove(),this.trendLinesSet=a.set(),this.axesSet&&this.axesSet.remove(),this.axesSet=a.set(),this.cursorSet&&this.cursorSet.remove(),this.cursorSet=a.set(),this.scrollbarsSet&&this.scrollbarsSet.remove(),this.scrollbarsSet=a.set(),
this.bulletSet&&this.bulletSet.remove(),this.bulletSet=a.set(),this.freeLabelsSet&&this.freeLabelsSet.remove(),this.axesLabelsSet&&this.axesLabelsSet.remove(),this.axesLabelsSet=a.set(),this.freeLabelsSet=a.set(),this.balloonsSet&&this.balloonsSet.remove(),this.balloonsSet=a.set(),this.zoomButtonSet&&this.zoomButtonSet.remove(),this.zbSet&&(this.zbSet.remove(),this.zbSet=null),this.zoomButtonSet=a.set(),this.linkSet&&this.linkSet.remove(),this.linkSet=a.set()):this.fire("failed",{type:"failed",chart:this})},
premeasure:function(){var a=this.div;if(a){this.boundingRect=this.chartDiv.getBoundingClientRect();var b=a.offsetWidth,c=a.offsetHeight;a.clientHeight&&(b=a.clientWidth,c=a.clientHeight);b==this.mw&&c==this.mh||(this.mw=b,this.mh=c,this.measure())}},measure:function(){var a=this.div;if(a){var b=this.chartDiv,c=a.offsetWidth,d=a.offsetHeight,h=this.container;a.clientHeight&&(c=a.clientWidth,d=a.clientHeight);var f=e.removePx(e.getStyle(a,"padding-left")),g=e.removePx(e.getStyle(a,"padding-right")),
k=e.removePx(e.getStyle(a,"padding-top")),l=e.removePx(e.getStyle(a,"padding-bottom"));isNaN(f)||(c-=f);isNaN(g)||(c-=g);isNaN(k)||(d-=k);isNaN(l)||(d-=l);f=a.style;a=f.width;f=f.height;-1!=a.indexOf("px")&&(c=e.removePx(a));-1!=f.indexOf("px")&&(d=e.removePx(f));d=Math.round(d);c=Math.round(c);a=Math.round(e.toCoordinate(this.width,c));f=Math.round(e.toCoordinate(this.height,d));(c!=this.previousWidth||d!=this.previousHeight)&&0<a&&0<f&&(b.style.width=a+"px",b.style.height=f+"px",b.style.padding=
0,h&&h.setSize(a,f),this.balloon=e.processObject(this.balloon,e.PieBalloon,this.theme),this.balloon.setBounds(2,2,a-2,f));this.balloon.chart=this;this.realWidth=a;this.realHeight=f;this.divRealWidth=c;this.divRealHeight=d}},checkDisplay:function(){if(this.container){var a=e.rect(this.container,10,10),b=a.getBBox();0===b.width&&0===b.height&&(this.divRealHeight=this.divRealWidth=this.realHeight=this.realWidth=0,this.previousWidth=this.previousHeight=0/0);a.remove()}},destroy:function(){this.chartDiv.innerHTML=
"";this.clearTimeOuts();this.legend&&this.legend.destroy()},clearTimeOuts:function(){var a=this.timeOuts;if(a){var b;for(b=0;b<a.length;b++)clearTimeout(a[b])}this.timeOuts=[]},clear:function(a){if(e.callMethod("clear",[this.chartScrollbar,this.scrollbarV,this.scrollbarH,this.chartCursor]),this.chartCursor=this.scrollbarH=this.scrollbarV=this.chartScrollbar=null,this.clearTimeOuts(),this.container&&(this.container.remove(this.chartDiv),this.container.remove(this.legendDiv)),a||e.removeChart(this),
a=this.div)for(;a.firstChild;)a.removeChild(a.firstChild);this.legend&&this.legend.destroy()},setMouseCursor:function(a){"auto"==a&&e.isNN&&(a="default");this.chartDiv.style.cursor=a;this.legendDiv.style.cursor=a},redrawLabels:function(){this.labels=[];var a=this.allLabels;this.createLabelsSet();var b;for(b=0;b<a.length;b++)this.drawLabel(a[b])},drawLabel:function(a){if(this.container&&!1!==a.enabled){a=e.processObject(a,e.Label,this.theme);var b=a.y,c=a.text,d=a.align,h=a.size,f=a.color,g=a.rotation,
k=a.alpha,l=a.bold,m=e.toCoordinate(a.x,this.realWidth),b=e.toCoordinate(b,this.realHeight);m||(m=0);b||(b=0);void 0===f&&(f=this.color);isNaN(h)&&(h=this.fontSize);d||(d="start");"left"==d&&(d="start");"right"==d&&(d="end");"center"==d&&(d="middle",g?b=this.realHeight-b+b/2:m=this.realWidth/2-m);void 0===k&&(k=1);void 0===g&&(g=0);b+=h/2;c=e.text(this.container,c,f,this.fontFamily,h,d,l,k);c.translate(m,b);e.setCN(this,c,"label");a.id&&e.setCN(this,c,"label-"+a.id);0!==g&&c.rotate(g);a.url?(c.setAttr("cursor",
"pointer"),c.click(function(){e.getURL(a.url)})):c.node.style.pointerEvents="none";this.labelsSet.push(c);this.labels.push(c)}},addLabel:function(a,b,c,d,e,f,g,k,l,m){a={x:a,y:b,text:c,align:d,size:e,color:f,alpha:k,rotation:g,bold:l,url:m,enabled:!0};this.container&&this.drawLabel(a);this.allLabels.push(a)},clearLabels:function(){var a,b=this.labels;for(a=b.length-1;0<=a;a--)b[a].remove();this.labels=[];this.allLabels=[]},updateHeight:function(){var a=this.divRealHeight,b=this.legend;if(b){var c=
this.legendDiv.offsetHeight,b=b.position;("top"==b||"bottom"==b)&&(a-=c,(0>a||isNaN(a))&&(a=0),this.chartDiv.style.height=a+"px")}return a},updateWidth:function(){var a=this.divRealWidth,b=this.divRealHeight,c=this.legend;if(c){var d=this.legendDiv,e=d.offsetWidth;isNaN(c.width)||(e=c.width);c.ieW&&(e=c.ieW);var f=d.offsetHeight,d=d.style,g=this.chartDiv.style,c=c.position;("right"==c||"left"==c)&&(a-=e,(0>a||isNaN(a))&&(a=0),g.width=a+"px","left"==c?(g.left=e+"px",d.left="0px"):(g.left="0px",d.left=
a+"px"),b>f&&(d.top=(b-f)/2+"px"))}return a},getTitleHeight:function(){return this.drawTitles(!0),this.titleHeight},addTitle:function(a,b,c,d,e){return isNaN(b)&&(b=this.fontSize+2),a={text:a,size:b,color:c,alpha:d,bold:e,enabled:!0},this.titles.push(a),a},handleWheel:function(a){var b=0;a||(a=window.event);a.wheelDelta?b=a.wheelDelta/120:a.detail&&(b=-a.detail/3);b&&this.handleWheelReal(b,a.shiftKey);a.preventDefault&&a.preventDefault()},handleWheelReal:function(){},addListeners:function(){var a=
this,b=a.chartDiv;document.addEventListener?(a.panEventsEnabled&&(b.style.msTouchAction="none"),"ontouchstart"in document.documentElement&&(b.addEventListener("touchstart",function(b){a.handleTouchStart.call(a,b)},!0),b.addEventListener("touchmove",function(b){a.handleMouseMove.call(a,b)},!0),b.addEventListener("touchend",function(b){a.handleTouchEnd.call(a,b)},!0)),b.addEventListener("mousedown",function(b){a.mouseIsOver=!0;a.handleMouseMove.call(a,b);a.handleMouseDown.call(a,b)},!0),b.addEventListener("mouseover",
function(b){a.handleMouseOver.call(a,b)},!0),b.addEventListener("mouseout",function(b){a.handleMouseOut.call(a,b)},!0)):(b.attachEvent("onmousedown",function(b){a.handleMouseDown.call(a,b)}),b.attachEvent("onmouseover",function(b){a.handleMouseOver.call(a,b)}),b.attachEvent("onmouseout",function(b){a.handleMouseOut.call(a,b)}))},dispDUpd:function(){if(!this.skipEvents){var a;this.dispatchDataUpdated&&(this.dispatchDataUpdated=!1,a="dataUpdated",this.fire(a,{type:a,chart:this}));this.chartCreated||
(a="init",this.fire(a,{type:a,chart:this}));this.chartRendered||(a="rendered",this.fire(a,{type:a,chart:this}),this.chartRendered=!0);a="drawn";this.fire(a,{type:a,chart:this})}this.skipEvents=!1},validateSize:function(){var a=this;if(a.premeasure(),a.checkDisplay(),a.divRealWidth!=a.previousWidth||a.divRealHeight!=a.previousHeight){var b=a.legend;if(0<a.realWidth&&0<a.realHeight){if(a.sizeChanged=!0,b){a.legendInitTO&&clearTimeout(a.legendInitTO);var c=setTimeout(function(){b.invalidateSize()},10);
a.timeOuts.push(c);a.legendInitTO=c}"xy"!=a.type?a.marginsUpdated=!1:(a.marginsUpdated=!0,a.selfZoom=!0);clearTimeout(a.initTO);c=setTimeout(function(){a.initChart()},10);a.timeOuts.push(c);a.initTO=c}a.fire("resized",{type:"resized",chart:a});a.renderFix();b&&b.renderFix&&b.renderFix();a.previousHeight=a.divRealHeight;a.previousWidth=a.divRealWidth}},invalidateSize:function(){this.previousHeight=this.previousWidth=0/0;this.invalidateSizeReal()},invalidateSizeReal:function(){var a=this;a.marginsUpdated=
!1;clearTimeout(a.validateTO);var b=setTimeout(function(){a.validateSize()},5);a.timeOuts.push(b);a.validateTO=b},validateData:function(a){this.chartCreated&&(this.dataChanged=!0,this.marginsUpdated=!1,this.initChart(a))},validateNow:function(a,b){this.initTO&&clearTimeout(this.initTO);a&&(this.dataChanged=!0);this.skipEvents=b;this.chartRendered=!1;this.write(this.div)},showItem:function(a){a.hidden=!1;this.initChart()},hideItem:function(a){a.hidden=!0;this.initChart()},hideBalloon:function(){var a=
this;clearTimeout(a.hoverInt);clearTimeout(a.balloonTO);a.hoverInt=setTimeout(function(){a.hideBalloonReal.call(a)},a.hideBalloonTime)},cleanChart:function(){},hideBalloonReal:function(){var a=this.balloon;a&&a.hide()},showBalloon:function(a,b,c,d,e){var f=this;clearTimeout(f.balloonTO);clearTimeout(f.hoverInt);f.balloonTO=setTimeout(function(){f.showBalloonReal.call(f,a,b,c,d,e)},1)},showBalloonReal:function(a,b,c,d,e){this.handleMouseMove();var f=this.balloon;f.enabled&&(f.followCursor(!1),f.changeColor(b),
!c||f.fixedPosition?(f.setPosition(d,e),f.followCursor(!1)):f.followCursor(!0),a&&f.showBalloon(a))},handleMouseOver:function(){this.outTO&&clearTimeout(this.outTO);e.resetMouseOver();this.mouseIsOver=!0},handleMouseOut:function(){var a=this;a.outTO&&clearTimeout(a.outTO);a.outTO=setTimeout(function(){a.handleMouseOutReal()},10)},handleMouseOutReal:function(){e.resetMouseOver();this.mouseIsOver=!1},handleMouseMove:function(a){(a||(a=window.event),!a)||a.touches&&(a=a.touches.item(0),!a)||this.boundingRect&&
a.clientX&&(this.mouseX=a.clientX-this.boundingRect.left,this.mouseY=a.clientY-this.boundingRect.top)},handleTouchStart:function(a){this.handleMouseMove(a);this.handleMouseDown(a)},handleTouchEnd:function(a){this.handleMouseMove(a);e.resetMouseOver();this.handleReleaseOutside(a)},handleReleaseOutside:function(){},handleMouseDown:function(a){e.resetMouseOver();this.mouseIsOver=!0;a&&a.preventDefault&&(this.panEventsEnabled?a.preventDefault():a.touches||a.preventDefault())},addLegend:function(a,b){a=
e.processObject(a,e.PieLegend,this.theme);a.divId=b;a.ieW=0;var c;return c="object"!=typeof b&&b?document.getElementById(b):b,this.legend=a,a.chart=this,c?(a.div=c,a.position="outside",a.autoMargins=!1):a.div=this.legendDiv,a},removeLegend:function(){this.legend=void 0;this.legendDiv.innerHTML=""},handleResize:function(){(e.isPercents(this.width)||e.isPercents(this.height))&&this.invalidateSizeReal();this.renderFix()},renderFix:function(){if(!e.VML){var a=this.container;a&&a.renderFix()}},getSVG:function(){return e.hasSVG?
this.container:void 0},animate:function(a,b,c,d,h,f,g){return a["an_"+b]&&e.removeFromArray(this.animations,a["an_"+b]),c={obj:a,frame:0,attribute:b,from:c,to:d,time:h,effect:f,suffix:g},a["an_"+b]=c,this.animations.push(c),c},setLegendData:function(a){var b=this.legend;b&&b.setData(a)},stopAnim:function(a){e.removeFromArray(this.animations,a)},updateAnimations:function(){var a;if(this.container&&this.container.update(),this.animations)for(a=this.animations.length-1;0<=a;a--){var b=this.animations[a],
c=1E3*b.time/e.updateRate,d=b.frame+1,h=b.obj,f=b.attribute;if(c>=d){b.frame++;var g=Number(b.from),k=Number(b.to)-g,c=e[b.effect](0,d,g,k,c);0===k?(this.animations.splice(a,1),h.node.style[f]=Number(b.to)+b.suffix):h.node.style[f]=c+b.suffix}else h.node.style[f]=Number(b.to)+b.suffix,this.animations.splice(a,1)}},update:function(){this.updateAnimations()},inIframe:function(){try{return window.self!==window.top}catch(a){return!0}},brr:function(){var a,b="PieCharts.com",c=window.location.hostname.split(".");
if(2<=c.length&&(a=c[c.length-2]+"."+c[c.length-1]),this.amLink&&(c=this.amLink.parentNode)&&c.removeChild(this.amLink),c=this.creditsPosition,a!=b||!0===this.inIframe()){var b="http://www."+b,d=a=0,e=this.realWidth,f=this.realHeight,g=this.type;("serial"==g||"xy"==g||"gantt"==g)&&(a=this.marginLeftReal,d=this.marginTopReal,e=a+this.plotAreaWidth,f=d+this.plotAreaHeight);var g=b+"/javascript-charts/",k="JavaScript charts",l="";"ammap"==this.product&&(g=b+"/javascript-maps/",k="Interactive JavaScript maps",
l="JS map by PieCharts");b=document.createElement("a");l=document.createTextNode(l);b.setAttribute("href",g);b.setAttribute("title",k);b.appendChild(l);this.chartDiv.appendChild(b);this.amLink=b;g=b.style;g.position="absolute";g.textDecoration="none";g.color=this.color;g.fontFamily=this.fontFamily;g.fontSize=this.fontSize+"px";g.opacity=.7;g.display="block";var k=b.offsetWidth,b=b.offsetHeight,l=5+a,m=d+5;"bottom-left"==c&&(l=5+a,m=f-b-3);"bottom-right"==c&&(l=e-k-5,m=f-b-3);"top-right"==c&&(l=e-
k-5,m=d+5);g.left=l+"px";g.top=m+"px"}}});e.Slice=e.Class({construct:function(){}});e.SerialDataItem=e.Class({construct:function(){}});e.GraphDataItem=e.Class({construct:function(){}});e.Guide=e.Class({construct:function(a){this.cname="Guide";e.applyTheme(this,a,this.cname)}});e.Title=e.Class({construct:function(a){this.cname="Title";e.applyTheme(this,a,this.cname)}});e.Label=e.Class({construct:function(a){this.cname="Label";e.applyTheme(this,a,this.cname)}})})();
(function(){var e=window.PieCharts;e.PieGraph=e.Class({construct:function(a){this.cname="PieGraph";this.createEvents("rollOverGraphItem","rollOutGraphItem","clickGraphItem","doubleClickGraphItem","rightClickGraphItem","clickGraph","rollOverGraph","rollOutGraph");this.type="line";this.stackable=!0;this.columnCount=1;this.columnIndex=0;this.centerCustomBullets=this.showBalloon=!0;this.maxBulletSize=50;this.minBulletSize=4;this.balloonText="[[value]]";this.hidden=this.scrollbar=this.animationPlayed=!1;
this.pointPosition="middle";this.depthCount=1;this.includeInMinMax=!0;this.negativeBase=0;this.visibleInLegend=!0;this.showAllValueLabels=!1;this.showBulletsAt=this.showBalloonAt="close";this.lineThickness=1;this.dashLength=0;this.connect=!0;this.lineAlpha=1;this.bullet="none";this.bulletBorderThickness=2;this.bulletBorderAlpha=0;this.bulletAlpha=1;this.bulletSize=8;this.cornerRadiusTop=this.hideBulletsCount=this.bulletOffset=0;this.cursorBulletAlpha=1;this.gradientOrientation="vertical";this.dy=
this.dx=0;this.periodValue="";this.clustered=!0;this.periodSpan=1;this.y=this.x=0;this.switchable=!0;this.tcc=this.minDistance=1;this.labelRotation=0;this.labelAnchor="auto";this.labelOffset=3;this.bcn="graph-";this.dateFormat="MMM DD, YYYY";e.applyTheme(this,a,this.cname)},draw:function(){var a=this.chart,b=a.type;isNaN(this.precision)||(this.numberFormatter?this.numberFormatter.precision=this.precision:this.numberFormatter={precision:this.precision,decimalSeparator:a.decimalSeparator,thousandsSeparator:a.thousandsSeparator});
var c=a.container;this.container=c;this.destroy();var d=c.set(),h=c.set();this.behindColumns?(a.graphsBehindSet.push(d),a.bulletBehindSet.push(h)):(a.graphsSet.push(d),a.bulletSet.push(h));var f=this.bulletAxis;if(e.isString(f)&&(this.bulletAxis=a.getValueAxisById(f)),this.bulletSet=h,!this.scrollbar){var f=a.marginLeftReal,g=a.marginTopReal;d.translate(f,g);h.translate(f,g)}c=c.set();e.remove(this.columnsSet);d.push(c);this.set=d;e.setCN(a,d,"graph-"+this.type);e.setCN(a,d,"graph-"+this.id);e.setCN(a,
h,"graph-"+this.type);e.setCN(a,h,"graph-"+this.id);this.columnsSet=c;this.columnsArray=[];this.ownColumns=[];this.allBullets=[];this.animationArray=[];(d=this.labelPosition)||(h=this.valueAxis.stackType,d="top","column"==this.type&&(a.rotate&&(d="right"),"100%"==h||"regular"==h)&&(d="middle"),this.labelPosition=d);e.ifArray(this.data)&&(a=!1,"xy"==b?this.xAxis.axisCreated&&this.yAxis.axisCreated&&(a=!0):this.valueAxis.axisCreated&&(a=!0),!this.hidden&&a&&this.createGraph())},createGraph:function(){var a=
this,b=a.chart;if(a.startAlpha=b.startAlpha,a.seqAn=b.sequencedAnimation,a.baseCoord=a.valueAxis.baseCoord,void 0===a.fillAlphas&&(a.fillAlphas=0),a.bulletColorR=a.bulletColor,void 0===a.bulletColorR&&(a.bulletColorR=a.lineColorR,a.bulletColorNegative=a.negativeLineColor),void 0===a.bulletAlpha&&(a.bulletAlpha=a.lineAlpha),b=b.type,"gantt"==b&&(b="serial"),clearTimeout(a.playedTO),!isNaN(a.valueAxis.min)&&!isNaN(a.valueAxis.max)){switch(b){case "serial":a.categoryAxis&&(a.createSerialGraph(),"candlestick"==
a.type&&1>a.valueAxis.minMaxMultiplier&&a.positiveClip(a.set));break;case "radar":a.createRadarGraph();break;case "xy":a.createXYGraph(),a.positiveClip(a.set)}a.playedTO=setTimeout(function(){a.setAnimationPlayed.call(a)},500*a.chart.startDuration)}},setAnimationPlayed:function(){this.animationPlayed=!0},createXYGraph:function(){var a=[],b=[],c=this.xAxis,d=this.yAxis;this.pmh=d.viH+1;this.pmw=c.viW+1;this.pmy=this.pmx=0;var e;for(e=this.start;e<=this.end;e++){var f=this.data[e].axes[c.id].graphs[this.id],
g=f.values,k=g.x,l=g.y,g=c.getCoordinate(k),m=d.getCoordinate(l);!isNaN(k)&&!isNaN(l)&&(a.push(g),b.push(m),f.x=g,f.y=m,k=this.createBullet(f,g,m,e),l=this.labelText)&&(f=this.createLabel(f,g,m,l),this.positionLabel(g,m,f,k),this.allBullets.push(f))}this.drawLineGraph(a,b);this.launchAnimation()},createRadarGraph:function(){var a,b,c,d,e,f=this.valueAxis.stackType,g=[],k=[],l=[],m=[];for(e=this.start;e<=this.end;e++){var n,q,p=this.data[e].axes[this.valueAxis.id].graphs[this.id];if("none"==f||"3d"==
f?n=p.values.value:(n=p.values.close,q=p.values.open),isNaN(n))this.connect||(this.drawLineGraph(g,k,l,m),g=[],k=[],l=[],m=[]);else{var t=this.y-(this.valueAxis.getCoordinate(n)-this.height),t=t*this.valueAxis.rMultiplier,r=180-360/(this.end-this.start+1)*e;if("middle"==this.valueAxis.pointPosition&&(r-=180/(this.end-this.start+1)),n=t*Math.sin(r/180*Math.PI),t*=Math.cos(r/180*Math.PI),g.push(n),k.push(t),!isNaN(q)){var u=this.y-(this.valueAxis.getCoordinate(q)-this.height),u=u*this.valueAxis.rMultiplier,
z=u*Math.sin(r/180*Math.PI),r=u*Math.cos(r/180*Math.PI);l.push(z);m.push(r);isNaN(c)&&(c=z);isNaN(d)&&(d=r)}r=this.createBullet(p,n,t,e);(z=this.labelText)&&(p=this.createLabel(p,n,t,z),this.positionLabel(n,t,p,r),this.allBullets.push(p));isNaN(a)&&(a=n);isNaN(b)&&(b=t)}}g.push(a);k.push(b);isNaN(c)||(l.push(c),m.push(d));this.drawLineGraph(g,k,l,m);this.launchAnimation()},positionLabel:function(a,b,c,d){var e="middle",f=!1,g=this.labelPosition,k=c.getBBox();if(d){var l=d.graphDataItem,m=this.chart.rotate,
n=l.isNegative,q=this.chart;switch(b-=k.height/4/2,g){case "top":g=m?"top":n?"bottom":"top";break;case "right":g=m&&n?"left":"right";break;case "bottom":g=m?"bottom":n?"top":"bottom";break;case "left":g=m&&n?"right":"left"}var p=l.columnGraphics,t=0,r=0;p&&(t=p.x,r=p.y);var u=this.labelOffset;switch(g){case "top":b-=d.size/2+k.height/2+u;break;case "right":e="start";a+=d.size/2+u;break;case "bottom":b+=d.size/2+k.height/2+u;break;case "left":e="end";a-=d.size/2+u;break;case "inside":"column"==this.type&&
(f=!0,m?n?(e="end",a=t-3-u):(e="start",a=t+3+u):b=n?r+7+u:r-10-u);break;case "middle":"column"==this.type&&(f=!0,m?a-=(a-t)/2+u-3:b-=(b-r)/2+u-3)}return"auto"!=this.labelAnchor&&(e=this.labelAnchor),c.attr({"text-anchor":e}),this.labelRotation&&c.rotate(this.labelRotation),c.translate(a,b),k=c.getBBox(),!this.showAllValueLabels&&p&&f&&(k.height>l.columnHeight||k.width>l.columnWidth)&&(c.remove(),c=!1),!c||"serial"!=q.type&&"gantt"!=q.type||(m?(0>b||b>this.height)&&(c.remove(),c=!1):(0>a||a>this.width)&&
(c.remove(),c=!1)),c}},getGradRotation:function(){var a=270;return"horizontal"==this.gradientOrientation&&(a=0),this.gradientRotation=a},createSerialGraph:function(){this.dashLengthSwitched=this.fillColorsSwitched=this.lineColorSwitched=void 0;var a=this.chart,b=this.id,c=this.index,d=this.data,h=this.chart.container,f=this.valueAxis,g=this.type,k=this.columnWidthReal,l=this.showBulletsAt;isNaN(this.columnWidth)||(k=this.columnWidth);isNaN(k)&&(k=.8);var m,n,q,p,t,r=this.useNegativeColorIfDown,u=
this.width,z=this.height,A=this.y,w=this.rotate,v=this.columnCount,y=e.toCoordinate(this.cornerRadiusTop,k/2),C=this.connect,B=[],D=[],I=this.chart.graphs.length,E=this.dx/this.tcc,L=this.dy/this.tcc,J=f.stackType,U=this.start,T=this.end,Z=this.scrollbar,Da="graph-column-";Z&&(Da="scrollbar-graph-column-");var aa,wa=this.categoryAxis,ra=this.baseCoord,ma=this.negativeBase,sa=this.columnIndex,W=this.lineThickness,da=this.lineAlpha,ka=this.lineColorR,ea=this.dashLength,fa=this.set,la=this.getGradRotation(),
ba=this.chart.columnSpacing,X=wa.cellWidth,ca=(X*k-v)/v;ba>ca&&(ba=ca);var H,x,na,ga,Ka,Y,eb,qb=z+1,rb=u+1,fb=0,sb=0,tb=this.fillColorsR,La=this.negativeFillColors,Ea=this.negativeLineColor,Wa=this.fillAlphas,Xa=this.negativeFillAlphas;"object"==typeof Wa&&(Wa=Wa[0]);"object"==typeof Xa&&(Xa=Xa[0]);var gb=f.getCoordinate(f.min);if(f.logarithmic&&(gb=f.getCoordinate(f.minReal)),this.minCoord=gb,this.resetBullet&&(this.bullet="none"),!(Z||"line"!=g&&"smoothedLine"!=g&&"step"!=g||(1==d.length&&"step"!=
g&&"none"==this.bullet&&(this.bullet="round",this.resetBullet=!0),!La&&void 0==Ea||r))){var Ra=ma;Ra>f.max&&(Ra=f.max);Ra<f.min&&(Ra=f.min);f.logarithmic&&(Ra=f.minReal);var Ha=f.getCoordinate(Ra),Ib=f.getCoordinate(f.max);w?(qb=z,rb=Math.abs(Ib-Ha)+1,ga=z,Ka=Math.abs(gb-Ha)+1,eb=sb=0,f.reversed?(fb=0,Y=Ha):(fb=Ha,Y=0)):(rb=u,qb=Math.abs(Ib-Ha)+1,Ka=u,ga=Math.abs(gb-Ha)+1,Y=fb=0,f.reversed?(eb=A,sb=Ha):eb=Ha+1)}var Ia=Math.round;this.pmx=Ia(fb);this.pmy=Ia(sb);this.pmh=Ia(qb);this.pmw=Ia(rb);this.nmx=
Ia(Y);this.nmy=Ia(eb);this.nmh=Ia(ga);this.nmw=Ia(Ka);e.isModern||(this.nmy=this.nmx=0,this.nmh=this.height);this.clustered||(v=1);k="column"==g?(X*k-ba*(v-1))/v:X*k;1>k&&(k=1);var Jb=this.fixedColumnWidth;isNaN(Jb)||(k=Jb);var K;if("line"==g||"step"==g||"smoothedLine"==g){if(0<U){for(K=U-1;-1<K;K--)if(H=d[K],x=H.axes[f.id].graphs[b],na=x.values.value,!isNaN(na)){U=K;break}if(this.lineColorField)for(K=U;-1<K;K--)if(H=d[K],x=H.axes[f.id].graphs[b],x.lineColor){this.bulletColorSwitched=this.lineColorSwitched=
x.lineColor;break}if(this.fillColorsField)for(K=U;-1<K;K--)if(H=d[K],x=H.axes[f.id].graphs[b],x.fillColors){this.fillColorsSwitched=x.fillColors;break}if(this.dashLengthField)for(K=U;-1<K;K--)if(H=d[K],x=H.axes[f.id].graphs[b],!isNaN(x.dashLength)){this.dashLengthSwitched=x.dashLength;break}}if(T<d.length-1)for(K=T+1;K<d.length;K++)if(H=d[K],x=H.axes[f.id].graphs[b],na=x.values.value,!isNaN(na)){T=K;break}}T<d.length-1&&T++;var Q=[],R=[],Ma=!1;("line"==g||"step"==g||"smoothedLine"==g)&&(this.stackable&&
"regular"==J||"100%"==J||this.fillToGraph)&&(Ma=!0);var Kb=this.noStepRisers,hb=-1E3,ib=-1E3,jb=this.minDistance,Na=!0,Ya=!1;for(K=U;T>=K;K++){H=d[K];x=H.axes[f.id].graphs[b];x.index=K;var Za,Oa=0/0;if(r&&void 0==this.openField)for(var ub=K+1;ub<d.length&&(!d[ub]||!(Za=d[K+1].axes[f.id].graphs[b])||!Za.values||(Oa=Za.values.value,isNaN(Oa)));ub++);var S,P,N,ha,ua,xa,oa=0/0,G=0/0,F=0/0,O=0/0,M=0/0,Pa=0/0,Fa=0/0,Qa=0/0,Ga=0/0,ya=0/0,za=0/0,ia=0/0,ja=0/0,V=0/0,vb=0/0,wb=0/0,pa=0/0,qa=void 0,Ja=tb,Sa=
Wa,Ba=ka,xb=this.proCandlesticks,kb=this.topRadius,$a=this.pattern;void 0!=x.pattern&&($a=x.pattern);isNaN(x.alpha)||(Sa=x.alpha);isNaN(x.dashLength)||(ea=x.dashLength);var Ca=x.values;if(f.recalculateToPercents&&(Ca=x.percents),Ca){if(V=this.stackable&&"none"!=J&&"3d"!=J?Ca.close:Ca.value,("candlestick"==g||"ohlc"==g)&&(V=Ca.close,wb=Ca.low,Fa=f.getCoordinate(wb),vb=Ca.high,Ga=f.getCoordinate(vb)),pa=Ca.open,F=f.getCoordinate(V),isNaN(pa)||(M=f.getCoordinate(pa),r&&(Oa=pa,pa=M=0/0)),r&&(void 0==
this.openField?Za&&(Za.isNegative=V>Oa?!0:!1,isNaN(Oa)&&(x.isNegative=!Na)):x.isNegative=Oa>V?!0:!1),!Z)switch(this.showBalloonAt){case "close":x.y=F;break;case "open":x.y=M;break;case "high":x.y=Ga;break;case "low":x.y=Fa}var oa=H.x[wa.id],Ta=this.periodSpan-1,ta=Math.floor(X/2)+Math.floor(Ta*X/2),Aa=ta,lb=0;if("left"==this.stepDirection&&(lb=(2*X+Ta*X)/2,oa-=lb),"center"==this.stepDirection&&(lb=X/2,oa-=lb),"start"==this.pointPosition&&(oa-=X/2+Math.floor(Ta*X/2),ta=0,Aa=Math.floor(X)+Math.floor(Ta*
X)),"end"==this.pointPosition&&(oa+=X/2+Math.floor(Ta*X/2),ta=Math.floor(X)+Math.floor(Ta*X),Aa=0),Kb){var yb=this.columnWidth;isNaN(yb)||(ta*=yb,Aa*=yb)}Z||(x.x=oa);-1E5>oa&&(oa=-1E5);oa>u+1E5&&(oa=u+1E5);w?(G=F,O=M,M=F=oa,isNaN(pa)&&!this.fillToGraph&&(O=ra),Pa=Fa,Qa=Ga):(O=G=oa,isNaN(pa)&&!this.fillToGraph&&(M=ra));(!xb&&pa>V||xb&&aa>V)&&(x.isNegative=!0,La&&(Ja=La),Xa&&(Sa=Xa),void 0!=Ea&&(Ba=Ea));Ya=!1;isNaN(V)||(r?V>Oa?(Na&&(Ya=!0),Na=!1):(Na||(Ya=!0),Na=!0):x.isNegative=ma>V?!0:!1,aa=V);var Lb=
!1;switch(Z&&a.chartScrollbar.ignoreCustomColors&&(Lb=!0),Lb||(void 0!=x.color&&(Ja=x.color),x.fillColors&&(Ja=x.fillColors)),g){case "line":isNaN(V)?C||(this.drawLineGraph(B,D,Q,R),B=[],D=[],Q=[],R=[]):((Math.abs(G-hb)>=jb||Math.abs(F-ib)>=jb)&&(B.push(G),D.push(F),hb=G,ib=F),ya=G,za=F,ia=G,ja=F,!Ma||isNaN(M)||isNaN(O)||(Q.push(O),R.push(M)),(Ya||void 0!=x.lineColor||void 0!=x.fillColors||!isNaN(x.dashLength))&&(this.drawLineGraph(B,D,Q,R),B=[G],D=[F],Q=[],R=[],!Ma||isNaN(M)||isNaN(O)||(Q.push(O),
R.push(M)),r?Na?(this.lineColorSwitched=ka,this.fillColorsSwitched=tb):(this.lineColorSwitched=Ea,this.fillColorsSwitched=La):(this.lineColorSwitched=x.lineColor,this.fillColorsSwitched=x.fillColors),this.dashLengthSwitched=x.dashLength),x.gap&&(this.drawLineGraph(B,D,Q,R),B=[],D=[],Q=[],R=[]));break;case "smoothedLine":isNaN(V)?C||(this.drawSmoothedGraph(B,D,Q,R),B=[],D=[],Q=[],R=[]):((Math.abs(G-hb)>=jb||Math.abs(F-ib)>=jb)&&(B.push(G),D.push(F),hb=G,ib=F),ya=G,za=F,ia=G,ja=F,!Ma||isNaN(M)||isNaN(O)||
(Q.push(O),R.push(M)),void 0==x.lineColor&&void 0==x.fillColors&&isNaN(x.dashLength)||(this.drawSmoothedGraph(B,D,Q,R),B=[G],D=[F],Q=[],R=[],!Ma||isNaN(M)||isNaN(O)||(Q.push(O),R.push(M)),this.lineColorSwitched=x.lineColor,this.fillColorsSwitched=x.fillColors,this.dashLengthSwitched=x.dashLength),x.gap&&(this.drawSmoothedGraph(B,D,Q,R),B=[],D=[],Q=[],R=[]));break;case "step":if(isNaN(V))C||((1>=this.periodSpan||1<this.periodSpan&&G-m>ta+Aa)&&(m=n=0/0),this.drawLineGraph(B,D,Q,R),B=[],D=[],Q=[],R=
[]);else{if(w?(isNaN(m)||(B.push(m),D.push(F-ta)),D.push(F-ta),B.push(G),D.push(F+Aa),B.push(G),!Ma||isNaN(M)||isNaN(O)||(isNaN(q)||(Q.push(q),R.push(M-ta)),Q.push(O),R.push(M-ta),Q.push(O),R.push(M+Aa))):(isNaN(n)||(D.push(n),B.push(G-ta)),B.push(G-ta),D.push(F),B.push(G+Aa),D.push(F),!Ma||isNaN(M)||isNaN(O)||(isNaN(p)||(Q.push(O-ta),R.push(p)),Q.push(O-ta),R.push(M),Q.push(O+Aa),R.push(M))),m=G,n=F,q=O,p=M,ya=G,za=F,ia=G,ja=F,Ya||void 0!=x.lineColor||void 0!=x.fillColors||!isNaN(x.dashLength)){var Zb=
B[B.length-2],$b=D[D.length-2];B.pop();D.pop();this.drawLineGraph(B,D,Q,R);B=[Zb];D=[$b];w?(D.push(F+Aa),B.push(G)):(B.push(G+Aa),D.push(F));Q=[];R=[];this.lineColorSwitched=x.lineColor;this.fillColorsSwitched=x.fillColors;this.dashLengthSwitched=x.dashLength;r&&(Na?(this.lineColorSwitched=ka,this.fillColorsSwitched=tb):(this.lineColorSwitched=Ea,this.fillColorsSwitched=La))}(Kb||x.gap)&&(m=n=0/0,this.drawLineGraph(B,D,Q,R),B=[],D=[],Q=[],R=[])}break;case "column":if(ua=Ba,void 0!=x.lineColor&&(ua=
x.lineColor),!isNaN(V)){r||(x.isNegative=ma>V?!0:!1);x.isNegative&&(La&&(Ja=La),void 0!=Ea&&(ua=Ea));var Mb=f.min,Nb=f.max;if(!(Mb>V&&Mb>pa||V>Nb&&pa>Nb)){var va;if(w){"3d"==J?(P=F-(v/2-this.depthCount+1)*(k+ba)+ba/2+L*sa,S=O+E*sa,va=sa):(P=Math.floor(F-(v/2-sa)*(k+ba)+ba/2),S=O,va=0);N=k;ya=G;za=P+k/2;isNaN(O)||O>G&&!x.isNegative&&(ya=O);ia=G;ja=P+k/2;P+N>z+va*L&&(N=z-P+va*L);va*L>P&&(N+=P,P=va*L);ha=G-O;var ac=S;S=e.fitToBounds(S,0,u);ha+=ac-S;ha=e.fitToBounds(ha,-S,u-S+E*sa);z>P&&0<N&&(qa=new e.Cuboid(h,
ha,N,E-a.d3x,L-a.d3y,Ja,Sa,W,ua,da,la,y,w,ea,$a,kb,Da),x.columnWidth=Math.abs(ha),x.columnHeight=Math.abs(N))}else{"3d"==J?(S=G-(v/2-this.depthCount+1)*(k+ba)+ba/2+E*sa,P=M+L*sa,va=sa):(S=G-(v/2-sa)*(k+ba)+ba/2,P=M,va=0);N=k;ya=S+k/2;za=F;isNaN(M)||F>M&&!x.isNegative&&(za=M);ia=S+k/2;ja=F;S+N>u+va*E&&(N=u-S+va*E);va*E>S&&(N+=S-va*E,S=va*E);ha=F-M;var bc=P;P=e.fitToBounds(P,this.dy,z);ha+=bc-P;ha=e.fitToBounds(ha,-P+L*sa,z-P);u+sa*E>S&&0<N&&(this.showOnAxis&&(P-=L/2),qa=new e.Cuboid(h,N,ha,E-a.d3x,
L-a.d3y,Ja,Sa,W,ua,this.lineAlpha,la,y,w,ea,$a,kb,Da),x.columnHeight=Math.abs(ha),x.columnWidth=Math.abs(N))}}qa&&(xa=qa.set,e.setCN(a,qa.set,"graph-"+this.type),e.setCN(a,qa.set,"graph-"+this.id),x.className&&e.setCN(a,qa.set,x.className,!0),x.columnGraphics=xa,xa.translate(S,P),this.columnsSet.push(xa),(x.url||this.showHandOnHover)&&xa.setAttr("cursor","pointer"),!Z)&&("none"==J&&(t=w?(this.end+1-K)*I-c:I*K+c),"3d"==J&&(w?(t=(this.end+1-K)*I-c-1E3*this.depthCount,ya+=E*this.columnIndex,ia+=E*this.columnIndex,
x.y+=E*this.columnIndex):(t=(I-c)*(K+1)+1E3*this.depthCount,za+=L*this.columnIndex,ja+=L*this.columnIndex,x.y+=L*this.columnIndex)),("regular"==J||"100%"==J)&&(t=w?0<Ca.value?(this.end+1-K)*I+c:(this.end+1-K)*I-c:0<Ca.value?I*K+c:I*K-c),this.columnsArray.push({column:qa,depth:t}),x.x=w?P+N/2:S+N/2,this.ownColumns.push(qa),this.animateColumns(qa,K,G,O,F,M),this.addListeners(xa,x))}break;case "candlestick":if(!isNaN(pa)&&!isNaN(V)){var Ua,ab;if(ua=Ba,void 0!=x.lineColor&&(ua=x.lineColor),w){if(P=F-
k/2,S=O,N=k,P+N>z&&(N=z-P),0>P&&(N+=P,P=0),z>P&&0<N){var zb,Ab;V>pa?(zb=[G,Qa],Ab=[O,Pa]):(zb=[O,Qa],Ab=[G,Pa]);!isNaN(Qa)&&!isNaN(Pa)&&z>F&&0<F&&(Ua=e.line(h,zb,[F,F],ua,da,W),ab=e.line(h,Ab,[F,F],ua,da,W));ha=G-O;qa=new e.Cuboid(h,ha,N,E,L,Ja,Wa,W,ua,da,la,y,w,ea,$a,kb,Da)}}else if(S=G-k/2,P=M+W/2,N=k,S+N>u&&(N=u-S),0>S&&(N+=S,S=0),ha=F-M,u>S&&0<N){xb&&V>=pa&&(Sa=0);var Bb,Cb,qa=new e.Cuboid(h,N,ha,E,L,Ja,Sa,W,ua,da,la,y,w,ea,$a,kb,Da);V>pa?(Bb=[F,Ga],Cb=[M,Fa]):(Bb=[M,Ga],Cb=[F,Fa]);!isNaN(Ga)&&
!isNaN(Fa)&&u>G&&0<G&&(Ua=e.line(h,[G,G],Bb,ua,da,W),ab=e.line(h,[G,G],Cb,ua,da,W),e.setCN(a,Ua,this.bcn+"line-high"),x.className&&e.setCN(a,Ua,x.className,!0),e.setCN(a,ab,this.bcn+"line-low"),x.className&&e.setCN(a,ab,x.className,!0))}qa&&(xa=qa.set,x.columnGraphics=xa,fa.push(xa),xa.translate(S,P-W/2),(x.url||this.showHandOnHover)&&xa.setAttr("cursor","pointer"),Ua&&(fa.push(Ua),fa.push(ab)),ya=G,za=F,w?(ja=F,ia=G,"open"==l&&(ia=O),"high"==l&&(ia=Qa),"low"==l&&(ia=Pa)):(ja=F,"open"==l&&(ja=M),
"high"==l&&(ja=Ga),"low"==l&&(ja=Fa),ia=G),Z||(x.x=w?P+N/2:S+N/2,this.animateColumns(qa,K,G,O,F,M),this.addListeners(xa,x)))}break;case "ohlc":if(!(isNaN(pa)||isNaN(vb)||isNaN(wb)||isNaN(V))){var Ob=h.set();fa.push(Ob);pa>V&&(x.isNegative=!0,void 0!=Ea&&(Ba=Ea));var mb,nb,ob;if(w){var Db=F-k/2,Db=e.fitToBounds(Db,0,z),Pb=e.fitToBounds(F,0,z),Eb=F+k/2,Eb=e.fitToBounds(Eb,0,z);nb=e.line(h,[O,O],[Db,Pb],Ba,da,W,ea);0<F&&z>F&&(mb=e.line(h,[Pa,Qa],[F,F],Ba,da,W,ea));ob=e.line(h,[G,G],[Pb,Eb],Ba,da,W,ea);
ja=F;ia=G;"open"==l&&(ia=O);"high"==l&&(ia=Qa);"low"==l&&(ia=Pa)}else{var Fb=G-k/2,Fb=e.fitToBounds(Fb,0,u),Qb=e.fitToBounds(G,0,u),Gb=G+k/2,Gb=e.fitToBounds(Gb,0,u);nb=e.line(h,[Fb,Qb],[M,M],Ba,da,W,ea);0<G&&u>G&&(mb=e.line(h,[G,G],[Fa,Ga],Ba,da,W,ea));ob=e.line(h,[Qb,Gb],[F,F],Ba,da,W,ea);ja=F;"open"==l&&(ja=M);"high"==l&&(ja=Ga);"low"==l&&(ja=Fa);ia=G}fa.push(nb);fa.push(mb);fa.push(ob);e.setCN(a,nb,this.bcn+"stroke-open");e.setCN(a,ob,this.bcn+"stroke-close");e.setCN(a,mb,this.bcn+"stroke");x.className&&
e.setCN(a,Ob,x.className,!0);ya=G;za=F}}if(!Z&&!isNaN(V)){var Rb=this.hideBulletsCount;if(this.end-this.start<=Rb||0===Rb){var Sb=this.createBullet(x,ia,ja,K),Tb=this.labelText;if(Tb&&Sb){var Hb=this.createLabel(x,ia,ja,Tb);(Hb=this.positionLabel(ya,za,Hb,Sb,N,ha))&&this.allBullets.push(Hb)}if("regular"==J||"100%"==J){var Ub=f.totalText;if(Ub){var Va=this.createLabel(x,0,0,Ub,f.totalTextColor);this.allBullets.push(Va);var bb,cb,Vb=Va.getBBox(),Wb=Vb.width,Xb=Vb.height,pb=f.totalTextOffset,Yb=f.totals[K];
Yb&&Yb.remove();var db=0;"column"!=g&&(db=this.bulletSize);w?(cb=F,bb=0>V?G-Wb/2-2-db-pb:G+Wb/2+3+db+pb):(bb=G,cb=0>V?F+Xb/2+db+pb:F-Xb/2-3-db-pb);Va.translate(bb,cb);f.totals[K]=Va;w?(0>cb||cb>z)&&Va.remove():(0>bb||bb>u)&&Va.remove()}}}}}}("line"==g||"step"==g||"smoothedLine"==g)&&("smoothedLine"==g?this.drawSmoothedGraph(B,D,Q,R):this.drawLineGraph(B,D,Q,R),Z||this.launchAnimation());this.bulletsHidden&&this.hideBullets();this.customBulletsHidden&&this.hideCustomBullets()},animateColumns:function(a,
b){var c=this,d=c.chart.startDuration;0<d&&!c.animationPlayed&&(c.seqAn?(a.set.hide(),c.animationArray.push(a),d=setTimeout(function(){c.animate.call(c)},d/(c.end-c.start+1)*(b-c.start)*1E3),c.timeOuts.push(d)):c.animate(a))},createLabel:function(a,b,c,d,h){var f=this.chart,g=a.labelColor;g||(g=this.color);g||(g=f.color);h&&(g=h);h=this.fontSize;void 0===h&&(this.fontSize=h=f.fontSize);var k=this.labelFunction;return d=f.formatString(d,a),d=e.cleanFromEmpty(d),k&&(d=k(a,d)),a=e.text(this.container,
d,g,f.fontFamily,h),a.node.style.pointerEvents="none",a.translate(b,c),this.bulletSet.push(a),a},positiveClip:function(a){a.clipRect(this.pmx,this.pmy,this.pmw,this.pmh)},negativeClip:function(a){a.clipRect(this.nmx,this.nmy,this.nmw,this.nmh)},drawLineGraph:function(a,b,c,d){var h=this;if(1<a.length){var f=h.set,g=h.chart,k=h.container,l=k.set(),m=k.set();f.push(m);f.push(l);var n=h.lineAlpha,q=h.lineThickness,f=h.fillAlphas,p=h.lineColorR,t=h.negativeLineAlpha;isNaN(t)&&(t=n);var r=h.lineColorSwitched;
r&&(p=r);var r=h.fillColorsR,u=h.fillColorsSwitched;u&&(r=u);var z=h.dashLength;(u=h.dashLengthSwitched)&&(z=u);var u=h.negativeLineColor,A=h.negativeFillColors,w=h.negativeFillAlphas,v=h.baseCoord;0!==h.negativeBase&&(v=h.valueAxis.getCoordinate(h.negativeBase),v>h.height&&(v=h.height),0>v&&(v=0));n=e.line(k,a,b,p,n,q,z,!1,!0);e.setCN(g,n,h.bcn+"stroke");l.push(n);l.click(function(a){h.handleGraphEvent(a,"clickGraph")}).mouseover(function(a){h.handleGraphEvent(a,"rollOverGraph")}).mouseout(function(a){h.handleGraphEvent(a,
"rollOutGraph")});void 0===u||h.useNegativeColorIfDown||(q=e.line(k,a,b,u,t,q,z,!1,!0),e.setCN(g,q,h.bcn+"stroke"),e.setCN(g,q,h.bcn+"stroke-negative"),m.push(q));(0<f||0<w)&&(q=a.join(";").split(";"),t=b.join(";").split(";"),n=g.type,"serial"==n||"radar"==n?0<c.length?(c.reverse(),d.reverse(),q=a.concat(c),t=b.concat(d)):"radar"!=n&&(h.rotate?(t.push(t[t.length-1]),q.push(v),t.push(t[0]),q.push(v),t.push(t[0]),q.push(q[0])):(q.push(q[q.length-1]),t.push(v),q.push(q[0]),t.push(v),q.push(a[0]),t.push(t[0]))):
"xy"==n&&(b=h.fillToAxis)&&(e.isString(b)&&(b=g.getValueAxisById(b)),"H"==b.orientation?(v="top"==b.position?0:b.viH,q.push(q[q.length-1]),t.push(v),q.push(q[0]),t.push(v),q.push(a[0]),t.push(t[0])):(v="left"==b.position?0:b.viW,t.push(t[t.length-1]),q.push(v),t.push(t[0]),q.push(v),t.push(t[0]),q.push(q[0]))),a=h.gradientRotation,0<f&&(b=e.polygon(k,q,t,r,f,1,"#000",0,a),b.pattern(h.pattern,0/0,g.path),e.setCN(g,b,h.bcn+"fill"),l.push(b)),(A||void 0!==u)&&(isNaN(w)&&(w=f),A||(A=u),k=e.polygon(k,
q,t,A,w,1,"#000",0,a),e.setCN(g,k,h.bcn+"fill"),e.setCN(g,k,h.bcn+"fill-negative"),k.pattern(h.pattern,0/0,g.path),m.push(k),m.click(function(a){h.handleGraphEvent(a,"clickGraph")}).mouseover(function(a){h.handleGraphEvent(a,"rollOverGraph")}).mouseout(function(a){h.handleGraphEvent(a,"rollOutGraph")})));h.applyMask(m,l)}},applyMask:function(a,b){var c=a.length();"serial"!=this.chart.type||this.scrollbar||(this.positiveClip(b),0<c&&this.negativeClip(a))},drawSmoothedGraph:function(a,b,c,d){if(1<a.length){var h=
this.set,f=this.chart,g=this.container,k=g.set(),l=g.set();h.push(l);h.push(k);var m=this.lineAlpha,n=this.lineThickness,h=this.dashLength,q=this.fillAlphas,p=this.lineColorR,t=this.fillColorsR,r=this.negativeLineColor,u=this.negativeFillColors,z=this.negativeFillAlphas,A=this.baseCoord,w=this.lineColorSwitched;w&&(p=w);(w=this.fillColorsSwitched)&&(t=w);w=this.negativeLineAlpha;isNaN(w)&&(w=m);m=new e.Bezier(g,a,b,p,m,n,t,0,h);e.setCN(f,m,this.bcn+"stroke");k.push(m.path);void 0!==r&&(n=new e.Bezier(g,
a,b,r,w,n,t,0,h),e.setCN(f,n,this.bcn+"stroke"),e.setCN(f,n,this.bcn+"stroke-negative"),l.push(n.path));0<q&&(m=a.join(";").split(";"),p=b.join(";").split(";"),n="",0<c.length?(c.push("M"),d.push("M"),c.reverse(),d.reverse(),m=a.concat(c),p=b.concat(d)):(this.rotate?(n+=" L"+A+","+b[b.length-1],n+=" L"+A+","+b[0]):(n+=" L"+a[a.length-1]+","+A,n+=" L"+a[0]+","+A),n+=" L"+a[0]+","+b[0]),c=new e.Bezier(g,m,p,0/0,0,0,t,q,h,n),e.setCN(f,c,this.bcn+"fill"),c.path.pattern(this.pattern,0/0,f.path),k.push(c.path),
u||void 0!==r)&&(z||(z=q),u||(u=r),a=new e.Bezier(g,a,b,0/0,0,0,u,z,h,n),a.path.pattern(this.pattern,0/0,f.path),e.setCN(f,a,this.bcn+"fill"),e.setCN(f,a,this.bcn+"fill-negative"),l.push(a.path));this.applyMask(l,k)}},launchAnimation:function(){var a=this,b=a.chart.startDuration;if(0<b&&!a.animationPlayed){var c=a.set,d=a.bulletSet;e.VML||(c.attr({opacity:a.startAlpha}),d.attr({opacity:a.startAlpha}));c.hide();d.hide();a.seqAn?(b=setTimeout(function(){a.animateGraphs.call(a)},a.index*b*1E3),a.timeOuts.push(b)):
a.animateGraphs()}},animateGraphs:function(){var a=this.chart,b=this.set,c=this.bulletSet,d=this.x,e=this.y;b.show();c.show();var f=a.startDuration,a=a.startEffect;b&&(this.rotate?(b.translate(-1E3,e),c.translate(-1E3,e)):(b.translate(d,-1E3),c.translate(d,-1E3)),b.animate({opacity:1,translate:d+","+e},f,a),c.animate({opacity:1,translate:d+","+e},f,a))},animate:function(a){var b=this.chart,c=this.animationArray;!a&&0<c.length&&(a=c[0],c.shift());c=e[e.getEffect(b.startEffect)];b=b.startDuration;a&&
(this.rotate?a.animateWidth(b,c):a.animateHeight(b,c),a.set.show())},legendKeyColor:function(){var a=this.legendColor,b=this.lineAlpha;return void 0===a&&(a=this.lineColorR,0===b&&(b=this.fillColorsR)&&(a="object"==typeof b?b[0]:b)),a},legendKeyAlpha:function(){var a=this.legendAlpha;return void 0===a&&(a=this.lineAlpha,this.fillAlphas>a&&(a=this.fillAlphas),0===a&&(a=this.bulletAlpha),0===a&&(a=1)),a},createBullet:function(a,b,c){if(!isNaN(b)&&!isNaN(c)){var d=this.chart,h=this.container,f=this.bulletOffset,
g=this.bulletSize;isNaN(a.bulletSize)||(g=a.bulletSize);var k=a.values.value,l=this.maxValue,m=this.minValue,n=this.maxBulletSize,q=this.minBulletSize;isNaN(l)||(isNaN(k)||(g=(k-m)/(l-m)*(n-q)+q),m==l&&(g=n));l=g;this.bulletAxis&&(g=a.values.error,isNaN(g)||(k=g),g=this.bulletAxis.stepWidth*k);g<this.minBulletSize&&(g=this.minBulletSize);this.rotate?b=a.isNegative?b-f:b+f:c=a.isNegative?c+f:c-f;var p,q=this.bulletColorR;a.lineColor&&(this.bulletColorSwitched=a.lineColor);this.bulletColorSwitched&&
(q=this.bulletColorSwitched);a.isNegative&&void 0!==this.bulletColorNegative&&(q=this.bulletColorNegative);void 0!==a.color&&(q=a.color);var t;"xy"==d.type&&this.valueField&&(t=this.pattern,a.pattern&&(t=a.pattern));f=this.bullet;a.bullet&&(f=a.bullet);var k=this.bulletBorderThickness,m=this.bulletBorderColorR,n=this.bulletBorderAlpha,r=this.bulletAlpha;m||(m=q);this.useLineColorForBulletBorder&&(m=this.lineColorR,this.lineColorSwitched&&(m=this.lineColorSwitched));var u=a.alpha;return isNaN(u)||
(r=u),("none"!=this.bullet||a.bullet)&&(p=e.bullet(h,f,g,q,r,k,m,n,l,0,t,d.path)),(this.customBullet||a.customBullet)&&(t=this.customBullet,a.customBullet&&(t=a.customBullet),t&&(p&&p.remove(),"function"==typeof t?(p=new t,p.chart=d,a.bulletConfig&&(p.availableSpace=c,p.graph=this,p.graphDataItem=a,p.bulletY=c,a.bulletConfig.minCoord=this.minCoord-c,p.bulletConfig=a.bulletConfig),p.write(h),p=p.set):(p=h.set(),h=h.image(t,0,0,g,g),p.push(h),this.centerCustomBullets&&h.translate(-g/2,-g/2)))),p&&((a.url||
this.showHandOnHover)&&p.setAttr("cursor","pointer"),("serial"==d.type||"gantt"==d.type)&&(-.5>b-0||b-0>this.width||-g/2>c||c-0>this.height)&&(p.remove(),p=null),p&&(this.bulletSet.push(p),p.translate(b,c),this.addListeners(p,a),this.allBullets.push(p)),a.bx=b,a.by=c,e.setCN(d,p,this.bcn+"bullet"),a.className&&e.setCN(d,p,a.className,!0)),p?(p.size=g||0,a.bulletGraphics=p):p={size:0},p.graphDataItem=a,p}},showBullets:function(){var a,b=this.allBullets;this.bulletsHidden=!1;for(a=0;a<b.length;a++)b[a].show()},
hideBullets:function(){var a,b=this.allBullets;this.bulletsHidden=!0;for(a=0;a<b.length;a++)b[a].hide()},showCustomBullets:function(){var a,b=this.allBullets;this.customBulletsHidden=!1;for(a=0;a<b.length;a++)b[a].graphDataItem.customBullet&&b[a].show()},hideCustomBullets:function(){var a,b=this.allBullets;this.customBulletsHidden=!0;for(a=0;a<b.length;a++)b[a].graphDataItem.customBullet&&b[a].hide()},addListeners:function(a,b){var c=this;a.mouseover(function(a){c.handleRollOver(b,a)}).mouseout(function(a){c.handleRollOut(b,
a)}).touchend(function(a){c.handleRollOver(b,a);c.chart.panEventsEnabled&&c.handleClick(b,a)}).touchstart(function(a){c.handleRollOver(b,a)}).click(function(a){c.handleClick(b,a)}).dblclick(function(a){c.handleDoubleClick(b,a)}).contextmenu(function(a){c.handleRightClick(b,a)})},handleRollOver:function(a,b){if(a){var c=this.chart,d={type:"rollOverGraphItem",item:a,index:a.index,graph:this,target:this,chart:this.chart,event:b};if(this.fire("rollOverGraphItem",d),c.fire("rollOverGraphItem",d),clearTimeout(c.hoverInt),
d=this.showBalloon,!c.chartCursor||"serial"!=c.type&&"gantt"!=c.type||(d=!1,!c.chartCursor.valueBalloonsEnabled&&this.showBalloon&&(d=!0)),d){var d=c.formatString(this.balloonText,a,!0),h=this.balloonFunction;h&&(d=h(a,a.graph));d=e.cleanFromEmpty(d);h=c.getBalloonColor(this,a);c.balloon.showBullet=!1;c.balloon.pointerOrientation="V";var f=a.x,g=a.y;c.rotate&&(f=a.y,g=a.x);""!==d?c.showBalloon(d,h,!0,f+c.marginLeftReal,g+c.marginTopReal):this.chart.hideBalloonReal()}else this.chart.hideBalloonReal()}this.handleGraphEvent(b,
"rollOverGraph")},handleRollOut:function(a,b){if(this.chart.hideBalloon(),a){var c={type:"rollOutGraphItem",item:a,index:a.index,graph:this,target:this,chart:this.chart,event:b};this.fire("rollOutGraphItem",c);this.chart.fire("rollOutGraphItem",c)}this.handleGraphEvent(b,"rollOutGraph")},handleClick:function(a,b){if(a){var c={type:"clickGraphItem",item:a,index:a.index,graph:this,target:this,chart:this.chart,event:b};this.fire("clickGraphItem",c);this.chart.fire("clickGraphItem",c);e.getURL(a.url,
this.urlTarget)}this.handleGraphEvent(b,"clickGraph")},handleGraphEvent:function(a,b){var c={type:b,graph:this,target:this,chart:this.chart,event:a};this.fire(b,c);this.chart.fire(b,c)},handleRightClick:function(a,b){if(a){var c={type:"rightClickGraphItem",item:a,index:a.index,graph:this,target:this,chart:this.chart,event:b};this.fire("rightClickGraphItem",c);this.chart.fire("rightClickGraphItem",c)}},handleDoubleClick:function(a,b){if(a){var c={type:"doubleClickGraphItem",item:a,index:a.index,graph:this,
target:this,chart:this.chart,event:b};this.fire("doubleClickGraphItem",c);this.chart.fire("doubleClickGraphItem",c)}},zoom:function(a,b){this.start=a;this.end=b;this.draw()},changeOpacity:function(a){var b=this.set;if(b&&b.setAttr("opacity",a),b=this.ownColumns){var c;for(c=0;c<b.length;c++){var d=b[c].set;d&&d.setAttr("opacity",a)}}(b=this.bulletSet)&&b.setAttr("opacity",a)},destroy:function(){e.remove(this.set);e.remove(this.bulletSet);var a=this.timeOuts;if(a){var b;for(b=0;b<a.length;b++)clearTimeout(a[b])}this.timeOuts=
[]}})})();
(function(){var e=window.PieCharts;e.ChartCursor=e.Class({construct:function(a){this.cname="ChartCursor";this.createEvents("changed","zoomed","onHideCursor","draw","selected","moved");this.enabled=!0;this.cursorAlpha=1;this.selectionAlpha=.2;this.cursorColor="#CC0000";this.categoryBalloonAlpha=1;this.color="#FFFFFF";this.type="cursor";this.zoomed=!1;this.zoomable=!0;this.pan=!1;this.categoryBalloonDateFormat="MMM DD, YYYY";this.categoryBalloonText="[[category]]";this.categoryBalloonEnabled=this.valueBalloonsEnabled=
!0;this.rolledOver=!1;this.cursorPosition="middle";this.bulletsEnabled=this.skipZoomDispatch=!1;this.bulletSize=8;this.selectWithoutZooming=this.oneBalloonOnly=!1;this.graphBulletSize=1.7;this.animationDuration=.3;this.zooming=!1;this.adjustment=0;this.avoidBalloonOverlapping=!0;this.leaveCursor=!1;e.applyTheme(this,a,this.cname)},draw:function(){this.destroy();var a=this.chart,b=a.container;this.rotate=a.rotate;this.container=b;b=b.set();b.translate(this.x,this.y);this.set=b;a.cursorSet.push(b);
b=new e.PieBalloon;b.className="category";b.chart=a;this.categoryBalloon=b;e.copyProperties(a.balloon,b);b.cornerRadius=0;b.shadowAlpha=0;b.borderThickness=1;b.borderAlpha=1;b.showBullet=!1;var c=this.categoryBalloonColor;if(void 0===c&&(c=this.cursorColor),b.fillColor=c,b.balloonColor=c,b.fillAlpha=this.categoryBalloonAlpha,b.borderColor=c,b.color=this.color,c=this.valueLineAxis,e.isString(c)&&(c=a.getValueAxisById(c)),c||(c=a.valueAxes[0]),this.valueLineAxis=c,this.valueLineBalloonEnabled&&(this.vaBalloon=
c=new e.PieBalloon,e.copyProperties(b,c),c.animationDuration=0,this.rotate||(c.pointerOrientation="H")),this.rotate&&(b.pointerOrientation="H"),this.extraWidth=0,this.prevX=[],this.prevY=[],this.prevTX=[],this.prevTY=[],this.valueBalloonsEnabled)for(b=0;b<a.graphs.length;b++)c=new e.PieBalloon,c.className=a.graphs[b].id,c.chart=a,e.copyProperties(a.balloon,c),a.graphs[b].valueBalloon=c;"cursor"==this.type?this.createCursor():this.createCrosshair()},updateData:function(){var a=this.chart;this.data=a.chartData;
this.firstTime=a.firstTime;this.lastTime=a.lastTime},createCursor:function(){var a,b,c,d,h=this.chart,f=this.cursorAlpha,g=h.categoryAxis,k=this.categoryBalloon;c=h.dx;d=h.dy;var l=this.width,m=this.height,n=h.rotate;k.pointerWidth=g.tickLength;n?(a=[0,l,l+c],b=[0,0,d],c=[c,0,0],d=[d,0,m]):(a=[c,0,0],b=[d,0,m],c=[0,l,l+c],d=[0,0,d]);a=e.line(this.container,a,b,this.cursorColor,f,1);e.setCN(h,a,"cursor-line");this.line=a;a.node.style.pointerEvents="none";(b=this.fullRectSet)?(b.push(a),b.translate(this.x,
this.y)):this.set.push(a);this.valueLineEnabled&&(a=this.valueLineAlpha,isNaN(a)||(f=a),f=e.line(this.container,c,d,this.cursorColor,f,1),f.node.style.pointerEvents="none",e.setCN(h,f,"cursor-value-line"),this.vLine=f,this.set.push(f));this.setBalloonBounds(k,g,n);(h=this.vaBalloon)&&this.setBalloonBounds(h,this.valueLineAxis,!n);this.hideCursor()},createCrosshair:function(){var a=this.cursorAlpha,b=this.container,c=e.line(b,[0,0],[0,this.height],this.cursorColor,a,1),a=e.line(b,[0,this.width],[0,
0],this.cursorColor,a,1);e.setCN(this.chart,c,"cursor-line");e.setCN(this.chart,a,"cursor-line");this.set.push(c);this.set.push(a);this.vLine=c;this.hLine=a;this.hideCursor()},update:function(){var a=this.chart;if(a)if(a.mouseIsOver){var b=a.mouseX-this.x,c=a.mouseY-this.y;-.5<b&&b<this.width+1&&0<c&&c<this.height?(this.drawing?this.rolledOver||a.setMouseCursor("crosshair"):this.pan&&(this.rolledOver||a.setMouseCursor("move")),this.rolledOver=!0,(this.valueLineEnabled||this.valueLineBalloonEnabled)&&
this.updateVLine(b,c),this.setPosition()):this.rolledOver&&(this.handleMouseOut(),this.rolledOver=!1)}else this.rolledOver&&(this.handleMouseOut(),this.rolledOver=!1)},updateVLine:function(a,b){var c=this.vLine,d=this.vaBalloon;if((c||d)&&!this.panning&&!this.drawing){c&&c.show();var e,f=this.valueLineAxis,g=this.rotate;if(g?(c&&c.translate(a,0),f&&(e=f.coordinateToValue(a)),c=a):(c&&c.translate(0,b),f&&(e=f.coordinateToValue(b)),c=b-1),d&&!isNaN(e)&&this.prevLineValue!=e){var k=f.formatValue(e,!0);
this.setBalloonPosition(d,f,c,!g);d.showBalloon(k)}this.prevLineValue=e}},getMousePosition:function(){var a,b=this.width,c=this.height;return a=this.chart,this.rotate?(a=a.mouseY-this.y,0>a&&(a=0),a>c&&(a=c)):(a=a.mouseX-this.x-1,0>a&&(a=0),a>b&&(a=b)),a},updateCrosshair:function(){var a=this.chart,b=a.mouseX-this.x,c=a.mouseY-this.y,d=this.vLine,h=this.hLine,b=e.fitToBounds(b,0,this.width),c=e.fitToBounds(c,0,this.height);d&&0<this.cursorAlpha&&(d.show(),h.show(),d.translate(b,0),h.translate(0,c));
this.zooming&&(a.hideXScrollbar&&(b=0/0),a.hideYScrollbar&&(c=0/0),this.updateSelectionSize(b,c));this.fireMoved();a.mouseIsOver||this.zooming||this.hideCursor()},fireMoved:function(){var a=this.chart,b={type:"moved",target:this};b.chart=a;b.zooming=this.zooming;b.x=a.mouseX-this.x;b.y=a.mouseY-this.y;this.fire("moved",b)},updateSelectionSize:function(a,b){e.remove(this.selection);var c=this.selectionPosX,d=this.selectionPosY,h=0,f=0,g=this.width,k=this.height;isNaN(a)||(c>a&&(h=a,g=c-a),a>c&&(h=
c,g=a-c),c==a&&(h=a,g=0),g+=this.extraWidth,h-=this.extraWidth/2);isNaN(b)||(d>b&&(f=b,k=d-b),b>d&&(f=d,k=b-d),d==b&&(f=b,k=0),k+=this.extraWidth,f-=this.extraWidth/2);0<g&&0<k&&(c=e.rect(this.container,g,k,this.cursorColor,this.selectionAlpha),e.setCN(this.chart,c,"cursor-selection"),c.translate(h+this.x,f+this.y),this.selection=c)},arrangeBalloons:function(){var a=this.valueBalloons,b=this.x,c=this.y,d=this.height+c;a.sort(this.compareY);var e;for(e=0;e<a.length;e++){var f=a[e].balloon;f.setBounds(b,
c,b+this.width,d);f.prevX=this.prevX[e];f.prevY=this.prevY[e];f.prevTX=this.prevTX[e];f.prevTY=this.prevTY[e];f.draw();d=f.yPos-3}this.arrangeBalloons2()},compareY:function(a,b){return a.yy<b.yy?1:-1},arrangeBalloons2:function(){var a=this.valueBalloons;a.reverse();var b,c,d,e=this.x,f=a.length;for(d=0;f>d;d++){var g=a[d].balloon;b=g.bottom;var k=g.bottom-g.yPos,l=f-d-1;0<d&&c+3>b-k&&(g.setBounds(e,c+3,e+this.width,c+k+3),g.prevX=this.prevX[l],g.prevY=this.prevY[l],g.prevTX=this.prevTX[l],g.prevTY=
this.prevTY[l],g.draw());g.set&&g.set.show();this.prevX[l]=g.prevX;this.prevY[l]=g.prevY;this.prevTX[l]=g.prevTX;this.prevTY[l]=g.prevTY;c=g.bottom}},showBullets:function(){e.remove(this.allBullets);var a=this.container,b=a.set();this.set.push(b);this.set.show();this.allBullets=b;var c,b=this.chart.graphs;for(c=0;c<b.length;c++){var d=b[c];if(!d.hidden&&d.balloonText){var h=this.data[this.index].axes[d.valueAxis.id].graphs[d.id],f=h.y;if(!isNaN(f)){var g,k;g=h.x;this.rotate?(k=f,f=g):k=g;d=e.circle(a,
this.bulletSize/2,this.chart.getBalloonColor(d,h,!0),d.cursorBulletAlpha);d.translate(k,f);this.allBullets.push(d)}}}},destroy:function(){this.clear();e.remove(this.selection);this.selection=null;var a=this.categoryBalloon;a&&a.destroy();(a=this.vaBalloon)&&a.destroy();this.destroyValueBalloons();e.remove(this.set)},clear:function(){},destroyValueBalloons:function(){var a=this.valueBalloons;if(a){var b;for(b=0;b<a.length;b++)a[b].balloon.hide()}},zoom:function(a,b,c,d){var h=this.chart;this.destroyValueBalloons();
this.zooming=!1;var f;if(this.rotate?this.selectionPosY=f=h.mouseY:this.selectionPosX=f=h.mouseX,this.start=a,this.end=b,this.startTime=c,this.endTime=d,this.zoomed=!0,d=h.categoryAxis,f=this.rotate,b=this.width,c=this.height,a=d.stepWidth,this.fullWidth){var g=1;d.parseDates&&!d.equalSpacing&&(g=d.minDuration());f?this.extraWidth=c=a*g:(this.extraWidth=b=a*g,this.categoryBalloon.minWidth=b);this.line&&this.line.remove();this.line=e.rect(this.container,b,c,this.cursorColor,this.cursorAlpha,0);this.line.node.style.pointerEvents=
"none";e.setCN(h,this.line,"cursor-fill");this.fullRectSet&&this.fullRectSet.push(this.line)}this.stepWidth=a;this.tempVal=this.valueBalloonsEnabled;this.valueBalloonsEnabled=!1;this.setPosition();this.valueBalloonsEnabled=this.tempVal;this.hideCursor()},hideObj:function(a){a&&a.hide()},hideCursor:function(a){void 0===a&&(a=!0);this.leaveCursor||(this.hideObj(this.set),this.hideObj(this.categoryBalloon),this.hideObj(this.line),this.hideObj(this.vLine),this.hideObj(this.hLine),this.hideObj(this.vaBalloon),
this.hideObj(this.allBullets),this.destroyValueBalloons(),this.selectWithoutZooming||e.remove(this.selection),this.previousIndex=0/0,a&&this.fire("onHideCursor",{type:"onHideCursor",chart:this.chart,target:this}),this.drawing||this.chart.setMouseCursor("auto"),this.normalizeBulletSize())},setPosition:function(a,b,c){void 0===b&&(b=!0);"cursor"==this.type?(this.tempPosition=0/0,e.ifArray(this.data)&&(isNaN(a)&&(a=this.getMousePosition()),(a!=this.previousMousePosition||!0===this.zoomed||this.oneBalloonOnly)&&
!isNaN(a)&&("mouse"==this.cursorPosition&&(this.tempPosition=a),isNaN(c)&&(c=this.chart.categoryAxis.xToIndex(a)),c!=this.previousIndex||this.zoomed||"mouse"==this.cursorPosition||this.oneBalloonOnly)&&(this.updateCursor(c,b),this.zoomed=!1),this.previousMousePosition=a)):this.updateCrosshair()},normalizeBulletSize:function(){var a=this.resizedBullets;if(a)for(var b=0;b<a.length;b++){var c=a[b],d=c.bulletGraphics;d&&(d.translate(c.bx,c.by,1),c=c.graph,isNaN(this.graphBulletAlpha)||(d.setAttr("fill-opacity",
c.bulletAlpha),d.setAttr("stroke-opacity",c.bulletBorderAlpha)))}},updateCursor:function(a,b){var c=this.chart,d=this.fullWidth,h=c.mouseX-this.x,f=c.mouseY-this.y;if(this.drawingNow&&(e.remove(this.drawingLine),this.drawingLine=e.line(this.container,[this.x+this.drawStartX,this.x+h],[this.y+this.drawStartY,this.y+f],this.cursorColor,1,1)),this.enabled){void 0===b&&(b=!0);this.index=a+=this.adjustment;var g,k=c.categoryAxis,l=c.dx,m=c.dy,n=this.x+1,q=this.y+1,p=this.width,t=this.height,r=this.data[a];
if(this.data[a+1]&&(g=this.data[a+1]),this.fireMoved(),r){var u=r.x[k.id],z=c.rotate,A=this.stepWidth,w=this.categoryBalloon,v=this.firstTime,y=this.lastTime,C=this.cursorPosition,B=this.zooming,D=this.panning,I=c.graphs;if(c.mouseIsOver||B||D||this.forceShow)if(this.forceShow=!1,D){var l=this.panClickPos,c=this.panClickEndTime,B=this.panClickStartTime,E=this.panClickEnd,n=this.panClickStart,h=(z?l-f:l-h)/A;k.parseDates&&!k.equalSpacing||(h=Math.round(h));0!==h&&(l={type:"zoomed",target:this},l.chart=
this.chart,k.parseDates&&!k.equalSpacing?(c+h>y&&(h=y-c),v>B+h&&(h=v-B),l.start=Math.round(B+h),l.end=Math.round(c+h),this.fire(l.type,l)):E+h>=this.data.length||0>n+h||(l.start=n+h,l.end=E+h,this.fire(l.type,l)))}else{if("start"==C?u-=k.cellWidth/2:"mouse"==C&&(c.mouseIsOver?u=z?f-2:h-2:isNaN(this.tempPosition)||(u=this.tempPosition-2)),z){if(0>u){if(!B)return void this.hideCursor();u=0}if(u>t+1){if(!B)return void this.hideCursor();u=t+1}}else{if(0>u){if(!B)return void this.hideCursor();u=0}if(u>
p){if(!B)return void this.hideCursor();u=p}}if(v=this.line,0<this.cursorAlpha&&(z?(y=0,A=u+m,d&&(A-=k.cellWidth/2)):(y=u,A=0,d&&(y-=k.cellWidth/2)),C=this.animationDuration,0<C&&!this.zooming?isNaN(this.previousX)?v.translate(y,A):(v.translate(this.previousX,this.previousY),v.animate({translate:y+","+A},C,"easeOutSine")):v.translate(y,A),this.previousX=y,this.previousY=A,v.show()),this.linePos=z?u+m:u,B&&(d&&v.hide(),z?this.updateSelectionSize(0/0,u):this.updateSelectionSize(u,0/0)),y=!0,B&&(y=!1),
this.categoryBalloonEnabled&&y?(this.setBalloonPosition(w,k,u,z),(v=this.categoryBalloonFunction)?w.showBalloon(v(r.category)):(v=u="",k.parseDates?(u=e.formatDate(r.category,this.categoryBalloonDateFormat,c),k=e.changeDate(new Date(r.category),c.categoryAxis.minPeriod,1),v=e.formatDate(k,this.categoryBalloonDateFormat,c),-1!=u.indexOf("fff")&&(u=e.formatMilliseconds(u,r.category),v=e.formatMilliseconds(v,k))):(u=e.fixNewLines(r.category),g&&(v=e.fixNewLines(g.category))),k=this.categoryBalloonText.replace(/\[\[category\]\]/g,
String(u)),k=k.replace(/\[\[toCategory\]\]/g,String(v)),w.showBalloon(k))):w.hide(),I&&this.bulletsEnabled&&this.showBullets(),this.oneBalloonOnly){u=1/0;for(k=0;k<I.length;k++)w=I[k],w.showBalloon&&!w.hidden&&w.balloonText&&(g=r.axes[w.valueAxis.id].graphs[w.id],v=g.y,"top"==w.showBalloonAt&&(v=0),"bottom"==w.showBalloonAt&&(v=this.height),isNaN(v)||(z?Math.abs(h-v)<u&&(u=Math.abs(h-v),E=w):Math.abs(f-v)<u&&(u=Math.abs(f-v),E=w)));this.mostCloseGraph&&(E=this.mostCloseGraph)}if((a!=this.previousIndex||
E!=this.previousMostCloseGraph)&&(this.normalizeBulletSize(),this.destroyValueBalloons(),this.resizedBullets=[],I&&this.valueBalloonsEnabled&&y&&c.balloon.enabled)){this.valueBalloons=y=[];for(k=0;k<I.length;k++)if(w=I[k],v=0/0,(!this.oneBalloonOnly||w==E)&&w.showBalloon&&!w.hidden&&w.balloonText&&("step"==w.type&&"left"==w.stepDirection&&(r=this.data[a+1]),r)){if((g=r.axes[w.valueAxis.id].graphs[w.id])&&(v=g.y),"top"==w.showBalloonAt&&(v=0),"bottom"==w.showBalloonAt&&(v=this.height),this.showNextAvailable&&
isNaN(v)&&a+1<this.data.length)for(u=a+1;u<this.data.length&&(!(A=this.data[u])||(g=A.axes[w.valueAxis.id].graphs[w.id],v=g.y,isNaN(v)));u++);isNaN(v)||(A=g.x,d=!0,z?(u=v,(0>A||A>t)&&(d=!1)):(u=A,A=v,(0>u||u>p+l+1)&&(d=!1)),d&&(d=this.graphBulletSize,m=this.graphBulletAlpha,1==d&&isNaN(m)||!e.isModern||!(C=g.bulletGraphics)||(C.translate(g.bx,g.by,d),this.resizedBullets.push(g),isNaN(m)||(C.setAttr("fill-opacity",m),C.setAttr("stroke-opacity",m))),d=w.valueBalloon,m=c.getBalloonColor(w,g),d.setBounds(n,
q,n+p,q+t),d.pointerOrientation="H",C=this.balloonPointerOrientation,"vertical"==C&&(d.pointerOrientation="V"),"horizontal"==C&&(d.pointerOrientation="H"),d.changeColor(m),void 0!==w.balloonAlpha&&(d.fillAlpha=w.balloonAlpha),void 0!==w.balloonTextColor&&(d.color=w.balloonTextColor),d.setPosition(u+n,A+q),u=c.formatString(w.balloonText,g,!0),(A=w.balloonFunction)&&(u=A(g,w).toString()),""!==u&&(z?d.showBalloon(u):(d.text=u,d.show=!0),y.push({yy:v,balloon:d})),!z&&d.set&&(d.set.hide(),w=d.textDiv)&&
(w.style.visibility="hidden")))}this.avoidBalloonOverlapping&&this.arrangeBalloons()}b?(l={type:"changed"},l.index=a,l.chart=this.chart,l.zooming=B,l.mostCloseGraph=E,l.position=z?f:h,l.target=this,c.fire("changed",l),this.fire("changed",l),this.skipZoomDispatch=!1):(this.skipZoomDispatch=!0,c.updateLegendValues(a));this.previousIndex=a;this.previousMostCloseGraph=E}}}else this.hideCursor()},setBalloonPosition:function(a,b,c,d){var e=b.position,f=b.inside;b=b.axisThickness;var g=this.chart,k=g.dx,
g=g.dy,l=this.x,m=this.y,n=this.width,q=this.height;d?(f&&("right"==e?a.setBounds(l,m+g,l+n+k,m+c+g):a.setBounds(l,m+g,l+n+k,m+c)),"right"==e?f?a.setPosition(l+n+k,m+c+g):a.setPosition(l+n+k+b,m+c+g):f?a.setPosition(l,m+c):a.setPosition(l-b,m+c)):"top"==e?f?a.setPosition(l+c+k,m+g):a.setPosition(l+c+k,m+g-b+1):f?a.setPosition(l+c,m+q):a.setPosition(l+c,m+q+b-1)},setBalloonBounds:function(a,b,c){var d=b.position,e=b.inside,f=b.axisThickness,g=b.tickLength,k=this.chart,l=k.dx,k=k.dy,m=this.x,n=this.y,
q=this.width,p=this.height;c?(e&&(a.pointerWidth=0),"right"==d?e?a.setBounds(m,n+k,m+q+l,n+p+k):a.setBounds(m+q+l+f,n+k,m+q+1E3,n+p+k):e?a.setBounds(m,n,q+m,p+n):a.setBounds(-1E3,-1E3,m-g-f,n+p+15)):(a.maxWidth=q,b.parseDates&&(g=0,a.pointerWidth=0),"top"==d?e?a.setBounds(m+l,n+k,q+l+m,p+n):a.setBounds(m+l,-1E3,q+l+m,n+k-g-f):e?a.setBounds(m,n,q+m,p+n-g):a.setBounds(m,n+p+g+f-1,m+q,n+p+g+f))},enableDrawing:function(a){this.enabled=!a;this.hideCursor();this.rolledOver=!1;this.drawing=a},isZooming:function(a){a&&
a!=this.zooming&&this.handleMouseDown("fake");a||a==this.zooming||this.handleMouseUp()},handleMouseOut:function(){if(this.enabled)if(this.zooming)this.setPosition();else{this.index=void 0;var a={type:"changed",index:void 0,target:this};a.chart=this.chart;this.fire("changed",a);this.hideCursor()}},handleReleaseOutside:function(){this.handleMouseUp()},handleMouseUp:function(){var a,b=this.chart,c=this.data;if(b){var d=b.mouseX-this.x,h=b.mouseY-this.y;if(this.drawingNow){this.drawingNow=!1;e.remove(this.drawingLine);
a=this.drawStartX;var f=this.drawStartY;(2<Math.abs(a-d)||2<Math.abs(f-h))&&(a={type:"draw",target:this,chart:b,initialX:a,initialY:f,finalX:d,finalY:h},this.fire(a.type,a))}if(this.enabled&&0<c.length){if(this.pan)this.rolledOver=!1;else if(this.zoomable&&this.zooming){if(a=this.selectWithoutZooming?{type:"selected"}:{type:"zoomed"},a.target=this,a.chart=b,"cursor"==this.type)this.rotate?this.selectionPosY=h:this.selectionPosX=h=d,4>Math.abs(h-this.initialMouse)&&this.fromIndex==this.index||(this.index<
this.fromIndex?(a.end=this.fromIndex,a.start=this.index):(a.end=this.index,a.start=this.fromIndex),h=b.categoryAxis,h.parseDates&&!h.equalSpacing&&(c[a.start]&&(a.start=c[a.start].time),c[a.end]&&(a.end=b.getEndTime(c[a.end].time))),this.skipZoomDispatch||this.fire(a.type,a));else{var g=this.initialMouseX,k=this.initialMouseY;3>Math.abs(d-g)&&3>Math.abs(h-k)||(c=Math.min(g,d),f=Math.min(k,h),d=Math.abs(g-d),h=Math.abs(k-h),b.hideXScrollbar&&(c=0,d=this.width),b.hideYScrollbar&&(f=0,h=this.height),
a.selectionHeight=h,a.selectionWidth=d,a.selectionY=f,a.selectionX=c,this.skipZoomDispatch||this.fire(a.type,a))}this.selectWithoutZooming||e.remove(this.selection)}this.skipZoomDispatch=!1}}this.panning=this.zooming=!1},showCursorAt:function(a){var b=this.chart.categoryAxis;a=b.parseDates?b.dateToCoordinate(a):b.categoryToCoordinate(a);this.previousMousePosition=0/0;this.forceShow=!0;this.setPosition(a,!1)},clearSelection:function(){e.remove(this.selection)},handleMouseDown:function(a){if(this.zoomable||
this.pan||this.drawing){var b=this.rotate,c=this.chart,d=c.mouseX-this.x,h=c.mouseY-this.y;(0<d&&d<this.width&&0<h&&h<this.height||"fake"==a)&&(this.setPosition(),this.selectWithoutZooming&&e.remove(this.selection),this.drawing?(this.drawStartY=h,this.drawStartX=d,this.drawingNow=!0):this.pan?(this.zoomable=!1,c.setMouseCursor("move"),this.panning=!0,this.panClickPos=b?h:d,this.panClickStart=this.start,this.panClickEnd=this.end,this.panClickStartTime=this.startTime,this.panClickEndTime=this.endTime):
this.zoomable&&("cursor"==this.type?(this.fromIndex=this.index,b?(this.initialMouse=h,this.selectionPosY=this.linePos):(this.initialMouse=d,this.selectionPosX=this.linePos)):(this.initialMouseX=d,this.initialMouseY=h,this.selectionPosX=d,this.selectionPosY=h),this.zooming=!0))}}})})();
(function(){var e=window.PieCharts;e.SimpleChartScrollbar=e.Class({construct:function(a){this.createEvents("zoomed");this.backgroundColor="#D4D4D4";this.backgroundAlpha=1;this.selectedBackgroundColor="#EFEFEF";this.scrollDuration=this.selectedBackgroundAlpha=1;this.resizeEnabled=!0;this.hideResizeGrips=!1;this.scrollbarHeight=20;this.updateOnReleaseOnly=!1;9>document.documentMode&&(this.updateOnReleaseOnly=!0);this.dragIconHeight=this.dragIconWidth=35;this.dragIcon="dragIconRoundBig";e.applyTheme(this,
a,"SimpleChartScrollbar")},draw:function(){var a=this;if(a.destroy(),a.enabled){var b=a.chart.container,c=a.rotate,d=a.chart,h=b.set();a.set=h;d.scrollbarsSet.push(h);var f,g;if(c?(f=a.scrollbarHeight,g=d.plotAreaHeight):(g=a.scrollbarHeight,f=d.plotAreaWidth),a.width=f,(a.height=g)&&f){var k=e.rect(b,f,g,a.backgroundColor,a.backgroundAlpha,1,a.backgroundColor,a.backgroundAlpha);e.setCN(d,k,"scrollbar-bg");a.bg=k;h.push(k);k=e.rect(b,f,g,"#000",.005);h.push(k);a.invisibleBg=k;k.click(function(){a.handleBgClick()}).mouseover(function(){a.handleMouseOver()}).mouseout(function(){a.handleMouseOut()}).touchend(function(){a.handleBgClick()});
k=e.rect(b,f,g,a.selectedBackgroundColor,a.selectedBackgroundAlpha);e.setCN(d,k,"scrollbar-bg-selected");a.selectedBG=k;h.push(k);f=e.rect(b,f,g,"#000",.005);a.dragger=f;h.push(f);f.mousedown(function(b){a.handleDragStart(b)}).mouseup(function(){a.handleDragStop()}).mouseover(function(){a.handleDraggerOver()}).mouseout(function(){a.handleMouseOut()}).touchstart(function(b){a.handleDragStart(b)}).touchend(function(){a.handleDragStop()});f=d.pathToImages;c?(k=f+a.dragIcon+"H.png",f=a.dragIconWidth,
c=a.dragIconHeight):(k=f+a.dragIcon+".png",c=a.dragIconWidth,f=a.dragIconHeight);g=b.image(k,0,0,c,f);e.setCN(d,g,"scrollbar-grip-left");k=b.image(k,0,0,c,f);e.setCN(d,k,"scrollbar-grip-right");var l=10,m=20;d.panEventsEnabled&&(l=25,m=a.scrollbarHeight);var n=e.rect(b,l,m,"#000",.005),q=e.rect(b,l,m,"#000",.005);q.translate(-(l-c)/2,-(m-f)/2);n.translate(-(l-c)/2,-(m-f)/2);c=b.set([g,q]);b=b.set([k,n]);a.iconLeft=c;h.push(a.iconLeft);a.iconRight=b;h.push(b);c.mousedown(function(){a.leftDragStart()}).mouseup(function(){a.leftDragStop()}).mouseover(function(){a.iconRollOver()}).mouseout(function(){a.iconRollOut()}).touchstart(function(){a.leftDragStart()}).touchend(function(){a.leftDragStop()});
b.mousedown(function(){a.rightDragStart()}).mouseup(function(){a.rightDragStop()}).mouseover(function(){a.iconRollOver()}).mouseout(function(){a.iconRollOut()}).touchstart(function(){a.rightDragStart()}).touchend(function(){a.rightDragStop()});e.ifArray(d.chartData)?h.show():h.hide();a.hideDragIcons();a.clipDragger(!1)}h.translate(a.x,a.y);h.node.style.msTouchAction="none"}},updateScrollbarSize:function(a,b){a=Math.round(a);b=Math.round(b);var c,d,e,f,g=this.dragger;this.rotate?(c=0,d=a,e=this.width+
1,f=b-a,g.setAttr("height",b-a),g.setAttr("y",d)):(c=a,d=0,e=b-a,f=this.height+1,g.setAttr("width",b-a),g.setAttr("x",c));this.clipAndUpdate(c,d,e,f)},update:function(){var a,b,c,d=!1,e=this.x,f=this.y,g=this.dragger,k=this.getDBox();if(k){b=k.x+e;c=k.y+f;var l=k.width,k=k.height,m=this.rotate,n=this.chart,q=this.width,p=this.height,t=n.mouseX,r=n.mouseY;a=this.initialMouse;this.forceClip&&this.clipDragger(!0);n.mouseIsOver&&(this.dragging&&(n=this.initialCoord,m?(a=n+(r-a),0>a&&(a=0),n=p-k,a>n&&
(a=n),g.setAttr("y",a)):(a=n+(t-a),0>a&&(a=0),n=q-l,a>n&&(a=n),g.setAttr("x",a)),this.clipDragger(!0)),this.resizingRight&&(m?(a=r-c,a+c>p+f&&(a=p-c+f),0>a?(this.resizingRight=!1,d=this.resizingLeft=!0):(0===a&&(a=.1),g.setAttr("height",a))):(a=t-b,a+b>q+e&&(a=q-b+e),0>a?(this.resizingRight=!1,d=this.resizingLeft=!0):(0===a&&(a=.1),g.setAttr("width",a))),this.clipDragger(!0)),this.resizingLeft&&(m?(b=c,c=r,f>c&&(c=f),c>p+f&&(c=p+f),a=!0===d?b-c:k+b-c,0>a?(this.resizingRight=!0,this.resizingLeft=!1,
g.setAttr("y",b+k-f)):(0===a&&(a=.1),g.setAttr("y",c-f),g.setAttr("height",a))):(c=t,e>c&&(c=e),c>q+e&&(c=q+e),a=!0===d?b-c:l+b-c,0>a?(this.resizingRight=!0,this.resizingLeft=!1,g.setAttr("x",b+l-e)):(0===a&&(a=.1),g.setAttr("x",c-e),g.setAttr("width",a))),this.clipDragger(!0)))}},stopForceClip:function(){this.forceClip=!1},clipDragger:function(a){var b=this.getDBox();if(b){var c=b.x,d=b.y,e=b.width,b=b.height,f=!1;this.rotate?(c=0,e=this.width+1,this.clipY==d&&this.clipH==b||(f=!0)):(d=0,b=this.height+
1,this.clipX==c&&this.clipW==e||(f=!0));f&&(this.clipAndUpdate(c,d,e,b),a&&(this.updateOnReleaseOnly||this.dispatchScrollbarEvent()))}},maskGraphs:function(){},clipAndUpdate:function(a,b,c,d){this.clipX=a;this.clipY=b;this.clipW=c;this.clipH=d;this.selectedBG.clipRect(a,b,c,d);this.updateDragIconPositions();this.maskGraphs(a,b,c,d)},dispatchScrollbarEvent:function(){if(this.skipEvent)this.skipEvent=!1;else{var a=this.chart;a.hideBalloon();var b=this.getDBox(),c=b.x,d=b.y,e=b.width,b=b.height;this.rotate?
(c=d,e=this.height/b):e=this.width/e;a={type:"zoomed",position:c,chart:a,target:this,multiplier:e};this.fire(a.type,a)}},updateDragIconPositions:function(){var a,b,c=this.getDBox(),d=c.x,e=c.y,f=this.iconLeft,g=this.iconRight,k=this.scrollbarHeight;this.rotate?(a=this.dragIconWidth,b=this.dragIconHeight,f.translate((k-b)/2,e-a/2),g.translate((k-b)/2,e+c.height-a/2)):(a=this.dragIconHeight,b=this.dragIconWidth,f.translate(d-b/2,(k-a)/2),g.translate(d-b/2+c.width,(k-a)/2))},showDragIcons:function(){this.resizeEnabled&&
(this.iconLeft.show(),this.iconRight.show())},hideDragIcons:function(){this.resizingLeft||this.resizingRight||this.dragging||((this.hideResizeGrips||!this.resizeEnabled)&&(this.iconLeft.hide(),this.iconRight.hide()),this.removeCursors())},removeCursors:function(){this.chart.setMouseCursor("auto")},relativeZoom:function(a,b){this.enabled&&(this.dragger.stop(),this.multiplier=a,this.position=b,this.updateScrollbarSize(b,this.rotate?b+this.height/a:b+this.width/a),this.clipDragger())},destroy:function(){this.clear();
e.remove(this.set);e.remove(this.iconRight);e.remove(this.iconLeft)},clear:function(){},handleDragStart:function(){if(this.enabled){var a=this.chart;this.dragger.stop();this.removeCursors();this.dragging=!0;var b=this.getDBox();this.rotate?(this.initialCoord=b.y,this.initialMouse=a.mouseY):(this.initialCoord=b.x,this.initialMouse=a.mouseX)}},handleDragStop:function(){this.updateOnReleaseOnly&&(this.update(),this.skipEvent=!1,this.dispatchScrollbarEvent());this.dragging=!1;this.mouseIsOver&&this.removeCursors();
this.update()},handleDraggerOver:function(){this.handleMouseOver()},leftDragStart:function(){this.dragger.stop();this.resizingLeft=!0},leftDragStop:function(){this.resizingLeft=!1;this.mouseIsOver||this.removeCursors();this.updateOnRelease()},rightDragStart:function(){this.dragger.stop();this.resizingRight=!0},rightDragStop:function(){this.resizingRight=!1;this.mouseIsOver||this.removeCursors();this.updateOnRelease()},iconRollOut:function(){this.removeCursors()},iconRollOver:function(){this.chart.setMouseCursor(this.rotate?
"n-resize":"e-resize");this.handleMouseOver()},getDBox:function(){return this.dragger?this.dragger.getBBox():void 0},handleBgClick:function(){var a=this;if(!a.resizingRight&&!a.resizingLeft){a.zooming=!0;var b,c,d=a.scrollDuration,h=a.dragger;b=a.getDBox();var f=b.height,g=b.width;c=a.chart;var k=a.y,l=a.x,m=a.rotate;m?(b="y",c=c.mouseY-f/2-k,c=e.fitToBounds(c,0,a.height-f)):(b="x",c=c.mouseX-g/2-l,c=e.fitToBounds(c,0,a.width-g));a.updateOnReleaseOnly?(a.skipEvent=!1,h.setAttr(b,c),a.dispatchScrollbarEvent(),
a.clipDragger()):(c=Math.round(c),m?h.animate({y:c},d,">"):h.animate({x:c},d,">"),a.forceClip=!0,clearTimeout(a.forceTO),a.forceTO=setTimeout(function(){a.stopForceClip.call(a)},5E3*d))}},updateOnRelease:function(){this.updateOnReleaseOnly&&(this.update(),this.skipEvent=!1,this.dispatchScrollbarEvent())},handleReleaseOutside:function(){this.set&&((this.resizingLeft||this.resizingRight||this.dragging)&&(this.updateOnRelease(),this.removeCursors()),this.mouseIsOver=this.dragging=this.resizingRight=
this.resizingLeft=!1,this.hideDragIcons(),this.update())},handleMouseOver:function(){this.mouseIsOver=!0;this.showDragIcons()},handleMouseOut:function(){this.mouseIsOver=!1;this.hideDragIcons()}})})();
(function(){var e=window.PieCharts;e.ChartScrollbar=e.Class({inherits:e.SimpleChartScrollbar,construct:function(a){this.cname="ChartScrollbar";e.ChartScrollbar.base.construct.call(this,a);this.enabled=!0;this.graphLineColor="#BBBBBB";this.graphLineAlpha=0;this.graphFillColor="#BBBBBB";this.graphFillAlpha=1;this.selectedGraphLineColor="#888888";this.selectedGraphLineAlpha=0;this.selectedGraphFillColor="#888888";this.selectedGraphFillAlpha=1;this.gridCount=0;this.gridColor="#FFFFFF";this.gridAlpha=
.7;this.skipEvent=this.autoGridCount=!1;this.color="#FFFFFF";this.scrollbarCreated=!1;this.offset=0;this.oppositeAxis=!0;e.applyTheme(this,a,this.cname)},init:function(){var a=this.categoryAxis,b=this.chart;if(a||(this.categoryAxis=a=new e.CategoryAxis),a.chart=b,a.id="scrollbar",a.dateFormats=b.categoryAxis.dateFormats,a.markPeriodChange=b.categoryAxis.markPeriodChange,a.boldPeriodBeginning=b.categoryAxis.boldPeriodBeginning,a.labelFunction=b.categoryAxis.labelFunction,a.axisItemRenderer=e.RecItem,
a.axisRenderer=e.RecAxis,a.guideFillRenderer=e.RecFill,a.inside=!0,a.fontSize=this.fontSize,a.tickLength=0,a.axisAlpha=0,e.isString(this.graph)&&(this.graph=e.getObjById(b.graphs,this.graph)),a=this.graph){var c=this.valueAxis;c||(this.valueAxis=c=new e.ValueAxis,c.visible=!1,c.scrollbar=!0,c.axisItemRenderer=e.RecItem,c.axisRenderer=e.RecAxis,c.guideFillRenderer=e.RecFill,c.labelsEnabled=!1,c.chart=b);(b=this.unselectedGraph)||(b=new e.PieGraph,b.scrollbar=!0,this.unselectedGraph=b,b.negativeBase=
a.negativeBase,b.noStepRisers=a.noStepRisers);(b=this.selectedGraph)||(b=new e.PieGraph,b.scrollbar=!0,this.selectedGraph=b,b.negativeBase=a.negativeBase,b.noStepRisers=a.noStepRisers)}this.scrollbarCreated=!0},draw:function(){var a=this;if(e.ChartScrollbar.base.draw.call(a),a.enabled){a.scrollbarCreated||a.init();var b=a.chart,c=b.chartData,d=a.categoryAxis,h=a.rotate,f=a.x,g=a.y,k=a.width,l=a.height,m=b.categoryAxis,n=a.set;if(d.setOrientation(!h),d.parseDates=m.parseDates,d.rotate=h,d.equalSpacing=
m.equalSpacing,d.minPeriod=m.minPeriod,d.startOnAxis=m.startOnAxis,d.viW=k,d.viH=l,d.width=k,d.height=l,d.gridCount=a.gridCount,d.gridColor=a.gridColor,d.gridAlpha=a.gridAlpha,d.color=a.color,d.tickLength=0,d.axisAlpha=0,d.autoGridCount=a.autoGridCount,d.parseDates&&!d.equalSpacing&&d.timeZoom(b.firstTime,b.lastTime),d.zoom(0,c.length-1),m=a.graph){var q=a.valueAxis,p=m.valueAxis;q.id=p.id;q.rotate=h;q.setOrientation(h);q.width=k;q.height=l;q.viW=k;q.viH=l;q.dataProvider=c;q.reversed=p.reversed;q.logarithmic=
p.logarithmic;q.gridAlpha=0;q.axisAlpha=0;n.push(q.set);h?(q.y=g,q.x=0):(q.x=f,q.y=0);var t,f=1/0,g=-1/0;for(t=0;t<c.length;t++){var r,u=c[t].axes[p.id].graphs[m.id].values;for(r in u)if(u.hasOwnProperty(r)&&"percents"!=r&&"total"!=r){var z=u[r];f>z&&(f=z);z>g&&(g=z)}}1/0!=f&&(q.minimum=f);-1/0!=g&&(q.maximum=g+.1*(g-f));f==g&&(--q.minimum,q.maximum+=1);void 0!==a.minimum&&(q.minimum=a.minimum);void 0!==a.maximum&&(q.maximum=a.maximum);q.zoom(0,c.length-1);r=a.unselectedGraph;r.id=m.id;r.bcn="scrollbar-graph-";
r.rotate=h;r.chart=b;r.data=c;r.valueAxis=q;r.chart=m.chart;r.categoryAxis=a.categoryAxis;r.periodSpan=m.periodSpan;r.valueField=m.valueField;r.openField=m.openField;r.closeField=m.closeField;r.highField=m.highField;r.lowField=m.lowField;r.lineAlpha=a.graphLineAlpha;r.lineColorR=a.graphLineColor;r.fillAlphas=a.graphFillAlpha;r.fillColorsR=a.graphFillColor;r.connect=m.connect;r.hidden=m.hidden;r.width=k;r.height=l;r.pointPosition=m.pointPosition;r.stepDirection=m.stepDirection;r.periodSpan=m.periodSpan;
p=a.selectedGraph;p.id=m.id;p.bcn=r.bcn+"selected-";p.rotate=h;p.chart=b;p.data=c;p.valueAxis=q;p.chart=m.chart;p.categoryAxis=d;p.periodSpan=m.periodSpan;p.valueField=m.valueField;p.openField=m.openField;p.closeField=m.closeField;p.highField=m.highField;p.lowField=m.lowField;p.lineAlpha=a.selectedGraphLineAlpha;p.lineColorR=a.selectedGraphLineColor;p.fillAlphas=a.selectedGraphFillAlpha;p.fillColorsR=a.selectedGraphFillColor;p.connect=m.connect;p.hidden=m.hidden;p.width=k;p.height=l;p.pointPosition=
m.pointPosition;p.stepDirection=m.stepDirection;p.periodSpan=m.periodSpan;(b=a.graphType)||(b=m.type);r.type=b;p.type=b;c=c.length-1;r.zoom(0,c);p.zoom(0,c);p.set.click(function(){a.handleBackgroundClick()}).mouseover(function(){a.handleMouseOver()}).mouseout(function(){a.handleMouseOut()});r.set.click(function(){a.handleBackgroundClick()}).mouseover(function(){a.handleMouseOver()}).mouseout(function(){a.handleMouseOut()});n.push(r.set);n.push(p.set)}n.push(d.set);n.push(d.labelsSet);a.bg.toBack();
a.invisibleBg.toFront();a.dragger.toFront();a.iconLeft.toFront();a.iconRight.toFront()}},timeZoom:function(a,b,c){this.startTime=a;this.endTime=b;this.timeDifference=b-a;this.skipEvent=!e.toBoolean(c);this.zoomScrollbar();this.skipEvent||this.dispatchScrollbarEvent()},zoom:function(a,b){this.start=a;this.end=b;this.skipEvent=!0;this.zoomScrollbar()},dispatchScrollbarEvent:function(){if(this.skipEvent)this.skipEvent=!1;else{var a,b,c=this.chart.chartData,d=this.dragger.getBBox();a=d.x;var e=d.y,f=
d.width,d=d.height,g=this.chart;this.rotate?(a=e,b=d):b=f;f={type:"zoomed",target:this};f.chart=g;var k=this.categoryAxis,l=this.stepWidth,e=g.minSelectedTime,d=!1;k.parseDates&&!k.equalSpacing?(c=g.lastTime,g=g.firstTime,k=Math.round(a/l)+g,a=this.dragging?k+this.timeDifference:Math.round((a+b)/l)+g,k>a&&(k=a),0<e&&e>a-k&&(a=Math.round(k+(a-k)/2),d=Math.round(e/2),k=a-d,a+=d,d=!0),a>c&&(a=c),k>a-e&&(k=a-e),g>k&&(k=g),k+e>a&&(a=k+e),k==this.startTime&&a==this.endTime||(this.startTime=k,this.endTime=
a,f.start=k,f.end=a,f.startDate=new Date(k),f.endDate=new Date(a),this.fire(f.type,f))):(k.startOnAxis||(a+=l/2),b-=this.stepWidth/2,e=k.xToIndex(a),a=k.xToIndex(a+b),e==this.start&&this.end==a||(k.startOnAxis&&(this.resizingRight&&e==a&&a++,this.resizingLeft&&e==a&&(0<e?e--:a=1)),this.start=e,this.end=this.dragging?this.start+this.difference:a,f.start=this.start,f.end=this.end,k.parseDates&&(c[this.start]&&(f.startDate=new Date(c[this.start].time)),c[this.end]&&(f.endDate=new Date(c[this.end].time))),
this.fire(f.type,f)));d&&this.zoomScrollbar()}},zoomScrollbar:function(){var a,b;a=this.chart;var c=a.chartData,d=this.categoryAxis;d.parseDates&&!d.equalSpacing?(c=d.stepWidth,d=a.firstTime,a=c*(this.startTime-d),b=c*(this.endTime-d)):(a=c[this.start].x[d.id],b=c[this.end].x[d.id],c=d.stepWidth,d.startOnAxis||(d=c/2,a-=d,b+=d));this.stepWidth=c;this.updateScrollbarSize(a,b)},maskGraphs:function(a,b,c,d){var e=this.selectedGraph;e&&e.set.clipRect(a,b,c,d)},handleDragStart:function(){e.ChartScrollbar.base.handleDragStart.call(this);
this.difference=this.end-this.start;this.timeDifference=this.endTime-this.startTime;0>this.timeDifference&&(this.timeDifference=0)},handleBackgroundClick:function(){e.ChartScrollbar.base.handleBackgroundClick.call(this);this.dragging||(this.difference=this.end-this.start,this.timeDifference=this.endTime-this.startTime,0>this.timeDifference&&(this.timeDifference=0))}})})();
(function(){var e=window.PieCharts;e.PieBalloon=e.Class({construct:function(a){this.cname="PieBalloon";this.enabled=!0;this.fillColor="#FFFFFF";this.fillAlpha=.8;this.borderThickness=2;this.borderColor="#FFFFFF";this.borderAlpha=1;this.cornerRadius=0;this.maxWidth=220;this.horizontalPadding=8;this.verticalPadding=4;this.pointerWidth=6;this.pointerOrientation="V";this.color="#000000";this.adjustBorderColor=!0;this.show=this.follow=this.showBullet=!1;this.bulletSize=3;this.shadowAlpha=.4;this.shadowColor=
"#000000";this.fadeOutDuration=this.animationDuration=.3;this.fixedPosition=!1;this.offsetY=6;this.offsetX=1;this.textAlign="center";this.disableMouseEvents=!0;this.deltaSignX=this.deltaSignY=1;e.isModern||(this.offsetY*=1.5);e.applyTheme(this,a,this.cname)},draw:function(){var a=this.pointToX,b=this.pointToY,c=this.chart;if(e.VML&&(this.fadeOutDuration=0),this.xAnim&&c.stopAnim(this.xAnim),this.yAnim&&c.stopAnim(this.yAnim),!isNaN(a)){var d=this.follow,h=c.container,f=this.set;if(e.remove(f),this.removeDiv(),
f=h.set(),f.node.style.pointerEvents="none",this.set=f,c.balloonsSet.push(f),this.show){var g=this.l,k=this.t,l=this.r,m=this.b,n=this.balloonColor,q=this.fillColor,p=this.borderColor,t=q;void 0!=n&&(this.adjustBorderColor?t=p=n:q=n);var r=this.horizontalPadding,u=this.verticalPadding,z=this.pointerWidth,A=this.pointerOrientation,w=this.cornerRadius,v=c.fontFamily,y=this.fontSize;void 0==y&&(y=c.fontSize);var n=document.createElement("div"),C=c.classNamePrefix;n.className=C+"-balloon-div";this.className&&
(n.className=n.className+" "+C+"-balloon-div-"+this.className);C=n.style;this.disableMouseEvents&&(C.pointerEvents="none");C.position="absolute";var B=this.minWidth,D="";isNaN(B)||(D="min-width:"+(B-2*r)+"px; ");n.innerHTML="<div style='text-align:"+this.textAlign+"; "+D+"max-width:"+this.maxWidth+"px; font-size:"+y+"px; color:"+this.color+"; font-family:"+v+"'>"+this.text+"</div>";c.chartDiv.appendChild(n);this.textDiv=n;y=n.offsetWidth;v=n.offsetHeight;n.clientHeight&&(y=n.clientWidth,v=n.clientHeight);
v+=2*u;D=y+2*r;!isNaN(B)&&B>D&&(D=B);window.opera&&(v+=2);var I=!1,y=this.offsetY;c.handDrawn&&(y+=c.handDrawScatter+2);"H"!=A?(B=a-D/2,k+v+10>b&&"down"!=A?(I=!0,d&&(b+=y),y=b+z,this.deltaSignY=-1):(d&&(b-=y),y=b-v-z,this.deltaSignY=1)):(2*z>v&&(z=v/2),y=b-v/2,g+(l-g)/2>a?(B=a+z,this.deltaSignX=-1):(B=a-D-z,this.deltaSignX=1));y+v>=m&&(y=m-v);k>y&&(y=k);g>B&&(B=g);B+D>l&&(B=l-D);var E,k=y+u,m=B+r,u=this.shadowAlpha,L=this.shadowColor,r=this.borderThickness,J=this.bulletSize;0<w||0===z?(0<u&&(a=e.rect(h,
D,v,q,0,r+1,L,u,this.cornerRadius),e.isModern?a.translate(1,1):a.translate(4,4),f.push(a)),q=e.rect(h,D,v,q,this.fillAlpha,r,p,this.borderAlpha,this.cornerRadius),this.showBullet&&(E=e.circle(h,J,t,this.fillAlpha),f.push(E))):("H"!=A?(g=a-B,g>D-z&&(g=D-z),z>g&&(g=z),t=[0,g-z,a-B,g+z,D,D,0,0],w=I?[0,0,b-y,0,0,v,v,0]:[v,v,b-y,v,v,0,0,v]):(t=b-y,t>v-z&&(t=v-z),z>t&&(t=z),w=[0,t-z,b-y,t+z,v,v,0,0],t=g+(l-g)/2>a?[0,0,a>B?0:a-B,0,0,D,D,0]:[D,D,B+D>a?D:a-B,D,D,0,0,D]),0<u&&(a=e.polygon(h,t,w,q,0,r,L,u),
a.translate(1,1),f.push(a)),q=e.polygon(h,t,w,q,this.fillAlpha,r,p,this.borderAlpha));this.bg=q;f.push(q);q.toFront();e.setCN(c,q,"balloon-bg");this.className&&e.setCN(c,q,"balloon-bg-"+this.className);h=1*this.deltaSignX;C.left=m+"px";C.top=k+"px";f.translate(B-h,y);q=q.getBBox();this.bottom=y+v+1;this.yPos=q.y+y;E&&E.translate(this.pointToX-B+h,b-y);b=this.animationDuration;0<this.animationDuration&&!d&&!isNaN(this.prevX)&&(f.translate(this.prevX,this.prevY),f.animate({translate:B-h+","+y},b,"easeOutSine"),
n&&(C.left=this.prevTX+"px",C.top=this.prevTY+"px",this.xAnim=c.animate({node:n},"left",this.prevTX,m,b,"easeOutSine","px"),this.yAnim=c.animate({node:n},"top",this.prevTY,k,b,"easeOutSine","px")));this.prevX=B-h;this.prevY=y;this.prevTX=m;this.prevTY=k}}},followMouse:function(){if(this.follow&&this.show){var a=this.chart.mouseX-this.offsetX*this.deltaSignX,b=this.chart.mouseY;if(this.pointToX=a,this.pointToY=b,a!=this.previousX||b!=this.previousY)if(this.previousX=a,this.previousY=b,0===this.cornerRadius)this.draw();
else{var c=this.set;if(c){var d=c.getBBox(),a=a-d.width/2,e=b-d.height-10;a<this.l&&(a=this.l);a>this.r-d.width&&(a=this.r-d.width);e<this.t&&(e=b+10);c.translate(a,e);b=this.textDiv.style;b.left=a+this.horizontalPadding+"px";b.top=e+this.verticalPadding+"px"}}}},changeColor:function(a){this.balloonColor=a},setBounds:function(a,b,c,d){this.l=a;this.t=b;this.r=c;this.b=d;this.destroyTO&&clearTimeout(this.destroyTO)},showBalloon:function(a){this.text=a;this.show=!0;this.destroyTO&&clearTimeout(this.destroyTO);
a=this.chart;this.fadeAnim1&&a.stopAnim(this.fadeAnim1);this.fadeAnim2&&a.stopAnim(this.fadeAnim2);this.draw()},hide:function(a){var b=this;isNaN(a)&&(a=b.fadeOutDuration);var c=b.chart;if(0<a){b.destroyTO&&clearTimeout(b.destroyTO);b.destroyTO=setTimeout(function(){b.destroy.call(b)},1E3*a);b.follow=!1;b.show=!1;var d=b.set;d&&(d.setAttr("opacity",b.fillAlpha),b.fadeAnim1=d.animate({opacity:0},a,"easeInSine"));b.textDiv&&(b.fadeAnim2=c.animate({node:b.textDiv},"opacity",1,0,a,"easeInSine",""))}else b.show=
!1,b.follow=!1,b.destroy()},setPosition:function(a,b,c){this.pointToX=a;this.pointToY=b;c&&(a==this.previousX&&b==this.previousY||this.draw());this.previousX=a;this.previousY=b},followCursor:function(a){var b=this;(b.follow=a)?(b.pShowBullet=b.showBullet,b.showBullet=!1):void 0!==b.pShowBullet&&(b.showBullet=b.pShowBullet);clearInterval(b.interval);var c=b.chart.mouseX,d=b.chart.mouseY;!isNaN(c)&&a&&(b.pointToX=c-b.offsetX*b.deltaSignX,b.pointToY=d,b.followMouse(),b.interval=setInterval(function(){b.followMouse.call(b)},
40))},removeDiv:function(){if(this.textDiv){var a=this.textDiv.parentNode;a&&a.removeChild(this.textDiv)}},destroy:function(){clearInterval(this.interval);e.remove(this.set);this.removeDiv();this.set=null}})})();
(function(){var e=window.PieCharts;e.PieCoordinateChart=e.Class({inherits:e.PieChart,construct:function(a){e.PieCoordinateChart.base.construct.call(this,a);this.theme=a;this.createEvents("rollOverGraphItem","rollOutGraphItem","clickGraphItem","doubleClickGraphItem","rightClickGraphItem","clickGraph","rollOverGraph","rollOutGraph");this.startAlpha=1;this.startDuration=0;this.startEffect="elastic";this.sequencedAnimation=!0;this.colors="#FF6600 #FCD202 #B0DE09 #0D8ECF #2A0CD0 #CD0D74 #CC0000 #00CC00 #0000CC #DDDDDD #999999 #333333 #990000".split(" ");
this.balloonDateFormat="MMM DD, YYYY";this.valueAxes=[];this.graphs=[];this.guides=[];this.gridAboveGraphs=!1;e.applyTheme(this,a,"PieCoordinateChart")},initChart:function(){e.PieCoordinateChart.base.initChart.call(this);var a=this.categoryAxis;a&&(this.categoryAxis=e.processObject(a,e.CategoryAxis,this.theme));this.processValueAxes();this.createValueAxes();this.processGraphs();this.processGuides();e.VML&&(this.startAlpha=1);this.setLegendData(this.graphs);this.gridAboveGraphs&&this.gridSet.toFront()},
createValueAxes:function(){if(0===this.valueAxes.length){var a=new e.ValueAxis;this.addValueAxis(a)}},parseData:function(){this.processValueAxes();this.processGraphs()},parseSerialData:function(a){var b,c=this.graphs,d={},h=this.seriesIdField;if(h||(h=this.categoryField),this.chartData=[],a){var f,g,k,l,m=!1,n=this.categoryAxis;n&&(m=n.parseDates,g=n.forceShowField,l=n.classNameField,k=n.labelColorField,f=n.categoryFunction);var q,p,t,r={};m&&(b=e.extractPeriod(n.minPeriod),q=b.period,p=b.count,t=
e.getPeriodDuration(q,p));var u={};this.lookupTable=u;var z,A=this.dataDateFormat,w={};for(z=0;z<a.length;z++){var v={},y=a[z];if(b=y[this.categoryField],v.dataContext=y,v.category=f?f(b,y,n):String(b),g&&(v.forceShow=y[g]),l&&(v.className=y[l]),k&&(v.labelColor=y[k]),u[y[h]]=v,!m||(n.categoryFunction?b=n.categoryFunction(b,y,n):(!A||b instanceof Date||(b=b.toString()+" |"),b=e.getDate(b,A,n.minPeriod)),b=e.resetDateToMin(b,q,p,n.firstDayOfWeek),v.category=b,v.time=b.getTime(),!isNaN(v.time))){var C=
this.valueAxes;v.axes={};v.x={};var B;for(B=0;B<C.length;B++){var D=C[B].id;v.axes[D]={};v.axes[D].graphs={};var I;for(I=0;I<c.length;I++){b=c[I];var E=b.id,L=1.1;isNaN(b.gapPeriod)||(L=b.gapPeriod);var J=b.periodValue;if(b.valueAxis.id==D){v.axes[D].graphs[E]={};var U={};U.index=z;var T=y;b.dataProvider&&(T=d);U.values=this.processValues(T,b,J);!b.connect&&w&&w[E]&&0<L&&v.time-r[E]>=t*L&&(w[E].gap=!0);this.processFields(b,U,T);U.category=v.category;U.serialDataItem=v;U.graph=b;v.axes[D].graphs[E]=
U;r[E]=v.time;w[E]=U}}}this.chartData[z]=v}}}for(a=0;a<c.length;a++)b=c[a],b.dataProvider&&this.parseGraphData(b)},processValues:function(a,b,c){var d,h={},f=!1;"candlestick"!=b.type&&"ohlc"!=b.type||""===c||(f=!0);for(var g="value error open close low high".split(" "),k=0;k<g.length;k++){var l=g[k];"value"!=l&&"error"!=l&&f&&(c=l.charAt(0).toUpperCase()+l.slice(1));var m=a[b[l+"Field"]+c];null!==m&&(d=Number(m),isNaN(d)||(h[l]=d),"date"==b.valueAxis.type&&void 0!==m&&(d=e.getDate(m,b.chart.dataDateFormat),
h[l]=d.getTime()))}return h},parseGraphData:function(a){var b=a.dataProvider,c=a.seriesIdField;c||(c=this.seriesIdField);c||(c=this.categoryField);var d;for(d=0;d<b.length;d++){var e=b[d],f=this.lookupTable[String(e[c])],g=a.valueAxis.id;f&&(g=f.axes[g].graphs[a.id],g.serialDataItem=f,g.values=this.processValues(e,a,a.periodValue),this.processFields(a,g,e))}},addValueAxis:function(a){a.chart=this;this.valueAxes.push(a);this.validateData()},removeValueAxesAndGraphs:function(){var a,b=this.valueAxes;
for(a=b.length-1;-1<a;a--)this.removeValueAxis(b[a])},removeValueAxis:function(a){var b,c=this.graphs;for(b=c.length-1;0<=b;b--){var d=c[b];d&&d.valueAxis==a&&this.removeGraph(d)}c=this.valueAxes;for(b=c.length-1;0<=b;b--)c[b]==a&&c.splice(b,1);this.validateData()},addGraph:function(a){this.graphs.push(a);this.chooseGraphColor(a,this.graphs.length-1);this.validateData()},removeGraph:function(a){var b,c=this.graphs;for(b=c.length-1;0<=b;b--)c[b]==a&&(c.splice(b,1),a.destroy());this.validateData()},
processValueAxes:function(){var a,b=this.valueAxes;for(a=0;a<b.length;a++){var c=b[a],c=e.processObject(c,e.ValueAxis,this.theme);b[a]=c;c.chart=this;c.id||(c.id="valueAxisAuto"+a+"_"+(new Date).getTime());void 0===c.usePrefixes&&(c.usePrefixes=this.usePrefixes)}},processGuides:function(){var a=this.guides,b=this.categoryAxis;if(a)for(var c=0;c<a.length;c++){var d=a[c];(void 0!==d.category||void 0!==d.date)&&b&&b.addGuide(d);d.id||(d.id="guideAuto"+c+"_"+(new Date).getTime());var h=d.valueAxis;h?
(e.isString(h)&&(h=this.getValueAxisById(h)),h?h.addGuide(d):this.valueAxes[0].addGuide(d)):isNaN(d.value)||this.valueAxes[0].addGuide(d)}},processGraphs:function(){var a,b=this.graphs;for(a=0;a<b.length;a++){var c=b[a],c=e.processObject(c,e.PieGraph,this.theme);b[a]=c;this.chooseGraphColor(c,a);c.chart=this;e.isString(c.valueAxis)&&(c.valueAxis=this.getValueAxisById(c.valueAxis));c.valueAxis||(c.valueAxis=this.valueAxes[0]);c.id||(c.id="graphAuto"+a+"_"+(new Date).getTime())}},formatString:function(a,
b,c){var d=b.graph,h=d.valueAxis;return h.duration&&b.values.value&&(h=e.formatDuration(b.values.value,h.duration,"",h.durationUnits,h.maxInterval,h.numberFormatter),a=a.split("[[value]]").join(h)),a=e.massReplace(a,{"[[title]]":d.title,"[[description]]":b.description}),a=c?e.fixNewLines(a):e.fixBrakes(a),e.cleanFromEmpty(a)},getBalloonColor:function(a,b,c){var d=a.lineColor,h=a.balloonColor;return c&&(h=d),c=a.fillColorsR,"object"==typeof c?d=c[0]:void 0!==c&&(d=c),b.isNegative&&(c=a.negativeLineColor,
a=a.negativeFillColors,"object"==typeof a?c=a[0]:void 0!==a&&(c=a),void 0!==c&&(d=c)),void 0!==b.color&&(d=b.color),void 0!==b.lineColor&&(d=b.lineColor),b=b.fillColors,void 0!==b&&(d=b,e.ifArray(b)&&(d=b[0])),void 0===h&&(h=d),h},getGraphById:function(a){return e.getObjById(this.graphs,a)},getValueAxisById:function(a){return e.getObjById(this.valueAxes,a)},processFields:function(a,b,c){if(a.itemColors){var d=a.itemColors,h=b.index;b.color=h<d.length?d[h]:e.randomColor()}d="lineColor color alpha fillColors description bullet customBullet bulletSize bulletConfig url labelColor dashLength pattern gap className".split(" ");
for(h=0;h<d.length;h++){var f=d[h],g=a[f+"Field"];g&&(g=c[g],e.isDefined(g)&&(b[f]=g))}b.dataContext=c},chooseGraphColor:function(a,b){if(a.lineColor)a.lineColorR=a.lineColor;else{var c;c=this.colors.length>b?this.colors[b]:e.randomColor();a.lineColorR=c}a.fillColorsR=a.fillColors?a.fillColors:a.lineColorR;a.bulletBorderColorR=a.bulletBorderColor?a.bulletBorderColor:a.useLineColorForBulletBorder?a.lineColorR:a.bulletColor;a.bulletColorR=a.bulletColor?a.bulletColor:a.lineColorR;(c=this.patterns)&&
(a.pattern=c[b])},handleLegendEvent:function(a){var b=a.type;if(a=a.dataItem,!this.legend.data&&a){var c=a.hidden,d=a.showBalloon;switch(b){case "clickMarker":this.textClickEnabled&&(d?this.hideGraphsBalloon(a):this.showGraphsBalloon(a));break;case "clickLabel":d?this.hideGraphsBalloon(a):this.showGraphsBalloon(a);break;case "rollOverItem":c||this.highlightGraph(a);break;case "rollOutItem":c||this.unhighlightGraph();break;case "hideItem":this.hideGraph(a);break;case "showItem":this.showGraph(a)}}},
highlightGraph:function(a){var b,c=this.graphs,d=.2;if(this.legend&&(d=this.legend.rollOverGraphAlpha),1!=d)for(b=0;b<c.length;b++){var e=c[b];e!=a&&e.changeOpacity(d)}},unhighlightGraph:function(){var a;if(this.legend&&(a=this.legend.rollOverGraphAlpha),1!=a){a=this.graphs;var b;for(b=0;b<a.length;b++)a[b].changeOpacity(1)}},showGraph:function(a){a.switchable&&(a.hidden=!1,this.dataChanged=!0,"xy"!=this.type&&(this.marginsUpdated=!1),this.chartCreated&&this.initChart())},hideGraph:function(a){a.switchable&&
(this.dataChanged=!0,"xy"!=this.type&&(this.marginsUpdated=!1),a.hidden=!0,this.chartCreated&&this.initChart())},hideGraphsBalloon:function(a){a.showBalloon=!1;this.updateLegend()},showGraphsBalloon:function(a){a.showBalloon=!0;this.updateLegend()},updateLegend:function(){this.legend&&this.legend.invalidateSize()},resetAnimation:function(){var a=this.graphs;if(a){var b;for(b=0;b<a.length;b++)a[b].animationPlayed=!1}},animateAgain:function(){this.resetAnimation();this.validateNow()}})})();
(function(){var e=window.PieCharts;e.PieSlicedChart=e.Class({inherits:e.PieChart,construct:function(a){this.createEvents("rollOverSlice","rollOutSlice","clickSlice","pullOutSlice","pullInSlice","rightClickSlice");e.PieSlicedChart.base.construct.call(this,a);this.colors="#FF0F00 #FF6600 #FF9E01 #FCD202 #F8FF01 #B0DE09 #04D215 #0D8ECF #0D52D1 #2A0CD0 #8A0CCF #CD0D74 #754DEB #DDDDDD #999999 #333333 #000000 #57032A #CA9726 #990000 #4B0C25".split(" ");this.alpha=1;this.groupPercent=0;this.groupedTitle="Other";
this.groupedPulled=!1;this.groupedAlpha=1;this.marginLeft=0;this.marginBottom=this.marginTop=10;this.marginRight=0;this.hoverAlpha=1;this.outlineColor="#FFFFFF";this.outlineAlpha=0;this.outlineThickness=1;this.startAlpha=0;this.startDuration=1;this.startEffect="bounce";this.sequencedAnimation=!0;this.pullOutDuration=1;this.pullOutEffect="bounce";this.pullOnHover=this.pullOutOnlyOne=!1;this.labelsEnabled=!0;this.labelTickColor="#000000";this.labelTickAlpha=.2;this.hideLabelsPercent=0;this.urlTarget=
"_self";this.autoMarginOffset=10;this.gradientRatio=[];this.maxLabelWidth=200;e.applyTheme(this,a,"PieSlicedChart")},initChart:function(){e.PieSlicedChart.base.initChart.call(this);this.dataChanged&&(this.parseData(),this.dispatchDataUpdated=!0,this.dataChanged=!1,this.setLegendData(this.chartData));this.drawChart()},handleLegendEvent:function(a){var b=a.type,c=a.dataItem,d=this.legend;if(!d.data&&c){var e=c.hidden;switch(a=a.event,b){case "clickMarker":e||d.switchable||this.clickSlice(c,a);break;case "clickLabel":e||
this.clickSlice(c,a,!1);break;case "rollOverItem":e||this.rollOverSlice(c,!1,a);break;case "rollOutItem":e||this.rollOutSlice(c,a);break;case "hideItem":this.hideSlice(c,a);break;case "showItem":this.showSlice(c,a)}}},invalidateVisibility:function(){this.recalculatePercents();this.initChart();var a=this.legend;a&&a.invalidateSize()},addEventListeners:function(a,b){var c=this;a.mouseover(function(a){c.rollOverSlice(b,!0,a)}).mouseout(function(a){c.rollOutSlice(b,a)}).touchend(function(a){c.rollOverSlice(b,
a);c.panEventsEnabled&&c.clickSlice(b,a)}).touchstart(function(a){c.rollOverSlice(b,a)}).click(function(a){c.clickSlice(b,a)}).contextmenu(function(a){c.handleRightClick(b,a)})},formatString:function(a,b,c){a=e.formatValue(a,b,["value"],this.nf,"",this.usePrefixes,this.prefixesOfSmallNumbers,this.prefixesOfBigNumbers);var d=this.pf.precision;return isNaN(this.tempPrec)||(this.pf.precision=this.tempPrec),a=e.formatValue(a,b,["percents"],this.pf),a=e.massReplace(a,{"[[title]]":b.title,"[[description]]":b.description}),
this.pf.precision=d,-1!=a.indexOf("[[")&&(a=e.formatDataContextValue(a,b.dataContext)),a=c?e.fixNewLines(a):e.fixBrakes(a),e.cleanFromEmpty(a)},startSlices:function(){var a;for(a=0;a<this.chartData.length;a++)0<this.startDuration&&this.sequencedAnimation?this.setStartTO(a):this.startSlice(this.chartData[a])},setStartTO:function(a){var b=this;a=setTimeout(function(){b.startSequenced.call(b)},b.startDuration/b.chartData.length*500*a);b.timeOuts.push(a)},pullSlices:function(a){var b,c=this.chartData;
for(b=0;b<c.length;b++){var d=c[b];d.pulled&&this.pullSlice(d,1,a)}},startSequenced:function(){var a,b=this.chartData;for(a=0;a<b.length;a++)if(!b[a].started){this.startSlice(this.chartData[a]);break}},startSlice:function(a){a.started=!0;var b=a.wedge,c=this.startDuration,d=a.labelSet;b&&0<c&&(0<a.alpha&&b.show(),b.translate(a.startX,a.startY),b.animate({opacity:1,translate:"0,0"},c,this.startEffect));d&&0<c&&(0<a.alpha&&d.show(),d.translate(a.startX,a.startY),d.animate({opacity:1,translate:"0,0"},
c,this.startEffect))},showLabels:function(){var a,b=this.chartData;for(a=0;a<b.length;a++){var c=b[a];if(0<c.alpha){var d=c.label;d&&d.show();(c=c.tick)&&c.show()}}},showSlice:function(a){isNaN(a)?a.hidden=!1:this.chartData[a].hidden=!1;this.invalidateVisibility()},hideSlice:function(a){isNaN(a)?a.hidden=!0:this.chartData[a].hidden=!0;this.hideBalloon();this.invalidateVisibility()},rollOverSlice:function(a,b,c){if(isNaN(a)||(a=this.chartData[a]),clearTimeout(this.hoverInt),!a.hidden){this.pullOnHover&&
this.pullSlice(a,1);1>this.hoverAlpha&&a.wedge&&a.wedge.attr({opacity:this.hoverAlpha});var d=a.balloonX,h=a.balloonY;a.pulled&&(d+=a.pullX,h+=a.pullY);var f=this.formatString(this.balloonText,a,!0),g=this.balloonFunction;g&&(f=g(a,f));g=e.adjustLuminosity(a.color,-.15);f?this.showBalloon(f,g,b,d,h):this.hideBalloon();0===a.value&&this.hideBalloon();a={type:"rollOverSlice",dataItem:a,chart:this,event:c};this.fire(a.type,a)}},rollOutSlice:function(a,b){isNaN(a)||(a=this.chartData[a]);a.wedge&&a.wedge.attr({opacity:1});
this.hideBalloon();var c={type:"rollOutSlice",dataItem:a,chart:this,event:b};this.fire(c.type,c)},clickSlice:function(a,b,c){isNaN(a)||(a=this.chartData[a]);a.pulled?this.pullSlice(a,0):this.pullSlice(a,1);e.getURL(a.url,this.urlTarget);c||(a={type:"clickSlice",dataItem:a,chart:this,event:b},this.fire(a.type,a))},handleRightClick:function(a,b){isNaN(a)||(a=this.chartData[a]);var c={type:"rightClickSlice",dataItem:a,chart:this,event:b};this.fire(c.type,c)},drawTicks:function(){var a,b=this.chartData;
for(a=0;a<b.length;a++){var c=b[a];if(c.label){var d=c.ty,d=e.line(this.container,[c.tx0,c.tx,c.tx2],[c.ty0,d,d],this.labelTickColor,this.labelTickAlpha);e.setCN(this,d,this.type+"-tick");e.setCN(this,d,c.className,!0);c.tick=d;c.wedge.push(d)}}},initialStart:function(){var a=this,b=a.startDuration,c=setTimeout(function(){a.showLabels.call(a)},1E3*b);a.timeOuts.push(c);a.chartCreated?a.pullSlices(!0):(a.startSlices(),0<b?(b=setTimeout(function(){a.pullSlices.call(a)},1200*b),a.timeOuts.push(b)):a.pullSlices(!0))},
pullSlice:function(a,b,c){var d=this.pullOutDuration;!0===c&&(d=0);(c=a.wedge)&&(0<d?(c.animate({translate:b*a.pullX+","+b*a.pullY},d,this.pullOutEffect),a.labelSet&&a.labelSet.animate({translate:b*a.pullX+","+b*a.pullY},d,this.pullOutEffect)):(a.labelSet&&a.labelSet.translate(b*a.pullX,b*a.pullY),c.translate(b*a.pullX,b*a.pullY)));1==b?(a.pulled=!0,this.pullOutOnlyOne&&this.pullInAll(a.index),a={type:"pullOutSlice",dataItem:a,chart:this}):(a.pulled=!1,a={type:"pullInSlice",dataItem:a,chart:this});
this.fire(a.type,a)},pullInAll:function(a){var b,c=this.chartData;for(b=0;b<this.chartData.length;b++)b!=a&&c[b].pulled&&this.pullSlice(c[b],0)},pullOutAll:function(){var a,b=this.chartData;for(a=0;a<b.length;a++)b[a].pulled||this.pullSlice(b[a],1)},parseData:function(){var a=[];this.chartData=a;var b=this.dataProvider;if(isNaN(this.pieAlpha)||(this.alpha=this.pieAlpha),void 0!==b){var c,d,h,f=b.length,g=0;for(c=0;f>c;c++){d={};var k=b[c];d.dataContext=k;null!==k[this.valueField]&&(d.value=Number(k[this.valueField]));
(h=k[this.titleField])||(h="");d.title=h;d.pulled=e.toBoolean(k[this.pulledField],!1);(h=k[this.descriptionField])||(h="");d.description=h;d.labelRadius=Number(k[this.labelRadiusField]);d.switchable=!0;d.className=k[this.classNameField];d.url=k[this.urlField];h=k[this.patternField];!h&&this.patterns&&(h=this.patterns[c]);d.pattern=h;d.visibleInLegend=e.toBoolean(k[this.visibleInLegendField],!0);h=k[this.alphaField];d.alpha=void 0!==h?Number(h):this.alpha;h=k[this.colorField];void 0!==h&&(d.color=
h);d.labelColor=e.toColor(k[this.labelColorField]);g+=d.value;d.hidden=!1;a[c]=d}for(c=b=0;f>c;c++)d=a[c],d.percents=d.value/g*100,d.percents<this.groupPercent&&b++;1<b&&(this.groupValue=0,this.removeSmallSlices(),a.push({title:this.groupedTitle,value:this.groupValue,percents:this.groupValue/g*100,pulled:this.groupedPulled,color:this.groupedColor,url:this.groupedUrl,description:this.groupedDescription,alpha:this.groupedAlpha,pattern:this.groupedPattern,className:this.groupedClassName,dataContext:{}}));
(f=this.baseColor)||(f=this.pieBaseColor);(g=this.brightnessStep)||(g=this.pieBrightnessStep);for(c=0;c<a.length;c++)f?h=e.adjustLuminosity(f,c*g/100):(h=this.colors[c],void 0===h&&(h=e.randomColor())),void 0===a[c].color&&(a[c].color=h);this.recalculatePercents()}},recalculatePercents:function(){var a,b,c=this.chartData,d=0;for(a=0;a<c.length;a++)b=c[a],!b.hidden&&0<b.value&&(d+=b.value);for(a=0;a<c.length;a++)b=this.chartData[a],b.percents=!b.hidden&&0<b.value?100*b.value/d:0},removeSmallSlices:function(){var a,
b=this.chartData;for(a=b.length-1;0<=a;a--)b[a].percents<this.groupPercent&&(this.groupValue+=b[a].value,b.splice(a,1))},animateAgain:function(){var a=this;a.startSlices();for(var b=0;b<a.chartData.length;b++){var c=a.chartData[b];c.started=!1;var d=c.wedge;d&&d.translate(c.startX,c.startY);(d=c.labelSet)&&d.translate(c.startX,c.startY)}b=a.startDuration;0<b?(b=setTimeout(function(){a.pullSlices.call(a)},1200*b),a.timeOuts.push(b)):a.pullSlices()},measureMaxLabel:function(){var a,b=this.chartData,
c=0;for(a=0;a<b.length;a++){var d=b[a],h=this.formatString(this.labelText,d),f=this.labelFunction;f&&(h=f(d,h));d=e.text(this.container,h,this.color,this.fontFamily,this.fontSize);h=d.getBBox().width;h>c&&(c=h);d.remove()}return c}})})();
(function(){var e=window.PieCharts;e.PieRectangularChart=e.Class({inherits:e.PieCoordinateChart,construct:function(a){e.PieRectangularChart.base.construct.call(this,a);this.theme=a;this.createEvents("zoomed");this.marginRight=this.marginBottom=this.marginTop=this.marginLeft=20;this.verticalPosition=this.horizontalPosition=this.depth3D=this.angle=0;this.heightMultiplier=this.widthMultiplier=1;this.plotAreaFillColors="#FFFFFF";this.plotAreaFillAlphas=0;this.plotAreaBorderColor="#000000";this.plotAreaBorderAlpha=
0;this.zoomOutButtonImageSize=19;this.zoomOutButtonImage="lens.png";this.zoomOutText="Show all";this.zoomOutButtonColor="#e5e5e5";this.zoomOutButtonAlpha=0;this.zoomOutButtonRollOverAlpha=1;this.zoomOutButtonPadding=8;this.trendLines=[];this.autoMargins=!0;this.marginsUpdated=!1;this.autoMarginOffset=10;e.applyTheme(this,a,"PieRectangularChart")},initChart:function(){e.PieRectangularChart.base.initChart.call(this);this.updateDxy();var a=!0;!this.marginsUpdated&&this.autoMargins&&(this.resetMargins(),
a=!1);this.processScrollbars();this.updateMargins();this.updatePlotArea();this.updateScrollbars();this.updateTrendLines();this.updateChartCursor();this.updateValueAxes();a&&(this.scrollbarOnly||this.updateGraphs())},drawChart:function(){if(e.PieRectangularChart.base.drawChart.call(this),this.drawPlotArea(),e.ifArray(this.chartData)){var a=this.chartCursor;a&&a.draw()}},resetMargins:function(){var a,b={};if("xy"==this.type){var c=this.xAxes,d=this.yAxes;for(a=0;a<c.length;a++){var e=c[a];e.ignoreAxisWidth||
(e.setOrientation(!0),e.fixAxisPosition(),b[e.position]=!0)}for(a=0;a<d.length;a++)c=d[a],c.ignoreAxisWidth||(c.setOrientation(!1),c.fixAxisPosition(),b[c.position]=!0)}else{d=this.valueAxes;for(a=0;a<d.length;a++)c=d[a],c.ignoreAxisWidth||(c.setOrientation(this.rotate),c.fixAxisPosition(),b[c.position]=!0);(a=this.categoryAxis)&&!a.ignoreAxisWidth&&(a.setOrientation(!this.rotate),a.fixAxisPosition(),a.fixAxisPosition(),b[a.position]=!0)}b.left&&(this.marginLeft=0);b.right&&(this.marginRight=0);b.top&&
(this.marginTop=0);b.bottom&&(this.marginBottom=0);this.fixMargins=b},measureMargins:function(){var a,b=this.valueAxes,c=this.autoMarginOffset,d=this.fixMargins,e=this.realWidth,f=this.realHeight,g=c,k=c,l=e;a=f;var m;for(m=0;m<b.length;m++)b[m].handleSynchronization(),a=this.getAxisBounds(b[m],g,l,k,a),g=Math.round(a.l),l=Math.round(a.r),k=Math.round(a.t),a=Math.round(a.b);(b=this.categoryAxis)&&(a=this.getAxisBounds(b,g,l,k,a),g=Math.round(a.l),l=Math.round(a.r),k=Math.round(a.t),a=Math.round(a.b));
d.left&&c>g&&(this.marginLeft=Math.round(-g+c));d.right&&l>=e-c&&(this.marginRight=Math.round(l-e+c));d.top&&k<c+this.titleHeight&&(this.marginTop=Math.round(this.marginTop-k+c+this.titleHeight));d.bottom&&a>f-c&&(this.marginBottom=Math.round(this.marginBottom+a-f+c));this.initChart()},getAxisBounds:function(a,b,c,d,e){if(!a.ignoreAxisWidth){var f=a.labelsSet,g=a.tickLength;if(a.inside&&(g=0),f)switch(f=a.getBBox(),a.position){case "top":a=f.y;d>a&&(d=a);break;case "bottom":a=f.y+f.height;a>e&&(e=
a);break;case "right":a=f.x+f.width+g+3;a>c&&(c=a);break;case "left":a=f.x-g,b>a&&(b=a)}}return{l:b,t:d,r:c,b:e}},drawZoomOutButton:function(){var a=this;if(!a.zbSet){var b=a.container.set();a.zoomButtonSet.push(b);var c=a.color,d=a.fontSize,h=a.zoomOutButtonImageSize,f=a.zoomOutButtonImage,g=e.lang.zoomOutText||a.zoomOutText,k=a.zoomOutButtonColor,l=a.zoomOutButtonAlpha,m=a.zoomOutButtonFontSize,n=a.zoomOutButtonPadding;isNaN(m)||(d=m);(m=a.zoomOutButtonFontColor)&&(c=m);var q;(m=a.zoomOutButton)&&
(m.fontSize&&(d=m.fontSize),m.color&&(c=m.color),m.backgroundColor&&(k=m.backgroundColor),isNaN(m.backgroundAlpha)||(a.zoomOutButtonRollOverAlpha=m.backgroundAlpha));var p=m=0;void 0!==a.pathToImages&&f&&(q=a.container.image(a.pathToImages+f,0,0,h,h),e.setCN(a,q,"zoom-out-image"),b.push(q),q=q.getBBox(),m=q.width+5);void 0!==g&&(c=e.text(a.container,g,c,a.fontFamily,d,"start"),e.setCN(a,c,"zoom-out-label"),d=c.getBBox(),p=q?q.height/2-3:d.height/2,c.translate(m,p),b.push(c));q=b.getBBox();c=1;e.isModern||
(c=0);k=e.rect(a.container,q.width+2*n+5,q.height+2*n-2,k,1,1,k,c);k.setAttr("opacity",l);k.translate(-n,-n);e.setCN(a,k,"zoom-out-bg");b.push(k);k.toBack();a.zbBG=k;q=k.getBBox();b.translate(a.marginLeftReal+a.plotAreaWidth-q.width+n,a.marginTopReal+n);b.hide();b.mouseover(function(){a.rollOverZB()}).mouseout(function(){a.rollOutZB()}).click(function(){a.clickZB()}).touchstart(function(){a.rollOverZB()}).touchend(function(){a.rollOutZB();a.clickZB()});for(l=0;l<b.length;l++)b[l].attr({cursor:"pointer"});
a.zbSet=b}},rollOverZB:function(){this.zbBG.setAttr("opacity",this.zoomOutButtonRollOverAlpha)},rollOutZB:function(){this.zbBG.setAttr("opacity",this.zoomOutButtonAlpha)},clickZB:function(){this.zoomOut()},zoomOut:function(){this.updateScrollbar=!0;this.zoom()},drawPlotArea:function(){var a=this.dx,b=this.dy,c=this.marginLeftReal,d=this.marginTopReal,h=this.plotAreaWidth-1,f=this.plotAreaHeight-1,g=this.plotAreaFillColors,k=this.plotAreaFillAlphas,l=this.plotAreaBorderColor,m=this.plotAreaBorderAlpha;
"object"==typeof k&&(k=k[0]);g=e.polygon(this.container,[0,h,h,0,0],[0,0,f,f,0],g,k,1,l,m,this.plotAreaGradientAngle);e.setCN(this,g,"plot-area");g.translate(c+a,d+b);this.set.push(g);0!==a&&0!==b&&(g=this.plotAreaFillColors,"object"==typeof g&&(g=g[0]),g=e.adjustLuminosity(g,-.15),h=e.polygon(this.container,[0,a,h+a,h,0],[0,b,b,0,0],g,k,1,l,m),e.setCN(this,h,"plot-area-bottom"),h.translate(c,d+f),this.set.push(h),a=e.polygon(this.container,[0,0,a,a,0],[0,f,f+b,b,0],g,k,1,l,m),e.setCN(this,a,"plot-area-left"),
a.translate(c,d),this.set.push(a));(c=this.bbset)&&this.scrollbarOnly&&c.remove()},updatePlotArea:function(){var a=this.updateWidth(),b=this.updateHeight(),c=this.container;this.realWidth=a;this.realWidth=b;c&&this.container.setSize(a,b);a=a-this.marginLeftReal-this.marginRightReal-this.dx;b=b-this.marginTopReal-this.marginBottomReal;1>a&&(a=1);1>b&&(b=1);this.plotAreaWidth=Math.round(a);this.plotAreaHeight=Math.round(b)},updateDxy:function(){this.dx=Math.round(this.depth3D*Math.cos(this.angle*Math.PI/
180));this.dy=Math.round(-this.depth3D*Math.sin(this.angle*Math.PI/180));this.d3x=Math.round(this.columnSpacing3D*Math.cos(this.angle*Math.PI/180));this.d3y=Math.round(-this.columnSpacing3D*Math.sin(this.angle*Math.PI/180))},updateMargins:function(){var a=this.getTitleHeight();this.titleHeight=a;this.marginTopReal=this.marginTop-this.dy;this.fixMargins&&!this.fixMargins.top&&(this.marginTopReal+=a);this.marginBottomReal=this.marginBottom;this.marginLeftReal=this.marginLeft;this.marginRightReal=this.marginRight},
updateValueAxes:function(){var a,b=this.valueAxes,c=this.marginLeftReal,d=this.marginTopReal,h=this.plotAreaHeight,f=this.plotAreaWidth;for(a=0;a<b.length;a++){var g=b[a];g.axisRenderer=e.RecAxis;g.guideFillRenderer=e.RecFill;g.axisItemRenderer=e.RecItem;g.dx=this.dx;g.dy=this.dy;g.viW=f-1;g.viH=h-1;g.marginsChanged=!0;g.viX=c;g.viY=d;this.updateObjectSize(g)}},updateObjectSize:function(a){a.width=(this.plotAreaWidth-1)*this.widthMultiplier;a.height=(this.plotAreaHeight-1)*this.heightMultiplier;a.x=
this.marginLeftReal+this.horizontalPosition;a.y=this.marginTopReal+this.verticalPosition},updateGraphs:function(){var a,b=this.graphs;for(a=0;a<b.length;a++){var c=b[a];c.x=this.marginLeftReal+this.horizontalPosition;c.y=this.marginTopReal+this.verticalPosition;c.width=this.plotAreaWidth*this.widthMultiplier;c.height=this.plotAreaHeight*this.heightMultiplier;c.index=a;c.dx=this.dx;c.dy=this.dy;c.rotate=this.rotate}},updateChartCursor:function(){var a=this.chartCursor;a&&(a=e.processObject(a,e.ChartCursor,
this.theme),this.addChartCursor(a),a.x=this.marginLeftReal,a.y=this.marginTopReal,a.width=this.plotAreaWidth-1,a.height=this.plotAreaHeight-1,a.chart=this)},processScrollbars:function(){var a=this.chartScrollbar;a&&(a=e.processObject(a,e.ChartScrollbar,this.theme),this.addChartScrollbar(a))},updateScrollbars:function(){},addChartCursor:function(a){e.callMethod("destroy",[this.chartCursor]);a&&(this.listenTo(a,"changed",this.handleCursorChange),this.listenTo(a,"zoomed",this.handleCursorZoom));this.chartCursor=
a},removeChartCursor:function(){e.callMethod("destroy",[this.chartCursor]);this.chartCursor=null},zoomTrendLines:function(){var a,b=this.trendLines;for(a=0;a<b.length;a++){var c=b[a];c.valueAxis.recalculateToPercents?c.set&&c.set.hide():(c.x=this.marginLeftReal+this.horizontalPosition,c.y=this.marginTopReal+this.verticalPosition,c.draw())}},addTrendLine:function(a){this.trendLines.push(a)},removeTrendLine:function(a){var b,c=this.trendLines;for(b=c.length-1;0<=b;b--)c[b]==a&&c.splice(b,1)},adjustMargins:function(a,
b){var c=a.position,d=a.scrollbarHeight+a.offset;a.enabled&&("top"==c?b?this.marginLeftReal+=d:this.marginTopReal+=d:b?this.marginRightReal+=d:this.marginBottomReal+=d)},getScrollbarPosition:function(a,b,c){var d="bottom",e="top";a.oppositeAxis||(e=d,d="top");a.position=b?"bottom"==c||"left"==c?d:e:"top"==c||"right"==c?d:e},updateChartScrollbar:function(a,b){if(a){a.rotate=b;var c=this.marginTopReal,d=this.marginLeftReal,e=a.scrollbarHeight,f=this.dx,g=this.dy,k=a.offset;"top"==a.position?b?(a.y=
c,a.x=d-e-k):(a.y=c-e+g-k,a.x=d+f):b?(a.y=c+g,a.x=d+this.plotAreaWidth+f+k):(a.y=c+this.plotAreaHeight+k,a.x=this.marginLeftReal)}},showZB:function(a){var b=this.zbSet;a&&(b=this.zoomOutText,""!==b&&b&&this.drawZoomOutButton());(b=this.zbSet)&&(this.zoomButtonSet.push(b),a?b.show():b.hide(),this.rollOutZB())},handleReleaseOutside:function(a){e.PieRectangularChart.base.handleReleaseOutside.call(this,a);(a=this.chartCursor)&&a.handleReleaseOutside&&a.handleReleaseOutside()},handleMouseDown:function(a){e.PieRectangularChart.base.handleMouseDown.call(this,
a);var b=this.chartCursor;b&&b.handleMouseDown&&b.handleMouseDown(a)},handleCursorChange:function(){},update:function(){e.PieRectangularChart.base.update.call(this);this.chartCursor&&this.chartCursor.update&&this.chartCursor.update()}})})();
(function(){var e=window.PieCharts;e.TrendLine=e.Class({construct:function(a){this.cname="TrendLine";this.createEvents("click");this.isProtected=!1;this.dashLength=0;this.lineColor="#00CC00";this.lineThickness=this.lineAlpha=1;e.applyTheme(this,a,this.cname)},draw:function(){var a=this;a.destroy();var b,c,d,h,f=a.chart,g=f.container,k=a.categoryAxis,l=a.initialDate,m=a.initialCategory,n=a.finalDate,q=a.finalCategory,p=a.valueAxis,t=a.valueAxisX,r=a.initialXValue,u=a.finalXValue,z=a.initialValue,A=
a.finalValue,w=p.recalculateToPercents,v=f.dataDateFormat;k&&(l&&(l=e.getDate(l,v,"fff"),a.initialDate=l,b=k.dateToCoordinate(l)),m&&(b=k.categoryToCoordinate(m)),n&&(n=e.getDate(n,v,"fff"),a.finalDate=n,c=k.dateToCoordinate(n)),q&&(c=k.categoryToCoordinate(q)));t&&!w&&(isNaN(r)||(b=t.getCoordinate(r)),isNaN(u)||(c=t.getCoordinate(u)));p&&!w&&(isNaN(z)||(d=p.getCoordinate(z)),isNaN(A)||(h=p.getCoordinate(A)));isNaN(b)||isNaN(c)||isNaN(d)||isNaN(d)||(f.rotate?(k=[d,h],h=[b,c]):(k=[b,c],h=[d,h]),l=
a.lineColor,d=e.line(g,k,h,l,a.lineAlpha,a.lineThickness,a.dashLength),b=k,c=h,q=k[1]-k[0],p=h[1]-h[0],0===q&&(q=.01),0===p&&(p=.01),m=q/Math.abs(q),n=p/Math.abs(p),p=q*p/Math.abs(q*p)*Math.sqrt(Math.pow(q,2)+Math.pow(p,2)),q=Math.asin(q/p),p=90*Math.PI/180-q,q=Math.abs(5*Math.cos(p)),p=Math.abs(5*Math.sin(p)),b.push(k[1]-m*p,k[0]-m*p),c.push(h[1]+n*q,h[0]+n*q),k=e.polygon(g,b,c,l,.005,0),g=g.set([k,d]),g.translate(f.marginLeftReal,f.marginTopReal),f.trendLinesSet.push(g),e.setCN(f,d,"trend-line"),
e.setCN(f,d,"trend-line-"+a.id),a.line=d,a.set=g,(d=a.initialImage)&&(d=e.processObject(d,e.Image,a.theme),d.chart=f,d.draw(),d.translate(b[0]+d.offsetX,c[0]+d.offsetY),g.push(d.set)),(h=a.finalImage)&&(h=e.processObject(h,e.Image,a.theme),h.chart=f,h.draw(),h.translate(b[1]+d.offsetX,c[1]+d.offsetY),g.push(h.set)),k.mouseup(function(){a.handleLineClick()}).mouseover(function(){a.handleLineOver()}).mouseout(function(){a.handleLineOut()}),k.touchend&&k.touchend(function(){a.handleLineClick()}),g.clipRect(0,
0,f.plotAreaWidth,f.plotAreaHeight))},handleLineClick:function(){var a={type:"click",trendLine:this,chart:this.chart};this.fire(a.type,a)},handleLineOver:function(){var a=this.rollOverColor;void 0!==a&&this.line.attr({stroke:a})},handleLineOut:function(){this.line.attr({stroke:this.lineColor})},destroy:function(){e.remove(this.set)}})})();
(function(){var e=window.PieCharts;e.Image=e.Class({construct:function(a){this.cname="Image";this.height=this.width=20;this.rotation=this.offsetY=this.offsetX=0;this.balloonColor=this.color="#000000";this.opacity=1;e.applyTheme(this,a,this.cname)},draw:function(){var a=this;a.set&&a.set.remove();var b=a.chart.container;a.set=b.set();var c,d;a.url?(c=b.image(a.url,0,0,a.width,a.height),d=1):a.svgPath&&(c=b.path(a.svgPath),c.setAttr("fill",a.color),c.setAttr("stroke",a.outlineColor),b=c.getBBox(),d=
Math.min(a.width/b.width,a.height/b.height));c&&(c.setAttr("opacity",a.opacity),a.set.rotate(a.rotation),c.translate(-a.width/2,-a.height/2,d),a.balloonText&&c.mouseover(function(){a.chart.showBalloon(a.balloonText,a.balloonColor,!0)}).mouseout(function(){a.chart.hideBalloon()}).touchend(function(){a.chart.hideBalloon()}).touchstart(function(){a.chart.showBalloon(a.balloonText,a.balloonColor,!0)}),a.set.push(c))},translate:function(a,b){this.set&&this.set.translate(a,b)}})})();
(function(){var e=window.PieCharts;e.circle=function(a,b,c,d,h,f,g,k,l){return 0>=b&&(b=.001),(void 0==h||0===h)&&(h=.01),void 0===f&&(f="#000000"),void 0===g&&(g=0),d={fill:c,stroke:f,"fill-opacity":d,"stroke-width":h,"stroke-opacity":g},a=isNaN(l)?a.circle(0,0,b).attr(d):a.ellipse(0,0,b,l).attr(d),k&&a.gradient("radialGradient",[c,e.adjustLuminosity(c,-.6)]),a};e.text=function(a,b,c,d,h,f,g,k){return f||(f="middle"),"right"==f&&(f="end"),"left"==f&&(f="start"),isNaN(k)&&(k=1),void 0!==b&&(b=String(b),
e.isIE&&!e.isModern&&(b=b.replace("&","&"),b=b.replace("&","&"))),c={fill:c,"font-family":d,"font-size":h,opacity:k},!0===g&&(c["font-weight"]="bold"),c["text-anchor"]=f,a.text(b,c)};e.polygon=function(a,b,c,d,h,f,g,k,l,m,n){isNaN(f)&&(f=.01);isNaN(k)&&(k=h);var q=d,p=!1;"object"==typeof q&&1<q.length&&(p=!0,q=q[0]);void 0===g&&(g=q);h={fill:q,stroke:g,"fill-opacity":h,"stroke-width":f,"stroke-opacity":k};void 0!==n&&0<n&&(h["stroke-dasharray"]=n);n=e.dx;f=e.dy;a.handDrawn&&(c=e.makeHD(b,c,a.handDrawScatter),
b=c[0],c=c[1]);g=Math.round;m&&(g=e.doNothing);m="M"+(g(b[0])+n)+","+(g(c[0])+f);for(k=1;k<b.length;k++)m+=" L"+(g(b[k])+n)+","+(g(c[k])+f);return a=a.path(m+" Z").attr(h),p&&a.gradient("linearGradient",d,l),a};e.rect=function(a,b,c,d,h,f,g,k,l,m,n){if(isNaN(b)||isNaN(c))return a.set();isNaN(f)&&(f=0);void 0===l&&(l=0);void 0===m&&(m=270);isNaN(h)&&(h=0);var q=d,p=!1;"object"==typeof q&&(q=q[0],p=!0);void 0===g&&(g=q);void 0===k&&(k=h);b=Math.round(b);c=Math.round(c);var t=0,r=0;return 0>b&&(b=Math.abs(b),
t=-b),0>c&&(c=Math.abs(c),r=-c),t+=e.dx,r+=e.dy,h={fill:q,stroke:g,"fill-opacity":h,"stroke-opacity":k},void 0!==n&&0<n&&(h["stroke-dasharray"]=n),a=a.rect(t,r,b,c,l,f).attr(h),p&&a.gradient("linearGradient",d,m),a};e.bullet=function(a,b,c,d,h,f,g,k,l,m,n,q){var p;switch("circle"==b&&(b="round"),b){case "round":p=e.circle(a,c/2,d,h,f,g,k);break;case "square":p=e.polygon(a,[-c/2,c/2,c/2,-c/2],[c/2,c/2,-c/2,-c/2],d,h,f,g,k,m-180);break;case "rectangle":p=e.polygon(a,[-c,c,c,-c],[c/2,c/2,-c/2,-c/2],
d,h,f,g,k,m-180);break;case "diamond":p=e.polygon(a,[-c/2,0,c/2,0],[0,-c/2,0,c/2],d,h,f,g,k);break;case "triangleUp":p=e.triangle(a,c,0,d,h,f,g,k);break;case "triangleDown":p=e.triangle(a,c,180,d,h,f,g,k);break;case "triangleLeft":p=e.triangle(a,c,270,d,h,f,g,k);break;case "triangleRight":p=e.triangle(a,c,90,d,h,f,g,k);break;case "bubble":p=e.circle(a,c/2,d,h,f,g,k,!0);break;case "line":p=e.line(a,[-c/2,c/2],[0,0],d,h,f,g,k);break;case "yError":p=a.set();p.push(e.line(a,[0,0],[-c/2,c/2],d,h,f));p.push(e.line(a,
[-l,l],[-c/2,-c/2],d,h,f));p.push(e.line(a,[-l,l],[c/2,c/2],d,h,f));break;case "xError":p=a.set(),p.push(e.line(a,[-c/2,c/2],[0,0],d,h,f)),p.push(e.line(a,[-c/2,-c/2],[-l,l],d,h,f)),p.push(e.line(a,[c/2,c/2],[-l,l],d,h,f))}return p&&p.pattern(n,0/0,q),p};e.triangle=function(a,b,c,d,e,f,g,k){void 0!==f&&0!==f||(f=1);void 0===g&&(g="#000");void 0===k&&(k=0);d={fill:d,stroke:g,"fill-opacity":e,"stroke-width":f,"stroke-opacity":k};b/=2;var l;return 0===c&&(l=" M"+-b+","+b+" L0,"+-b+" L"+b+","+b+" Z"),
180==c&&(l=" M"+-b+","+-b+" L0,"+b+" L"+b+","+-b+" Z"),90==c&&(l=" M"+-b+","+-b+" L"+b+",0 L"+-b+","+b+" Z"),270==c&&(l=" M"+-b+",0 L"+b+","+b+" L"+b+","+-b+" Z"),a.path(l).attr(d)};e.line=function(a,b,c,d,h,f,g,k,l,m,n){if(a.handDrawn&&!n)return e.handDrawnLine(a,b,c,d,h,f,g,k,l,m,n);f={fill:"none","stroke-width":f};void 0!==g&&0<g&&(f["stroke-dasharray"]=g);isNaN(h)||(f["stroke-opacity"]=h);d&&(f.stroke=d);d=Math.round;m&&(d=e.doNothing);m=e.dx;h=e.dy;g="M"+(d(b[0])+m)+","+(d(c[0])+h);for(k=1;k<
b.length;k++)g+=" L"+(d(b[k])+m)+","+(d(c[k])+h);return e.VML?a.path(g,void 0,!0).attr(f):(l&&(g+=" M0,0 L0,0"),a.path(g).attr(f))};e.makeHD=function(a,b,c){for(var d=[],e=[],f=1;f<a.length;f++)for(var g=Number(a[f-1]),k=Number(b[f-1]),l=Number(a[f]),m=Number(b[f]),n=Math.sqrt(Math.pow(l-g,2)+Math.pow(m-k,2)),n=Math.round(n/50)+1,l=(l-g)/n,m=(m-k)/n,q=0;n>=q;q++){var p=g+q*l+Math.random()*c,t=k+q*m+Math.random()*c;d.push(p);e.push(t)}return[d,e]};e.handDrawnLine=function(a,b,c,d,h,f,g,k,l,m){var n,
q=a.set();for(n=1;n<b.length;n++)for(var p=[b[n-1],b[n]],t=[c[n-1],c[n]],t=e.makeHD(p,t,a.handDrawScatter),p=t[0],t=t[1],r=1;r<p.length;r++)q.push(e.line(a,[p[r-1],p[r]],[t[r-1],t[r]],d,h,f+Math.random()*a.handDrawThickness-a.handDrawThickness/2,g,k,l,m,!0));return q};e.doNothing=function(a){return a};e.wedge=function(a,b,c,d,h,f,g,k,l,m,n,q,p){var t=Math.round;f=t(f);g=t(g);k=t(k);var r=t(g/f*k),u=e.VML,z=359.5+f/100;359.94<z&&(z=359.94);h>=z&&(h=z);var A=1/180*Math.PI,z=b+Math.sin(d*A)*k,w=c-Math.cos(d*
A)*r,v=b+Math.sin(d*A)*f,y=c-Math.cos(d*A)*g,C=b+Math.sin((d+h)*A)*f,B=c-Math.cos((d+h)*A)*g,D=b+Math.sin((d+h)*A)*k,A=c-Math.cos((d+h)*A)*r,I={fill:e.adjustLuminosity(m.fill,-.2),"stroke-opacity":0,"fill-opacity":m["fill-opacity"]},E=0;180<Math.abs(h)&&(E=1);d=a.set();var L;u&&(z=t(10*z),v=t(10*v),C=t(10*C),D=t(10*D),w=t(10*w),y=t(10*y),B=t(10*B),A=t(10*A),b=t(10*b),l=t(10*l),c=t(10*c),f*=10,g*=10,k*=10,r*=10,1>Math.abs(h)&&1>=Math.abs(C-v)&&1>=Math.abs(B-y)&&(L=!0));h="";var J;if(q&&(I["fill-opacity"]=
0,I["stroke-opacity"]=m["stroke-opacity"]/2,I.stroke=m.stroke),0<l){J=" M"+z+","+(w+l)+" L"+v+","+(y+l);u?(L||(J+=" A"+(b-f)+","+(l+c-g)+","+(b+f)+","+(l+c+g)+","+v+","+(y+l)+","+C+","+(B+l)),J+=" L"+D+","+(A+l),0<k&&(L||(J+=" B"+(b-k)+","+(l+c-r)+","+(b+k)+","+(l+c+r)+","+D+","+(l+A)+","+z+","+(l+w)))):(J+=" A"+f+","+g+",0,"+E+",1,"+C+","+(B+l)+" L"+D+","+(A+l),0<k&&(J+=" A"+k+","+r+",0,"+E+",0,"+z+","+(w+l)));J+=" Z";var U=l;u&&(U/=10);for(var T=0;U>T;T+=10){var Z=a.path(J,void 0,void 0,"1000,1000").attr(I);
d.push(Z);Z.translate(0,-T)}J=a.path(" M"+z+","+w+" L"+z+","+(w+l)+" L"+v+","+(y+l)+" L"+v+","+y+" L"+z+","+w+" Z",void 0,void 0,"1000,1000").attr(I);l=a.path(" M"+C+","+B+" L"+C+","+(B+l)+" L"+D+","+(A+l)+" L"+D+","+A+" L"+C+","+B+" Z",void 0,void 0,"1000,1000").attr(I);d.push(J);d.push(l)}if(u?(L||(h=" A"+t(b-f)+","+t(c-g)+","+t(b+f)+","+t(c+g)+","+t(v)+","+t(y)+","+t(C)+","+t(B)),f=" M"+t(z)+","+t(w)+" L"+t(v)+","+t(y)+h+" L"+t(D)+","+t(A)):f=" M"+z+","+w+" L"+v+","+y+(" A"+f+","+g+",0,"+E+",1,"+
C+","+B)+" L"+D+","+A,0<k&&(u?L||(f+=" B"+(b-k)+","+(c-r)+","+(b+k)+","+(c+r)+","+D+","+A+","+z+","+w):f+=" A"+k+","+r+",0,"+E+",0,"+z+","+w),a.handDrawn&&(b=e.line(a,[z,v],[w,y],m.stroke,m.thickness*Math.random()*a.handDrawThickness,m["stroke-opacity"]),d.push(b)),a=a.path(f+" Z",void 0,void 0,"1000,1000").attr(m),n){b=[];for(c=0;c<n.length;c++)b.push(e.adjustLuminosity(m.fill,n[c]));0<b.length&&a.gradient("linearGradient",b)}return a.pattern(q,0/0,p),d.wedge=a,d.push(a),d};e.adjustLuminosity=function(a,
b){a=String(a).replace(/[^0-9a-f]/gi,"");6>a.length&&(a=String(a[0])+String(a[0])+String(a[1])+String(a[1])+String(a[2])+String(a[2]));b=b||0;var c,d,e="#";for(d=0;3>d;d++)c=parseInt(a.substr(2*d,2),16),c=Math.round(Math.min(Math.max(0,c+c*b),255)).toString(16),e+=("00"+c).substr(c.length);return e}})();
(function(){var e=window.PieCharts;e.Bezier=e.Class({construct:function(a,b,c,d,h,f,g,k,l,m){"object"==typeof g&&(g=g[0]);"object"==typeof k&&(k=k[0]);0===k&&(g="none");f={fill:g,"fill-opacity":k,"stroke-width":f};void 0!==l&&0<l&&(f["stroke-dasharray"]=l);isNaN(h)||(f["stroke-opacity"]=h);d&&(f.stroke=d);d="M"+Math.round(b[0])+","+Math.round(c[0]);h=[];for(l=0;l<b.length;l++)h.push({x:Number(b[l]),y:Number(c[l])});1<h.length&&(b=this.interpolate(h),d+=this.drawBeziers(b));m?d+=m:e.VML||(d+="M0,0 L0,0");
this.path=a.path(d).attr(f);this.node=this.path.node},interpolate:function(a){var b=[];b.push({x:a[0].x,y:a[0].y});var c=a[1].x-a[0].x,d=a[1].y-a[0].y,h=e.bezierX,f=e.bezierY;b.push({x:a[0].x+c/h,y:a[0].y+d/f});var g;for(g=1;g<a.length-1;g++){var k=a[g-1],l=a[g],d=a[g+1];isNaN(d.x)&&(d=l);isNaN(l.x)&&(l=k);isNaN(k.x)&&(k=l);c=d.x-l.x;d=d.y-k.y;k=l.x-k.x;k>c&&(k=c);b.push({x:l.x-k/h,y:l.y-d/f});b.push({x:l.x,y:l.y});b.push({x:l.x+k/h,y:l.y+d/f})}return d=a[a.length-1].y-a[a.length-2].y,c=a[a.length-
1].x-a[a.length-2].x,b.push({x:a[a.length-1].x-c/h,y:a[a.length-1].y-d/f}),b.push({x:a[a.length-1].x,y:a[a.length-1].y}),b},drawBeziers:function(a){var b,c="";for(b=0;b<(a.length-1)/3;b++)c+=this.drawBezierMidpoint(a[3*b],a[3*b+1],a[3*b+2],a[3*b+3]);return c},drawBezierMidpoint:function(a,b,c,d){var e=Math.round,f=this.getPointOnSegment(a,b,.75),g=this.getPointOnSegment(d,c,.75),k=(d.x-a.x)/16,l=(d.y-a.y)/16,m=this.getPointOnSegment(a,b,.375);return a=this.getPointOnSegment(f,g,.375),a.x-=k,a.y-=
l,b=this.getPointOnSegment(g,f,.375),b.x+=k,b.y+=l,c=this.getPointOnSegment(d,c,.375),k=this.getMiddle(m,a),f=this.getMiddle(f,g),g=this.getMiddle(b,c),m=" Q"+e(m.x)+","+e(m.y)+","+e(k.x)+","+e(k.y),m+=" Q"+e(a.x)+","+e(a.y)+","+e(f.x)+","+e(f.y),m+=" Q"+e(b.x)+","+e(b.y)+","+e(g.x)+","+e(g.y),m+(" Q"+e(c.x)+","+e(c.y)+","+e(d.x)+","+e(d.y))},getMiddle:function(a,b){return{x:(a.x+b.x)/2,y:(a.y+b.y)/2}},getPointOnSegment:function(a,b,c){return{x:a.x+(b.x-a.x)*c,y:a.y+(b.y-a.y)*c}}})})();
(function(){var e=window.PieCharts;e.PieDraw=e.Class({construct:function(a,b,c,d){e.SVG_NS="http://www.w3.org/2000/svg";e.SVG_XLINK="http://www.w3.org/1999/xlink";e.hasSVG=!!document.createElementNS&&!!document.createElementNS(e.SVG_NS,"svg").createSVGRect;1>b&&(b=10);1>c&&(c=10);this.div=a;this.width=b;this.height=c;this.rBin=document.createElement("div");e.hasSVG?(e.SVG=!0,b=this.createSvgElement("svg"),a.appendChild(b),this.container=b,this.addDefs(d),this.R=new e.SVGRenderer(this)):e.isIE&&e.VMLRenderer&&
(e.VML=!0,e.vmlStyleSheet||(document.namespaces.add("amvml","urn:schemas-microsoft-com:vml"),31>document.styleSheets.length?(b=document.createStyleSheet(),b.addRule(".amvml","behavior:url(#default#VML); display:inline-block; antialias:true"),e.vmlStyleSheet=b):document.styleSheets[0].addRule(".amvml","behavior:url(#default#VML); display:inline-block; antialias:true")),this.container=a,this.R=new e.VMLRenderer(this,d),this.R.disableSelection(a))},createSvgElement:function(a){return document.createElementNS(e.SVG_NS,
a)},circle:function(a,b,c,d){var h=new e.PieDObject("circle",this);return h.attr({r:c,cx:a,cy:b}),this.addToContainer(h.node,d),h},ellipse:function(a,b,c,d,h){var f=new e.PieDObject("ellipse",this);return f.attr({rx:c,ry:d,cx:a,cy:b}),this.addToContainer(f.node,h),f},setSize:function(a,b){0<a&&0<b&&(this.container.style.width=a+"px",this.container.style.height=b+"px")},rect:function(a,b,c,d,h,f,g){var k=new e.PieDObject("rect",this);return e.VML&&(h=Math.round(100*h/Math.min(c,d)),c+=2*f,d+=2*f,k.bw=
f,k.node.style.marginLeft=-f,k.node.style.marginTop=-f),1>c&&(c=1),1>d&&(d=1),k.attr({x:a,y:b,width:c,height:d,rx:h,ry:h,"stroke-width":f}),this.addToContainer(k.node,g),k},image:function(a,b,c,d,h,f){var g=new e.PieDObject("image",this);return g.attr({x:b,y:c,width:d,height:h}),this.R.path(g,a),this.addToContainer(g.node,f),g},addToContainer:function(a,b){b||(b=this.container);b.appendChild(a)},text:function(a,b,c){return this.R.text(a,b,c)},path:function(a,b,c,d){var h=new e.PieDObject("path",this);
return d||(d="100,100"),h.attr({cs:d}),h.attr(c?{dd:a}:{d:a}),this.addToContainer(h.node,b),h},set:function(a){return this.R.set(a)},remove:function(a){if(a){var b=this.rBin;b.appendChild(a);b.innerHTML=""}},renderFix:function(){var a,b=this.container,c=b.style;try{a=b.getScreenCTM()||b.createSVGMatrix()}catch(d){a=b.createSVGMatrix()}b=1-a.e%1;a=1-a.f%1;.5<b&&--b;.5<a&&--a;b&&(c.left=b+"px");a&&(c.top=a+"px")},update:function(){this.R.update()},addDefs:function(a){if(e.hasSVG){var b=this.createSvgElement("desc"),
c=this.container;c.setAttribute("version","1.1");c.style.position="absolute";this.setSize(this.width,this.height);e.rtl&&(c.setAttribute("direction","rtl"),c.style.left="auto",c.style.right="0px");a.addCodeCredits&&b.appendChild(document.createTextNode("JavaScript chart by PieCharts "+a.version));c.appendChild(b);a.defs&&(b=this.createSvgElement("defs"),c.appendChild(b),e.parseDefs(a.defs,b),this.defs=b)}}})})();
(function(){var e=window.PieCharts;e.PieDObject=e.Class({construct:function(a,b){this.D=b;this.R=b.R;this.node=this.R.create(this,a);this.y=this.x=0;this.scale=1},attr:function(a){return this.R.attr(this,a),this},getAttr:function(a){return this.node.getAttribute(a)},setAttr:function(a,b){return this.R.setAttr(this,a,b),this},clipRect:function(a,b,c,d){this.R.clipRect(this,a,b,c,d)},translate:function(a,b,c,d){d||(a=Math.round(a),b=Math.round(b));this.R.move(this,a,b,c);this.x=a;this.y=b;this.scale=
c;this.angle&&this.rotate(this.angle)},rotate:function(a,b){this.R.rotate(this,a,b);this.angle=a},animate:function(a,b,c){for(var d in a)if(a.hasOwnProperty(d)){var h=d,f=a[d];c=e.getEffect(c);this.R.animate(this,h,f,b,c)}},push:function(a){if(a){var b=this.node;b.appendChild(a.node);var c=a.clipPath;c&&b.appendChild(c);(a=a.grad)&&b.appendChild(a)}},text:function(a){this.R.setText(this,a)},remove:function(){this.R.remove(this)},clear:function(){var a=this.node;if(a.hasChildNodes())for(;1<=a.childNodes.length;)a.removeChild(a.firstChild)},
hide:function(){this.setAttr("visibility","hidden")},show:function(){this.setAttr("visibility","visible")},getBBox:function(){return this.R.getBBox(this)},toFront:function(){var a=this.node;if(a){this.prevNextNode=a.nextSibling;var b=a.parentNode;b&&b.appendChild(a)}},toPrevious:function(){var a=this.node;a&&this.prevNextNode&&(a=a.parentNode)&&a.insertBefore(this.prevNextNode,null)},toBack:function(){var a=this.node;if(a){this.prevNextNode=a.nextSibling;var b=a.parentNode;if(b){var c=b.firstChild;
c&&b.insertBefore(a,c)}}},mouseover:function(a){return this.R.addListener(this,"mouseover",a),this},mouseout:function(a){return this.R.addListener(this,"mouseout",a),this},click:function(a){return this.R.addListener(this,"click",a),this},dblclick:function(a){return this.R.addListener(this,"dblclick",a),this},mousedown:function(a){return this.R.addListener(this,"mousedown",a),this},mouseup:function(a){return this.R.addListener(this,"mouseup",a),this},touchstart:function(a){return this.R.addListener(this,
"touchstart",a),this},touchend:function(a){return this.R.addListener(this,"touchend",a),this},contextmenu:function(a){return this.node.addEventListener?this.node.addEventListener("contextmenu",a,!0):this.R.addListener(this,"contextmenu",a),this},stop:function(){e.removeFromArray(this.R.animations,this.an_x);e.removeFromArray(this.R.animations,this.an_y)},length:function(){return this.node.childNodes.length},gradient:function(a,b,c){this.R.gradient(this,a,b,c)},pattern:function(a,b,c){a&&this.R.pattern(this,
a,b,c)}})})();
(function(){var e=window.PieCharts;e.VMLRenderer=e.Class({construct:function(a,b){this.chart=b;this.D=a;this.cNames={circle:"oval",ellipse:"oval",rect:"roundrect",path:"shape"};this.styleMap={x:"left",y:"top",width:"width",height:"height","font-family":"fontFamily","font-size":"fontSize",visibility:"visibility"}},create:function(a,b){var c;if("group"==b)c=document.createElement("div"),a.type="div";else if("text"==b)c=document.createElement("div"),a.type="text";else if("image"==b)c=document.createElement("img"),a.type=
"image";else{a.type="shape";a.shapeType=this.cNames[b];c=document.createElement("amvml:"+this.cNames[b]);var d=document.createElement("amvml:stroke");c.appendChild(d);a.stroke=d;var e=document.createElement("amvml:fill");c.appendChild(e);a.fill=e;e.className="amvml";d.className="amvml";c.className="amvml"}return c.style.position="absolute",c.style.top=0,c.style.left=0,c},path:function(a,b){a.node.setAttribute("src",b)},setAttr:function(a,b,c){if(void 0!==c){var d;8===document.documentMode&&(d=!0);
var h=a.node,f=a.type,g=h.style;"r"==b&&(g.width=2*c,g.height=2*c);"oval"==a.shapeType&&("rx"==b&&(g.width=2*c),"ry"==b&&(g.height=2*c));"roundrect"==a.shapeType&&("width"!=b&&"height"!=b||--c);"cursor"==b&&(g.cursor=c);"cx"==b&&(g.left=c-e.removePx(g.width)/2);"cy"==b&&(g.top=c-e.removePx(g.height)/2);var k=this.styleMap[b];if(void 0!==k&&(g[k]=c),"text"==f&&("text-anchor"==b&&(a.anchor=c,k=h.clientWidth,"end"==c&&(g.marginLeft=-k+"px"),"middle"==c&&(g.marginLeft=-(k/2)+"px",g.textAlign="center"),
"start"==c&&(g.marginLeft="0px")),"fill"==b&&(g.color=c),"font-weight"==b&&(g.fontWeight=c)),g=a.children)for(k=0;k<g.length;k++)g[k].setAttr(b,c);"shape"==f&&("cs"==b&&(h.style.width="100px",h.style.height="100px",h.setAttribute("coordsize",c)),"d"==b&&h.setAttribute("path",this.svgPathToVml(c)),"dd"==b&&h.setAttribute("path",c),f=a.stroke,a=a.fill,"stroke"==b&&(d?f.color=c:f.setAttribute("color",c)),"stroke-width"==b&&(d?f.weight=c:f.setAttribute("weight",c)),"stroke-opacity"==b&&(d?f.opacity=c:
f.setAttribute("opacity",c)),"stroke-dasharray"==b&&(g="solid",0<c&&3>c&&(g="dot"),3<=c&&6>=c&&(g="dash"),6<c&&(g="longdash"),d?f.dashstyle=g:f.setAttribute("dashstyle",g)),("fill-opacity"==b||"opacity"==b)&&(0===c?d?a.on=!1:a.setAttribute("on",!1):d?a.opacity=c:a.setAttribute("opacity",c)),"fill"==b&&(d?a.color=c:a.setAttribute("color",c)),"rx"==b&&(d?h.arcSize=c+"%":h.setAttribute("arcsize",c+"%")))}},attr:function(a,b){for(var c in b)b.hasOwnProperty(c)&&this.setAttr(a,c,b[c])},text:function(a,
b,c){var d=new e.PieDObject("text",this.D),h=d.node;return h.style.whiteSpace="pre",h.innerHTML=a,this.D.addToContainer(h,c),this.attr(d,b),d},getBBox:function(a){return this.getBox(a.node)},getBox:function(a){var b,c=a.offsetLeft,d=a.offsetTop,e=a.offsetWidth,f=a.offsetHeight;if(a.hasChildNodes()){var g,k,l;for(l=0;l<a.childNodes.length;l++){b=this.getBox(a.childNodes[l]);var m=b.x;isNaN(m)||(isNaN(g)?g=m:g>m&&(g=m));var n=b.y;isNaN(n)||(isNaN(k)?k=n:k>n&&(k=n));m=b.width+m;isNaN(m)||(e=Math.max(e,
m));b=b.height+n;isNaN(b)||(f=Math.max(f,b))}0>g&&(c+=g);0>k&&(d+=k)}return{x:c,y:d,width:e,height:f}},setText:function(a,b){var c=a.node;c&&(c.innerHTML=b);this.setAttr(a,"text-anchor",a.anchor)},addListener:function(a,b,c){a.node["on"+b]=c},move:function(a,b,c){var d=a.node,h=d.style;"text"==a.type&&(c-=e.removePx(h.fontSize)/2-1);"oval"==a.shapeType&&(b-=e.removePx(h.width)/2,c-=e.removePx(h.height)/2);a=a.bw;isNaN(a)||(b-=a,c-=a);isNaN(b)||isNaN(c)||(d.style.left=b+"px",d.style.top=c+"px")},svgPathToVml:function(a){var b=
a.split(" ");a="";var c,d,e=Math.round;for(d=0;d<b.length;d++){var f=b[d],g=f.substring(0,1),f=f.substring(1),k=f.split(","),l=e(k[0])+","+e(k[1]);if("M"==g&&(a+=" m "+l),"L"==g&&(a+=" l "+l),"Z"==g&&(a+=" x e"),"Q"==g){var m=c.length,n=c[m-1],q=k[0],p=k[1],l=k[2],t=k[3];c=e(c[m-2]/3+2/3*q);n=e(n/3+2/3*p);q=e(2/3*q+l/3);p=e(2/3*p+t/3);a+=" c "+c+","+n+","+q+","+p+","+l+","+t}"A"==g&&(a+=" wa "+f);"B"==g&&(a+=" at "+f);c=k}return a},animate:function(a,b,c,d,e){var f=a.node,g=this.chart;if("translate"==
b){b=c.split(",");c=b[1];var k=f.offsetTop;g.animate(a,"left",f.offsetLeft,b[0],d,e,"px");g.animate(a,"top",k,c,d,e,"px")}},clipRect:function(a,b,c,d,e){a=a.node;0===b&&0===c?(a.style.width=d+"px",a.style.height=e+"px",a.style.overflow="hidden"):a.style.clip="rect("+c+"px "+(b+d)+"px "+(c+e)+"px "+b+"px)"},rotate:function(a,b,c){if(0!==Number(b)){var d=a.node;a=d.style;c||(c=this.getBGColor(d.parentNode));a.backgroundColor=c;a.paddingLeft=1;c=b*Math.PI/180;var h=Math.cos(c),f=Math.sin(c),g=e.removePx(a.left),
k=e.removePx(a.top),l=d.offsetWidth,d=d.offsetHeight;b/=Math.abs(b);a.left=g+l/2-l/2*Math.cos(c)-b*d/2*Math.sin(c)+3;a.top=k-b*l/2*Math.sin(c)+b*d/2*Math.sin(c);a.cssText=a.cssText+"; filter:progid:DXImageTransform.Microsoft.Matrix(M11='"+h+"', M12='"+-f+"', M21='"+f+"', M22='"+h+"', sizingmethod='auto expand');"}},getBGColor:function(a){var b="#FFFFFF";if(a.style){var c=a.style.backgroundColor;""!==c?b=c:a.parentNode&&(b=this.getBGColor(a.parentNode))}return b},set:function(a){var b=new e.PieDObject("group",
this.D);if(this.D.container.appendChild(b.node),a){var c;for(c=0;c<a.length;c++)b.push(a[c])}return b},gradient:function(a,b,c,d){var e="";"radialGradient"==b&&(b="gradientradial",c.reverse());"linearGradient"==b&&(b="gradient");var f;for(f=0;f<c.length;f++){var g=Math.round(100*f/(c.length-1)),e=e+(g+"% "+c[f]);f<c.length-1&&(e+=",")}a=a.fill;90==d?d=0:270==d?d=180:180==d?d=90:0===d&&(d=270);8===document.documentMode?(a.type=b,a.angle=d):(a.setAttribute("type",b),a.setAttribute("angle",d));e&&(a.colors.value=
e)},remove:function(a){a.clipPath&&this.D.remove(a.clipPath);this.D.remove(a.node)},disableSelection:function(a){void 0!==typeof a.onselectstart&&(a.onselectstart=function(){return!1});a.style.cursor="default"},pattern:function(a,b,c,d){c=a.node;a=a.fill;var h="none";b.color&&(h=b.color);c.fillColor=h;b=b.url;e.isAbsolute(b)||(b=d+b);8===document.documentMode?(a.type="tile",a.src=b):(a.setAttribute("type","tile"),a.setAttribute("src",b))},update:function(){}})})();
(function(){var e=window.PieCharts;e.SVGRenderer=e.Class({construct:function(a){this.D=a;this.animations=[]},create:function(a,b){return document.createElementNS(e.SVG_NS,b)},attr:function(a,b){for(var c in b)b.hasOwnProperty(c)&&this.setAttr(a,c,b[c])},setAttr:function(a,b,c){void 0!==c&&a.node.setAttribute(b,c)},animate:function(a,b,c,d,h){var f=a.node;a["an_"+b]&&e.removeFromArray(this.animations,a["an_"+b]);"translate"==b?(f=(f=f.getAttribute("transform"))?String(f).substring(10,f.length-1):"0,0",
f=f.split(", ").join(" "),f=f.split(" ").join(","),0===f&&(f="0,0")):f=Number(f.getAttribute(b));c={obj:a,frame:0,attribute:b,from:f,to:c,time:d,effect:h};this.animations.push(c);a["an_"+b]=c},update:function(){var a,b=this.animations;for(a=b.length-1;0<=a;a--){var c,d,h,f=b[a],g=1E3*f.time/e.updateRate,k=f.frame+1,l=f.obj,m=f.attribute;g>=k?(f.frame++,"translate"==m?(c=f.from.split(","),m=Number(c[0]),c=Number(c[1]),isNaN(c)&&(c=0),d=f.to.split(","),h=Number(d[0]),d=Number(d[1]),h=0===h-m?h:Math.round(e[f.effect](0,
k,m,h-m,g)),f=0===d-c?d:Math.round(e[f.effect](0,k,c,d-c,g)),m="transform",f="translate("+h+","+f+")"):(d=Number(f.from),c=Number(f.to),h=c-d,f=e[f.effect](0,k,d,h,g),isNaN(f)&&(f=c),0===h&&this.animations.splice(a,1)),this.setAttr(l,m,f)):("translate"==m?(d=f.to.split(","),h=Number(d[0]),d=Number(d[1]),l.translate(h,d)):(c=Number(f.to),this.setAttr(l,m,c)),this.animations.splice(a,1))}},getBBox:function(a){if(a=a.node)try{return a.getBBox()}catch(b){}return{width:0,height:0,x:0,y:0}},path:function(a,
b){a.node.setAttributeNS(e.SVG_XLINK,"xlink:href",b)},clipRect:function(a,b,c,d,h){var f=a.node,g=a.clipPath;g&&this.D.remove(g);var k=f.parentNode;k&&(f=document.createElementNS(e.SVG_NS,"clipPath"),g=e.getUniqueId(),f.setAttribute("id",g),this.D.rect(b,c,d,h,0,0,f),k.appendChild(f),b="#",e.baseHref&&!e.isIE&&(b=this.removeTarget(window.location.href)+b),this.setAttr(a,"clip-path","url("+b+g+")"),this.clipPathC++,a.clipPath=f)},text:function(a,b,c){var d=new e.PieDObject("text",this.D);a=String(a).split("\n");
var h,f=b["font-size"];for(h=0;h<a.length;h++){var g=this.create(null,"tspan");g.appendChild(document.createTextNode(a[h]));g.setAttribute("y",(f+2)*h+Math.round(f/2));g.setAttribute("x",0);g.style.fontSize=f+"px";d.node.appendChild(g)}return d.node.setAttribute("y",Math.round(f/2)),this.attr(d,b),this.D.addToContainer(d.node,c),d},setText:function(a,b){var c=a.node;c&&(c.removeChild(c.firstChild),c.appendChild(document.createTextNode(b)))},move:function(a,b,c,d){isNaN(b)&&(b=0);isNaN(c)&&(c=0);b=
"translate("+b+","+c+")";d&&(b=b+" scale("+d+")");this.setAttr(a,"transform",b)},rotate:function(a,b){var c=a.node.getAttribute("transform"),d="rotate("+b+")";c&&(d=c+" "+d);this.setAttr(a,"transform",d)},set:function(a){var b=new e.PieDObject("g",this.D);if(this.D.container.appendChild(b.node),a){var c;for(c=0;c<a.length;c++)b.push(a[c])}return b},addListener:function(a,b,c){a.node["on"+b]=c},gradient:function(a,b,c,d){var h=a.node,f=a.grad;if(f&&this.D.remove(f),b=document.createElementNS(e.SVG_NS,
b),f=e.getUniqueId(),b.setAttribute("id",f),!isNaN(d)){var g=0,k=0,l=0,m=0;90==d?l=100:270==d?m=100:180==d?g=100:0===d&&(k=100);b.setAttribute("x1",g+"%");b.setAttribute("x2",k+"%");b.setAttribute("y1",l+"%");b.setAttribute("y2",m+"%")}for(d=0;d<c.length;d++)g=document.createElementNS(e.SVG_NS,"stop"),k=100*d/(c.length-1),0===d&&(k=0),g.setAttribute("offset",k+"%"),g.setAttribute("stop-color",c[d]),b.appendChild(g);h.parentNode.appendChild(b);c="#";e.baseHref&&!e.isIE&&(c=this.removeTarget(window.location.href)+
c);h.setAttribute("fill","url("+c+f+")");a.grad=b},removeTarget:function(a){return a.split("#")[0]},pattern:function(a,b,c,d){var h=a.node;isNaN(c)&&(c=1);var f=a.patternNode;f&&this.D.remove(f);var f=document.createElementNS(e.SVG_NS,"pattern"),g=e.getUniqueId(),k=b;b.url&&(k=b.url);e.isAbsolute(k)||(k=d+k);d=Number(b.width);isNaN(d)&&(d=4);var l=Number(b.height);isNaN(l)&&(l=4);d/=c;l/=c;c=b.x;isNaN(c)&&(c=0);var m=-Math.random()*Number(b.randomX);isNaN(m)||(c=m);m=b.y;isNaN(m)&&(m=0);var n=-Math.random()*
Number(b.randomY);isNaN(n)||(m=n);f.setAttribute("id",g);f.setAttribute("width",d);f.setAttribute("height",l);f.setAttribute("patternUnits","userSpaceOnUse");f.setAttribute("xlink:href",k);b.color&&(n=document.createElementNS(e.SVG_NS,"rect"),n.setAttributeNS(null,"height",d),n.setAttributeNS(null,"width",l),n.setAttributeNS(null,"fill",b.color),f.appendChild(n));this.D.image(k,0,0,d,l,f).translate(c,m);k="#";e.baseHref&&!e.isIE&&(k=this.removeTarget(window.location.href)+k);h.setAttribute("fill",
"url("+k+g+")");a.patternNode=f;h.parentNode.appendChild(f)},remove:function(a){a.clipPath&&this.D.remove(a.clipPath);a.grad&&this.D.remove(a.grad);a.patternNode&&this.D.remove(a.patternNode);this.D.remove(a.node)}})})();PieCharts.PieDSet=PieCharts.Class({construct:function(){this.create("g")},attr:function(e){this.R.attr(this.node,e)},move:function(e,a){this.R.move(this.node,e,a)}});
(function(){var e=window.PieCharts;e.PieLegend=e.Class({construct:function(a){this.enabled=!0;this.cname="PieLegend";this.createEvents("rollOverMarker","rollOverItem","rollOutMarker","rollOutItem","showItem","hideItem","clickMarker","rollOverItem","rollOutItem","clickLabel");this.position="bottom";this.borderColor=this.color="#000000";this.borderAlpha=0;this.markerLabelGap=5;this.verticalGap=10;this.align="left";this.horizontalGap=0;this.spacing=10;this.markerDisabledColor="#AAB3B3";this.markerType=
"square";this.markerSize=16;this.markerBorderThickness=this.markerBorderAlpha=1;this.marginBottom=this.marginTop=0;this.marginLeft=this.marginRight=20;this.autoMargins=!0;this.valueWidth=50;this.switchable=!0;this.switchType="x";this.switchColor="#FFFFFF";this.rollOverColor="#CC0000";this.reversedOrder=!1;this.labelText="[[title]]";this.valueText="[[value]]";this.useMarkerColorForLabels=!1;this.rollOverGraphAlpha=1;this.textClickEnabled=!1;this.equalWidths=!0;this.backgroundColor="#FFFFFF";this.backgroundAlpha=
0;this.useGraphSettings=!1;this.showEntries=!0;e.applyTheme(this,a,this.cname)},setData:function(a){this.legendData=a;this.invalidateSize()},invalidateSize:function(){this.destroy();this.entries=[];this.valueLabels=[];var a=this.legendData;this.enabled&&(e.ifArray(a)||e.ifArray(this.data))&&this.drawLegend()},drawLegend:function(){var a=this.chart,b=this.position,c=this.width,d=a.divRealWidth,h=a.divRealHeight,f=this.div,g=this.legendData;if(this.data&&(g=this.data),isNaN(this.fontSize)&&(this.fontSize=
a.fontSize),"right"==b||"left"==b)this.maxColumns=1,this.autoMargins&&(this.marginLeft=this.marginRight=10);else if(this.autoMargins){this.marginRight=a.marginRight;this.marginLeft=a.marginLeft;var k=a.autoMarginOffset;"bottom"==b?(this.marginBottom=k,this.marginTop=0):(this.marginTop=k,this.marginBottom=0)}if(c=void 0!==c?e.toCoordinate(c,d):a.realWidth,"outside"==b?(c=f.offsetWidth,h=f.offsetHeight,f.clientHeight&&(c=f.clientWidth,h=f.clientHeight)):(isNaN(c)||(f.style.width=c+"px"),f.className=
"PieChartsLegend "+a.classNamePrefix+"-legend-div"),this.divWidth=c,(b=this.container)?(b.container.innerHTML="",f.appendChild(b.container),b.width=c,b.height=h,b.setSize(c,h),b.addDefs(a)):b=new e.PieDraw(f,c,h,a),this.container=b,this.lx=0,this.ly=8,h=this.markerSize,h>this.fontSize&&(this.ly=h/2-1),0<h&&(this.lx+=h+this.markerLabelGap),this.titleWidth=0,(h=this.title)&&(h=e.text(this.container,h,this.color,a.fontFamily,this.fontSize,"start",!0),e.setCN(a,h,"legend-title"),h.translate(this.marginLeft,
this.marginTop+this.verticalGap+this.ly+1),a=h.getBBox(),this.titleWidth=a.width+15,this.titleHeight=a.height+6),this.index=this.maxLabelWidth=0,this.showEntries){for(a=0;a<g.length;a++)this.createEntry(g[a]);for(a=this.index=0;a<g.length;a++)this.createValue(g[a])}this.arrangeEntries();this.updateValues()},arrangeEntries:function(){var a=this.position,b=this.marginLeft+this.titleWidth,c=this.marginRight,d=this.marginTop,h=this.marginBottom,f=this.horizontalGap,g=this.div,k=this.divWidth,l=this.maxColumns,
m=this.verticalGap,n=this.spacing,q=k-c-b,p=0,t=0,r=this.container;this.set&&this.set.remove();var u=r.set();this.set=u;var z=r.set();u.push(z);var A,w,v=this.entries;for(w=0;w<v.length;w++){A=v[w].getBBox();var y=A.width;y>p&&(p=y);A=A.height;A>t&&(t=A)}var y=t=0,C=f,B=0,D=0;for(w=0;w<v.length;w++){var I=v[w];this.reversedOrder&&(I=v[v.length-w-1]);A=I.getBBox();var E;this.equalWidths?E=y*(p+n+this.markerLabelGap):(E=C,C=C+A.width+f+n);A.height>D&&(D=A.height);E+A.width>q&&0<w&&0!==y&&(t++,E=y=0,
C=E+A.width+f+n,B=B+D+m,D=0);I.translate(E,B);y++;!isNaN(l)&&y>=l&&(y=0,t++,B=B+D+m,C=f,D=0);z.push(I)}A=z.getBBox();l=A.height+2*m-1;"left"==a||"right"==a?(n=A.width+2*f,k=n+b+c,g.style.width=k+"px",this.ieW=k):n=k-b-c-1;c=e.polygon(this.container,[0,n,n,0],[0,0,l,l],this.backgroundColor,this.backgroundAlpha,1,this.borderColor,this.borderAlpha);e.setCN(this.chart,c,"legend-bg");u.push(c);u.translate(b,d);c.toBack();b=f;("top"==a||"bottom"==a||"absolute"==a||"outside"==a)&&("center"==this.align?b=
f+(n-A.width)/2:"right"==this.align&&(b=f+n-A.width));z.translate(b,m+1);this.titleHeight>l&&(l=this.titleHeight);a=l+d+h+1;0>a&&(a=0);a>this.chart.divRealHeight&&(g.style.top="0px");g.style.height=Math.round(a)+"px";r.setSize(this.divWidth,a)},createEntry:function(a){if(!1!==a.visibleInLegend){var b=this.chart,c=a.markerType;a.legendEntryWidth=this.markerSize;c||(c=this.markerType);var d=a.color,h=a.alpha;a.legendKeyColor&&(d=a.legendKeyColor());a.legendKeyAlpha&&(h=a.legendKeyAlpha());var f;!0===
a.hidden&&(f=d=this.markerDisabledColor);var g=a.pattern,k=a.customMarker;k||(k=this.customMarker);var l=this.container,m=this.markerSize,n=0,q=0,p=m/2;if(this.useGraphSettings){if(c=a.type,this.switchType=void 0,"line"==c||"step"==c||"smoothedLine"==c||"ohlc"==c)g=l.set(),a.hidden||(d=a.lineColorR,f=a.bulletBorderColorR),n=e.line(l,[0,2*m],[m/2,m/2],d,a.lineAlpha,a.lineThickness,a.dashLength),e.setCN(b,n,"graph-stroke"),g.push(n),a.bullet&&(a.hidden||(d=a.bulletColorR),n=e.bullet(l,a.bullet,a.bulletSize,
d,a.bulletAlpha,a.bulletBorderThickness,f,a.bulletBorderAlpha))&&(e.setCN(b,n,"graph-bullet"),n.translate(m+1,m/2),g.push(n)),p=0,n=m,q=m/3;else{var t;a.getGradRotation&&(t=a.getGradRotation());n=a.fillColorsR;!0===a.hidden&&(n=d);(g=this.createMarker("rectangle",n,a.fillAlphas,a.lineThickness,d,a.lineAlpha,t,g))&&(p=m,g.translate(p,m/2));n=m}e.setCN(b,g,"graph-"+c);e.setCN(b,g,"graph-"+a.id)}else k?g=l.image(k,0,0,m,m):(g=this.createMarker(c,d,h,void 0,void 0,void 0,void 0,g))&&g.translate(m/2,m/
2);e.setCN(b,g,"legend-marker");this.addListeners(g,a);l=l.set([g]);this.switchable&&a.switchable&&l.setAttr("cursor","pointer");void 0!==a.id&&e.setCN(b,l,"legend-item-"+a.id);e.setCN(b,l,a.className,!0);(f=this.switchType)&&"none"!=f&&0<m&&("x"==f?(c=this.createX(),c.translate(m/2,m/2)):c=this.createV(),c.dItem=a,!0!==a.hidden?"x"==f?c.hide():c.show():"x"!=f&&c.hide(),this.switchable||c.hide(),this.addListeners(c,a),a.legendSwitch=c,l.push(c),e.setCN(b,c,"legend-switch"));f=this.color;a.showBalloon&&
this.textClickEnabled&&void 0!==this.selectedColor&&(f=this.selectedColor);this.useMarkerColorForLabels&&(f=d);!0===a.hidden&&(f=this.markerDisabledColor);d=e.massReplace(this.labelText,{"[[title]]":a.title});c=this.fontSize;g&&(c>=m&&g.translate(p,m/2+this.ly-c/2+(c+2-m)/2-q),a.legendEntryWidth=g.getBBox().width);var r;d&&(d=e.fixBrakes(d),a.legendTextReal=d,r=this.labelWidth,r=isNaN(r)?e.text(this.container,d,f,b.fontFamily,c,"start"):e.wrappedText(this.container,d,f,b.fontFamily,c,"start",!1,r,
0),e.setCN(b,r,"legend-label"),r.translate(this.lx+n,this.ly),l.push(r),b=r.getBBox().width,this.maxLabelWidth<b&&(this.maxLabelWidth=b));this.entries[this.index]=l;a.legendEntry=this.entries[this.index];a.legendLabel=r;this.index++}},addListeners:function(a,b){var c=this;a&&a.mouseover(function(a){c.rollOverMarker(b,a)}).mouseout(function(a){c.rollOutMarker(b,a)}).click(function(a){c.clickMarker(b,a)})},rollOverMarker:function(a,b){this.switchable&&this.dispatch("rollOverMarker",a,b);this.dispatch("rollOverItem",
a,b)},rollOutMarker:function(a,b){this.switchable&&this.dispatch("rollOutMarker",a,b);this.dispatch("rollOutItem",a,b)},clickMarker:function(a,b){this.switchable&&(!0===a.hidden?this.dispatch("showItem",a,b):this.dispatch("hideItem",a,b));this.dispatch("clickMarker",a,b)},rollOverLabel:function(a,b){a.hidden||(this.textClickEnabled&&a.legendLabel&&a.legendLabel.attr({fill:this.rollOverColor}),this.dispatch("rollOverItem",a,b))},rollOutLabel:function(a,b){if(!a.hidden){if(this.textClickEnabled&&a.legendLabel){var c=
this.color;void 0!==this.selectedColor&&a.showBalloon&&(c=this.selectedColor);this.useMarkerColorForLabels&&(c=a.lineColor,void 0===c&&(c=a.color));a.legendLabel.attr({fill:c})}this.dispatch("rollOutItem",a,b)}},clickLabel:function(a,b){this.textClickEnabled?a.hidden||this.dispatch("clickLabel",a,b):this.switchable&&(!0===a.hidden?this.dispatch("showItem",a,b):this.dispatch("hideItem",a,b))},dispatch:function(a,b,c){b={type:a,dataItem:b,target:this,event:c,chart:this.chart};this.chart&&this.chart.handleLegendEvent(b);
this.fire(a,b)},createValue:function(a){var b=this,c=b.fontSize,d=b.chart;if(!1!==a.visibleInLegend){var h=b.maxLabelWidth;b.forceWidth&&(h=b.labelWidth);b.equalWidths||(b.valueAlign="left");"left"==b.valueAlign&&(h=a.legendEntry.getBBox().width);var f=h;if(b.valueText&&0<b.valueWidth){var g=b.color;b.useMarkerColorForValues&&(g=a.color,a.legendKeyColor&&(g=a.legendKeyColor()));!0===a.hidden&&(g=b.markerDisabledColor);var k=b.valueText,h=h+b.lx+b.markerLabelGap+b.valueWidth,l="end";"left"==b.valueAlign&&
(h-=b.valueWidth,l="start");g=e.text(b.container,k,g,b.chart.fontFamily,c,l);e.setCN(d,g,"legend-value");g.translate(h,b.ly);b.entries[b.index].push(g);f+=b.valueWidth+2*b.markerLabelGap;g.dItem=a;b.valueLabels.push(g)}b.index++;d=b.markerSize;c+7>d&&(d=c+7,e.VML&&(d+=3));c=b.container.rect(a.legendEntryWidth,0,f,d,0,0).attr({stroke:"none",fill:"#fff","fill-opacity":.005});c.dItem=a;b.entries[b.index-1].push(c);c.mouseover(function(c){b.rollOverLabel(a,c)}).mouseout(function(c){b.rollOutLabel(a,c)}).click(function(c){b.clickLabel(a,
c)})}},createV:function(){var a=this.markerSize;return e.polygon(this.container,[a/5,a/2,a-a/5,a/2],[a/3,a-a/5,a/5,a/1.7],this.switchColor)},createX:function(){var a=(this.markerSize-4)/2,b={stroke:this.switchColor,"stroke-width":3},c=this.container,d=e.line(c,[-a,a],[-a,a]).attr(b),a=e.line(c,[-a,a],[a,-a]).attr(b);return this.container.set([d,a])},createMarker:function(a,b,c,d,h,f,g,k){var l=this.markerSize,m=this.container;return h||(h=this.markerBorderColor),h||(h=b),isNaN(d)&&(d=this.markerBorderThickness),
isNaN(f)&&(f=this.markerBorderAlpha),e.bullet(m,a,l,b,c,d,h,f,l,g,k,this.chart.path)},validateNow:function(){this.invalidateSize()},updateValues:function(){var a,b=this.valueLabels,c=this.chart,d=this.data;for(a=0;a<b.length;a++){var h=b[a],f=h.dItem,g=" ";if(d)h.text(f.value?f.value:"");else{var k;if(void 0!==f.type){k=f.currentDataItem;var l=this.periodValueText;f.legendPeriodValueText&&(l=f.legendPeriodValueText);k?(g=this.valueText,f.legendValueText&&(g=f.legendValueText),g=c.formatString(g,k)):
l&&c.formatPeriodString&&(l=e.massReplace(l,{"[[title]]":f.title}),g=c.formatPeriodString(l,f))}else g=c.formatString(this.valueText,f);(l=this.valueFunction)&&(k&&(f=k),g=l(f,g));h.text(g)}}},renderFix:function(){if(!e.VML){var a=this.container;a&&a.renderFix()}},destroy:function(){this.div.innerHTML="";e.remove(this.set)}})})();
(function(){var e=window.PieCharts;e.formatMilliseconds=function(a,b){if(-1!=a.indexOf("fff")){var c=b.getMilliseconds(),d=String(c);10>c&&(d="00"+c);10<=c&&100>c&&(d="0"+c);a=a.replace(/fff/g,d)}return a};e.extractPeriod=function(a){var b=e.stripNumbers(a),c=1;return b!=a&&(c=Number(a.slice(0,a.indexOf(b)))),{period:b,count:c}};e.getDate=function(a,b,c){return a instanceof Date?e.newDate(a,c):b&&isNaN(a)?e.stringToDate(a,b):new Date(a)};e.newDate=function(a,b){return b&&-1==b.indexOf("fff")?new Date(a):
e.useUTC?new Date(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate(),a.getUTCHours(),a.getUTCMinutes(),a.getUTCSeconds(),a.getUTCMilliseconds()):new Date(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds())};e.resetDateToMin=function(a,b,c,d){void 0===d&&(d=1);var h,f,g,k,l,m,n;switch(e.useUTC?(h=a.getUTCFullYear(),f=a.getUTCMonth(),g=a.getUTCDate(),k=a.getUTCHours(),l=a.getUTCMinutes(),m=a.getUTCSeconds(),n=a.getUTCMilliseconds(),a=a.getUTCDay()):
(h=a.getFullYear(),f=a.getMonth(),g=a.getDate(),k=a.getHours(),l=a.getMinutes(),m=a.getSeconds(),n=a.getMilliseconds(),a=a.getDay()),b){case "YYYY":h=Math.floor(h/c)*c;f=0;g=1;n=m=l=k=0;break;case "MM":f=Math.floor(f/c)*c;g=1;n=m=l=k=0;break;case "WW":g=a>=d?g-a+d:g-(7+a)+d;n=m=l=k=0;break;case "DD":n=m=l=k=0;break;case "hh":k=Math.floor(k/c)*c;n=m=l=0;break;case "mm":l=Math.floor(l/c)*c;n=m=0;break;case "ss":m=Math.floor(m/c)*c;n=0;break;case "fff":n=Math.floor(n/c)*c}return e.useUTC?(a=new Date,
a.setUTCFullYear(h,f,g),a.setUTCHours(k,l,m,n)):a=new Date(h,f,g,k,l,m,n),a};e.getPeriodDuration=function(a,b){void 0===b&&(b=1);var c;switch(a){case "YYYY":c=316224E5;break;case "MM":c=26784E5;break;case "WW":c=6048E5;break;case "DD":c=864E5;break;case "hh":c=36E5;break;case "mm":c=6E4;break;case "ss":c=1E3;break;case "fff":c=1}return c*b};e.intervals={s:{nextInterval:"ss",contains:1E3},ss:{nextInterval:"mm",contains:60,count:0},mm:{nextInterval:"hh",contains:60,count:1},hh:{nextInterval:"DD",contains:24,
count:2},DD:{nextInterval:"",contains:1/0,count:3}};e.getMaxInterval=function(a,b){var c=e.intervals;return a>=c[b].contains?(a=Math.round(a/c[b].contains),b=c[b].nextInterval,e.getMaxInterval(a,b)):"ss"==b?c[b].nextInterval:b};e.dayNames="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" ");e.shortDayNames="Sun Mon Tue Wed Thu Fri Sat".split(" ");e.monthNames="January February March April May June July August September October November December".split(" ");e.shortMonthNames="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ");
e.getWeekNumber=function(a){a=new Date(a);a.setHours(0,0,0);a.setDate(a.getDate()+4-(a.getDay()||7));var b=new Date(a.getFullYear(),0,1);return Math.ceil(((a-b)/864E5+1)/7)};e.stringToDate=function(a,b){var c={},d=[{pattern:"YYYY",period:"year"},{pattern:"YY",period:"year"},{pattern:"MM",period:"month"},{pattern:"M",period:"month"},{pattern:"DD",period:"date"},{pattern:"D",period:"date"},{pattern:"JJ",period:"hours"},{pattern:"J",period:"hours"},{pattern:"HH",period:"hours"},{pattern:"H",period:"hours"},
{pattern:"KK",period:"hours"},{pattern:"K",period:"hours"},{pattern:"LL",period:"hours"},{pattern:"L",period:"hours"},{pattern:"NN",period:"minutes"},{pattern:"N",period:"minutes"},{pattern:"SS",period:"seconds"},{pattern:"S",period:"seconds"},{pattern:"QQQ",period:"milliseconds"},{pattern:"QQ",period:"milliseconds"},{pattern:"Q",period:"milliseconds"}],h=!0,f=b.indexOf("AA");-1!=f&&(a.substr(f,2),"pm"==a.toLowerCase&&(h=!1));var g,k,l,f=b;for(l=0;l<d.length;l++)k=d[l].period,c[k]=0,"date"==k&&(c[k]=
1);for(l=0;l<d.length;l++)if(g=d[l].pattern,k=d[l].period,-1!=b.indexOf(g)){var m=e.getFromDateString(g,a,f);b=b.replace(g,"");"KK"!=g&&"K"!=g&&"LL"!=g&&"L"!=g||!h&&(m+=12);c[k]=m}return e.useUTC?(d=new Date,d.setUTCFullYear(c.year,c.month,c.date),d.setUTCHours(c.hours,c.minutes,c.seconds,c.milliseconds)):d=new Date(c.year,c.month,c.date,c.hours,c.minutes,c.seconds,c.milliseconds),d};e.getFromDateString=function(a,b,c){return void 0!==b?(c=c.indexOf(a),b=String(b),b=b.substr(c,a.length),"0"==b.charAt(0)&&
(b=b.substr(1,b.length-1)),b=Number(b),isNaN(b)&&(b=0),-1!=a.indexOf("M")&&b--,b):void 0};e.formatDate=function(a,b,c){c||(c=e);var d,h,f,g,k,l,m,n=e.getWeekNumber(a);e.useUTC?(d=a.getUTCFullYear(),h=a.getUTCMonth(),f=a.getUTCDate(),g=a.getUTCDay(),k=a.getUTCHours(),l=a.getUTCMinutes(),m=a.getUTCSeconds(),a=a.getUTCMilliseconds()):(d=a.getFullYear(),h=a.getMonth(),f=a.getDate(),g=a.getDay(),k=a.getHours(),l=a.getMinutes(),m=a.getSeconds(),a=a.getMilliseconds());var q=String(d).substr(2,2),p=h+1;9>
h&&(p="0"+p);var t="0"+g;b=b.replace(/W/g,n);n=k;24==n&&(n=0);var r=n;10>r&&(r="0"+r);b=b.replace(/JJ/g,r);b=b.replace(/J/g,n);r=k;0===r&&(r=24,-1!=b.indexOf("H")&&f--);n=f;10>f&&(n="0"+f);var u=r;return 10>u&&(u="0"+u),b=b.replace(/HH/g,u),b=b.replace(/H/g,r),r=k,11<r&&(r-=12),u=r,10>u&&(u="0"+u),b=b.replace(/KK/g,u),b=b.replace(/K/g,r),r=k,0===r&&(r=12),12<r&&(r-=12),u=r,10>u&&(u="0"+u),b=b.replace(/LL/g,u),b=b.replace(/L/g,r),r=l,10>r&&(r="0"+r),b=b.replace(/NN/g,r),b=b.replace(/N/g,l),l=m,10>
l&&(l="0"+l),b=b.replace(/SS/g,l),b=b.replace(/S/g,m),m=a,10>m&&(m="00"+m),100>m&&(m="0"+m),l=a,10>l&&(l="00"+l),b=b.replace(/QQQ/g,m),b=b.replace(/QQ/g,l),b=b.replace(/Q/g,a),b=12>k?b.replace(/A/g,"am"):b.replace(/A/g,"pm"),b=b.replace(/YYYY/g,"@IIII@"),b=b.replace(/YY/g,"@II@"),b=b.replace(/MMMM/g,"@XXXX@"),b=b.replace(/MMM/g,"@XXX@"),b=b.replace(/MM/g,"@XX@"),b=b.replace(/M/g,"@X@"),b=b.replace(/DD/g,"@RR@"),b=b.replace(/D/g,"@R@"),b=b.replace(/EEEE/g,"@PPPP@"),b=b.replace(/EEE/g,"@PPP@"),b=b.replace(/EE/g,
"@PP@"),b=b.replace(/E/g,"@P@"),b=b.replace(/@IIII@/g,d),b=b.replace(/@II@/g,q),b=b.replace(/@XXXX@/g,c.monthNames[h]),b=b.replace(/@XXX@/g,c.shortMonthNames[h]),b=b.replace(/@XX@/g,p),b=b.replace(/@X@/g,h+1),b=b.replace(/@RR@/g,n),b=b.replace(/@R@/g,f),b=b.replace(/@PPPP@/g,c.dayNames[g]),b=b.replace(/@PPP@/g,c.shortDayNames[g]),b=b.replace(/@PP@/g,t),b.replace(/@P@/g,g)};e.changeDate=function(a,b,c,d,h){if(e.useUTC)return e.changeUTCDate(a,b,c,d,h);var f=-1;switch(void 0===d&&(d=!0),void 0===h&&
(h=!1),!0===d&&(f=1),b){case "YYYY":a.setFullYear(a.getFullYear()+c*f);d||h||a.setDate(a.getDate()+1);break;case "MM":b=a.getMonth();a.setMonth(a.getMonth()+c*f);a.getMonth()>b+c*f&&a.setDate(a.getDate()-1);d||h||a.setDate(a.getDate()+1);break;case "DD":a.setDate(a.getDate()+c*f);break;case "WW":a.setDate(a.getDate()+c*f*7);break;case "hh":a.setHours(a.getHours()+c*f);break;case "mm":a.setMinutes(a.getMinutes()+c*f);break;case "ss":a.setSeconds(a.getSeconds()+c*f);break;case "fff":a.setMilliseconds(a.getMilliseconds()+
c*f)}return a};e.changeUTCDate=function(a,b,c,d,e){var f=-1;switch(void 0===d&&(d=!0),void 0===e&&(e=!1),!0===d&&(f=1),b){case "YYYY":a.setUTCFullYear(a.getUTCFullYear()+c*f);d||e||a.setUTCDate(a.getUTCDate()+1);break;case "MM":b=a.getUTCMonth();a.setUTCMonth(a.getUTCMonth()+c*f);a.getUTCMonth()>b+c*f&&a.setUTCDate(a.getUTCDate()-1);d||e||a.setUTCDate(a.getUTCDate()+1);break;case "DD":a.setUTCDate(a.getUTCDate()+c*f);break;case "WW":a.setUTCDate(a.getUTCDate()+c*f*7);break;case "hh":a.setUTCHours(a.getUTCHours()+
c*f);break;case "mm":a.setUTCMinutes(a.getUTCMinutes()+c*f);break;case "ss":a.setUTCSeconds(a.getUTCSeconds()+c*f);break;case "fff":a.setUTCMilliseconds(a.getUTCMilliseconds()+c*f)}return a}})();
(function(){var e=window.PieCharts;e.PiePieChart=e.Class({inherits:e.PieSlicedChart,construct:function(a){this.type="pie";e.PiePieChart.base.construct.call(this,a);this.cname="PiePieChart";this.pieBrightnessStep=30;this.minRadius=10;this.depth3D=0;this.startAngle=90;this.angle=this.innerRadius=0;this.startRadius="500%";this.pullOutRadius="20%";this.labelRadius=20;this.labelText="[[title]]: [[percents]]%";this.balloonText="[[title]]: [[percents]]% ([[value]])\n[[description]]";this.previousScale=1;this.adjustPrecision=
!1;e.applyTheme(this,a,this.cname)},drawChart:function(){e.PiePieChart.base.drawChart.call(this);var a=this.chartData;if(e.ifArray(a)){if(0<this.realWidth&&0<this.realHeight){e.VML&&(this.startAlpha=1);var b=this.startDuration,c=this.container,d=this.updateWidth();this.realWidth=d;var h=this.updateHeight();this.realHeight=h;var f,g,k,l=e.toCoordinate,m=l(this.marginLeft,d),n=l(this.marginRight,d),q=l(this.marginTop,h)+this.getTitleHeight(),p=l(this.marginBottom,h),t=e.toNumber(this.labelRadius),r=
this.measureMaxLabel();r>this.maxLabelWidth&&(r=this.maxLabelWidth);this.labelText&&this.labelsEnabled||(t=r=0);f=void 0===this.pieX?(d-m-n)/2+m:l(this.pieX,this.realWidth);g=void 0===this.pieY?(h-q-p)/2+q:l(this.pieY,h);(k=l(this.radius,d,h))||(d=0<=t?d-m-n-2*r:d-m-n,h=h-q-p,k=Math.min(d,h),d>h&&(k/=1-this.angle/90,k>d&&(k=d)),h=e.toCoordinate(this.pullOutRadius,k),k=(0<=t?k-1.8*(t+h):k-1.8*h)/2);k<this.minRadius&&(k=this.minRadius);h=l(this.pullOutRadius,k);q=e.toCoordinate(this.startRadius,k);
l=l(this.innerRadius,k);l>=k&&(l=k-1);p=e.fitToBounds(this.startAngle,0,360);0<this.depth3D&&(p=270<=p?270:90);p-=90;360<p&&(p-=360);d=k-k*this.angle/90;for(m=r=0;m<a.length;m++)n=a[m],!0!==n.hidden&&(r+=e.roundTo(n.percents,this.pf.precision));r=e.roundTo(r,this.pf.precision);this.tempPrec=0/0;this.adjustPrecision&&100!=r&&(this.tempPrec=this.pf.precision+1);for(var u,m=0;m<a.length;m++)if(n=a[m],!0!==n.hidden&&(this.showZeroSlices||0!==n.percents)){var z=360*n.percents/100,r=Math.sin((p+z/2)/180*
Math.PI),A=-Math.cos((p+z/2)/180*Math.PI)*(d/k),w=this.outlineColor;w||(w=n.color);var v=this.alpha;if(isNaN(n.alpha)||(v=n.alpha),w={fill:n.color,stroke:w,"stroke-width":this.outlineThickness,"stroke-opacity":this.outlineAlpha,"fill-opacity":v},n.url&&(w.cursor="pointer"),w=e.wedge(c,f,g,p,z,k,d,l,this.depth3D,w,this.gradientRatio,n.pattern,this.path),e.setCN(this,w,"pie-item"),e.setCN(this,w.wedge,"pie-slice"),e.setCN(this,w,n.className,!0),this.addEventListeners(w,n),n.startAngle=p,a[m].wedge=
w,0<b&&(this.chartCreated||w.setAttr("opacity",this.startAlpha)),n.ix=r,n.iy=A,n.wedge=w,n.index=m,v=c.set(),this.labelsEnabled&&this.labelText&&n.percents>=this.hideLabelsPercent){var y=p+z/2;0>y&&(y+=360);360<y&&(y-=360);var C=t;isNaN(n.labelRadius)||(C=n.labelRadius);var B,z=f+r*(k+C),D=g+A*(k+C),I=0;if(isNaN(u)&&350<y&&1<a.length-m&&(u=m-1+Math.floor((a.length-m)/2)),0<=C){var E;90>=y&&0<=y?(E=0,B="start",I=8):90<=y&&180>y?(E=1,B="start",I=8):180<=y&&270>y?(E=2,B="end",I=-8):270<=y&&357>=y?(E=
3,B="end",I=-8):357<=y&&(m>u?(E=0,B="start",I=8):(E=3,B="end",I=-8));n.labelQuarter=E}else B="middle";if(y=this.formatString(this.labelText,n),(C=this.labelFunction)&&(y=C(n,y)),C=n.labelColor,C||(C=this.color),""!==y){y=e.wrappedText(c,y,C,this.fontFamily,this.fontSize,B,!1,this.maxLabelWidth);e.setCN(this,y,"pie-label");e.setCN(this,y,n.className,!0);y.translate(z+1.5*I,D);y.node.style.pointerEvents="none";n.ty=D;n.textX=z+1.5*I;var C=y.getBBox(),L=e.rect(c,C.width+5,C.height+5,"#FFFFFF",.005);
L.translate(z+1.5*I+C.x,D+C.y);n.hitRect=L;v.push(y);v.push(L);this.axesSet.push(v);n.labelSet=v;n.label=y}n.tx=z;n.tx2=z+I;n.tx0=f+r*k;n.ty0=g+A*k}z=l+(k-l)/2;n.pulled&&(z+=this.pullOutRadiusReal);n.balloonX=r*z+f;n.balloonY=A*z+g;n.startX=Math.round(r*q);n.startY=Math.round(A*q);n.pullX=Math.round(r*h);n.pullY=Math.round(A*h);this.graphsSet.push(w);(0===n.alpha||0<b&&!this.chartCreated)&&(w.hide(),v&&v.hide());p+=360*n.percents/100;360<p&&(p-=360)}0<t&&this.arrangeLabels();this.pieXReal=f;this.pieYReal=
g;this.radiusReal=k;this.innerRadiusReal=l;0<t&&this.drawTicks();this.initialStart();this.setDepths()}(a=this.legend)&&a.invalidateSize()}else this.cleanChart();this.dispDUpd();this.chartCreated=!0},setDepths:function(){var a,b=this.chartData;for(a=0;a<b.length;a++){var c=b[a],d=c.wedge,c=c.startAngle;0<=c&&180>c?d.toFront():180<=c&&d.toBack()}},arrangeLabels:function(){var a,b,c=this.chartData,d=c.length;for(b=d-1;0<=b;b--)a=c[b],0!==a.labelQuarter||a.hidden||this.checkOverlapping(b,a,0,!0,0);for(b=
0;d>b;b++)a=c[b],1!=a.labelQuarter||a.hidden||this.checkOverlapping(b,a,1,!1,0);for(b=d-1;0<=b;b--)a=c[b],2!=a.labelQuarter||a.hidden||this.checkOverlapping(b,a,2,!0,0);for(b=0;d>b;b++)a=c[b],3!=a.labelQuarter||a.hidden||this.checkOverlapping(b,a,3,!1,0)},checkOverlapping:function(a,b,c,d,e){var f,g,k=this.chartData,l=k.length,m=b.label;if(m){if(!0===d)for(g=a+1;l>g;g++)k[g].labelQuarter==c&&(f=this.checkOverlappingReal(b,k[g],c))&&(g=l);else for(g=a-1;0<=g;g--)k[g].labelQuarter==c&&(f=this.checkOverlappingReal(b,
k[g],c))&&(g=0);!0===f&&100>e&&isNaN(b.labelRadius)&&(f=b.ty+3*b.iy,b.ty=f,m.translate(b.textX,f),b.hitRect&&(m=m.getBBox(),b.hitRect.translate(b.tx2,f+m.y)),this.checkOverlapping(a,b,c,d,e+1))}},checkOverlappingReal:function(a,b,c){var d=!1,h=a.label,f=b.label;return a.labelQuarter!=c||a.hidden||b.hidden||!f||(h=h.getBBox(),c={},c.width=h.width,c.height=h.height,c.y=a.ty,c.x=a.tx,a=f.getBBox(),f={},f.width=a.width,f.height=a.height,f.y=b.ty,f.x=b.tx,e.hitTest(c,f)&&(d=!0)),d}})})();
PieCharts.themes.light={themeName:"light",PieChart:{color:"#000000",backgroundColor:"#FFFFFF"},PieCoordinateChart:{colors:"#67b7dc #fdd400 #84b761 #cc4748 #cd82ad #2f4074 #448e4d #b7b83f #b9783f #b93e3d #913167".split(" ")},PieStockChart:{colors:"#67b7dc #fdd400 #84b761 #cc4748 #cd82ad #2f4074 #448e4d #b7b83f #b9783f #b93e3d #913167".split(" ")},PieSlicedChart:{colors:"#67b7dc #fdd400 #84b761 #cc4748 #cd82ad #2f4074 #448e4d #b7b83f #b9783f #b93e3d #913167".split(" "),outlineAlpha:1,outlineThickness:2,
labelTickColor:"#000000",labelTickAlpha:.3},PieRectangularChart:{zoomOutButtonColor:"#000000",zoomOutButtonRollOverAlpha:.15,zoomOutButtonImage:"lens.png"},AxisBase:{axisColor:"#000000",axisAlpha:.3,gridAlpha:.1,gridColor:"#000000"},ChartScrollbar:{backgroundColor:"#000000",backgroundAlpha:.12,graphFillAlpha:.5,graphLineAlpha:0,selectedBackgroundColor:"#FFFFFF",selectedBackgroundAlpha:.4,gridAlpha:.15},ChartCursor:{cursorColor:"#000000",color:"#FFFFFF",cursorAlpha:.5},PieLegend:{color:"#000000"},PieGraph:{lineAlpha:.9},
GaugeArrow:{color:"#000000",alpha:.8,nailAlpha:0,innerRadius:"40%",nailRadius:15,startWidth:15,borderAlpha:.8,nailBorderAlpha:0},GaugeAxis:{tickColor:"#000000",tickAlpha:1,tickLength:15,minorTickLength:8,axisThickness:3,axisColor:"#000000",axisAlpha:1,bandAlpha:.8},TrendLine:{lineColor:"#c03246",lineAlpha:.8},AreasSettings:{alpha:.8,color:"#67b7dc",colorSolid:"#003767",unlistedAreasAlpha:.4,unlistedAreasColor:"#000000",outlineColor:"#FFFFFF",outlineAlpha:.5,outlineThickness:.5,rollOverColor:"#3c5bdc",
rollOverOutlineColor:"#FFFFFF",selectedOutlineColor:"#FFFFFF",selectedColor:"#f15135",unlistedAreasOutlineColor:"#FFFFFF",unlistedAreasOutlineAlpha:.5},LinesSettings:{color:"#000000",alpha:.8},ImagesSettings:{alpha:.8,labelColor:"#000000",color:"#000000",labelRollOverColor:"#3c5bdc"},ZoomControl:{buttonRollOverColor:"#3c5bdc",buttonFillColor:"#3994e2",buttonBorderColor:"#3994e2",buttonFillAlpha:.8,gridBackgroundColor:"#FFFFFF",buttonBorderAlpha:0,buttonCornerRadius:2,gridColor:"#FFFFFF",gridBackgroundColor:"#000000",
buttonIconAlpha:.6,gridAlpha:.6,buttonSize:20},SmallMap:{mapColor:"#000000",rectangleColor:"#f15135",backgroundColor:"#FFFFFF",backgroundAlpha:.7,borderThickness:1,borderAlpha:.8},PeriodSelector:{color:"#000000"},PeriodButton:{color:"#000000",background:"transparent",opacity:.7,border:"1px solid rgba(0, 0, 0, .3)",MozBorderRadius:"5px",borderRadius:"5px",margin:"1px",outline:"none",boxSizing:"border-box"},PeriodButtonSelected:{color:"#000000",backgroundColor:"#b9cdf5",border:"1px solid rgba(0, 0, 0, .3)",
MozBorderRadius:"5px",borderRadius:"5px",margin:"1px",outline:"none",opacity:1,boxSizing:"border-box"},PeriodInputField:{color:"#000000",background:"transparent",border:"1px solid rgba(0, 0, 0, .3)",outline:"none"},DataSetSelector:{color:"#000000",selectedBackgroundColor:"#b9cdf5",rollOverBackgroundColor:"#a8b0e4"},DataSetCompareList:{color:"#000000",lineHeight:"100%",boxSizing:"initial",webkitBoxSizing:"initial",border:"1px solid rgba(0, 0, 0, .3)"},DataSetSelect:{border:"1px solid rgba(0, 0, 0, .3)",
outline:"none"}};
